<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0065)node57.html -->
<!--Converted with LaTeX2HTML 98.1p1 release (March 2nd, 1998)
originally by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others --><HTML><HEAD><TITLE>Manipulate an image in RAM</TITLE>
<META content="Manipulate an image in RAM" name=description>
<META content=include_all name=keywords>
<META content=document name=resource-type>
<META content=global name=distribution>
<META content="text/html; charset=iso-8859-1" http-equiv=Content-Type><LINK 
href="node57_files/include_all.css" rel=STYLESHEET><LINK href="node58.htm"
rel=next><LINK href="node56.htm" rel=previous><LINK href="node55.htm"
rel=up><LINK href="node58.htm" rel=next>
<META content="MSHTML 5.00.2614.3500" name=GENERATOR></HEAD>
<BODY><!--Navigation Panel--><A 
href="node58.htm"
name=tex2html861><IMG align=bottom alt=next border=0 height=24 
src="node57_files/next_motif.gif" width=37></A> <A 
href="node55.htm"
name=tex2html857><IMG align=bottom alt=up border=0 height=24 
src="node57_files/up_motif.gif" width=26></A> <A 
href="node56.htm"
name=tex2html851><IMG align=bottom alt=previous border=0 height=24 
src="node57_files/previous_motif.gif" width=63></A> <A 
href="node1.htm"
name=tex2html859><IMG align=bottom alt=contents border=0 height=24 
src="node57_files/contents_motif.gif" width=65></A> <A 
href="node61.htm"
name=tex2html860><IMG align=bottom alt=index border=0 height=24 
src="node57_files/index_motif.gif" width=43></A> <BR><B>Next:</B> <A 
href="node58.htm"
name=tex2html862>Segmentation</A> <B>Up:</B> <A 
href="node55.htm"
name=tex2html858>Apendix: C code from</A> <B>Previous:</B> <A 
href="node56.htm"
name=tex2html852>Create an image in</A> <BR><BR><!--End of Navigation Panel-->
<H2><A name=SECTION000132000000000000000>&nbsp;</A> <A 
name=ap:manipulateanimage:ex1>&nbsp;</A> <BR>Manipulate an image in RAM </H2>C 
code corresponding to the C++ code given at page&nbsp;<A 
href="node31.html#subsec:manipulateanimage:ex1"><IMG
align=bottom alt=[*] border=1 src="node57_files/cross_ref_motif.gif"></A> in 
section&nbsp;<A 
href="node31.html#subsec:manipulateanimage"><IMG
align=bottom alt=[*] border=1 src="node57_files/cross_ref_motif.gif"></A>: 
<P><PRE>void main()
{
   TImage Img1;
   TImage Img2;
   TImage ByteImage; /* only using this image with 8 b/p */
   k_InitImage(&amp;Img1);
   k_InitImage(&amp;Img2);
   kB_InitImage(&amp;ByteImage);

   k_AllocImage(768,512,24,&amp;Img1); /* allocating 768*512 24 b/p image */
   k_AllocImage(768,512,8,&amp;Img2); /* allocating 768*512 8 b/p image */

   k_CopyConvert(1,&amp;Img2,&amp;Img1); /* copy Img1 to Img2 and convert it */
                                 /* from 24 b/p to 1 b/p */
   k_PrintImageInfo(&amp;Img1);
   printf("\n\n");
   k_CopyConvert(1,&amp;Img1,&amp;Img1); /* convert Img1 from 24 b/p to 1 b/p */
                                 /* this is a bit slower */
   printf("After converting Img1: \n");
   k_PrintImageInfo(&amp;Img1);
   printf("\n");

   /* using the normal k_ kernel functions when working with a ByteImage */
   /* the user must be careful only to use 8 as bit depth */
   k_CopyConvert(8,&amp;ByteImage,&amp;Img1); /* copy Img1 to ByteImage and */
                                      /* convert to 8 b/p. */

   k_CopyConvert(1,&amp;ByteImage,&amp;Img1); /* error, CByteImage needs 8 b/p. */
}
</PRE>
<P><BR>
<HR>

<ADDRESS><I>Rene Dencker Eriksen</I> <BR><I>2001-01-31</I> 
</ADDRESS></BODY></HTML>
