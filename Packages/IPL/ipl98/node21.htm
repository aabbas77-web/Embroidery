<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0065)node21.html -->
<!--Converted with LaTeX2HTML 98.1p1 release (March 2nd, 1998)
originally by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others --><HTML><HEAD><TITLE>Timer and date</TITLE>
<META content="Timer and date" name=description>
<META content=include_all name=keywords>
<META content=document name=resource-type>
<META content=global name=distribution>
<META content="text/html; charset=iso-8859-1" http-equiv=Content-Type><LINK 
href="node21_files/include_all.css" rel=STYLESHEET><LINK href="node22.htm"
rel=next><LINK href="node20.htm" rel=previous><LINK href="node17.htm"
rel=up><LINK href="node22.htm" rel=next>
<META content="MSHTML 5.00.2614.3500" name=GENERATOR></HEAD>
<BODY><!--Navigation Panel--><A 
href="node22.htm"
name=tex2html412><IMG align=bottom alt=next border=0 height=24 
src="node21_files/next_motif.gif" width=37></A> <A 
href="node17.htm"
name=tex2html408><IMG align=bottom alt=up border=0 height=24 
src="node21_files/up_motif.gif" width=26></A> <A 
href="node20.htm"
name=tex2html402><IMG align=bottom alt=previous border=0 height=24 
src="node21_files/previous_motif.gif" width=63></A> <A 
href="node1.htm"
name=tex2html410><IMG align=bottom alt=contents border=0 height=24 
src="node21_files/contents_motif.gif" width=65></A> <A 
href="node61.htm"
name=tex2html411><IMG align=bottom alt=index border=0 height=24 
src="node21_files/index_motif.gif" width=43></A> <BR><B>Next:</B> <A 
href="node22.htm"
name=tex2html413>Error handling</A> <B>Up:</B> <A 
href="node17.htm"
name=tex2html409>General information</A> <B>Previous:</B> <A 
href="node20.htm"
name=tex2html403>Two and three dimensional</A> <BR><BR><!--End of Navigation Panel-->
<H2><A name=SECTION00084000000000000000>&nbsp;</A><A name=525>&nbsp;</A><A 
name=526>&nbsp;</A> <BR>Timer and date </H2>The class <TT>CTimeDate</TT><A 
name=528>&nbsp;</A> can be used for two purposes: As a timer or simply to get 
the time and date. When optimizing a program this timer functionality is very 
useful for detecting where most time in the program is spend. The timer is 
started with the method <TT>StartTimer()</TT><A name=530>&nbsp;</A> and stopped 
with <TT>StopTimer()</TT><A name=532>&nbsp;</A>, splittime can be taken with 
<TT>GetTimer()</TT><A name=534>&nbsp;</A>. The timer can be set on hold with 
<TT>HoldTimer()</TT><A name=536>&nbsp;</A> and continued with 
<TT>ContinueTimer()</TT><A name=538>&nbsp;</A>. When receiving the timer from 
either <TT>StopTimer()</TT> or <TT>GetTimer()</TT> the result is in seconds. The 
method <TT>SecondsToHMS(unsigned long Seconds, string&amp; str)</TT><A 
name=542>&nbsp;</A> can convert the seconds to hours, minutes and seconds and 
return the result in the parameter <EM>str</EM><A 
href="footnode.html#foot544"
name=tex2html10><SUP>6</SUP></A>. 
<P>For getting the time in the format HH:MM:SS use the method 
<TT>GetTime(string&amp; str)</TT>, for the date use <TT>GetDate(string&amp; 
str)</TT>. The method <TT>GetDateTimeYear(string&amp; str)</TT> gives all the 
year, date and time information in one string. Here is an example showing how to 
use the class: 
<P><PRE>   CTimeDate td1,td2;
   string str;
   unsigned int x,y;
   td1.StartTimer();
   td1.GetDateTimeYear(str);
   cout &lt;&lt; "This program was run at: " &lt;&lt; str &lt;&lt; endl;

   cout &lt;&lt; "Doing first calculation..." &lt;&lt; endl;
   for(x=0;x&lt;20000;x++){for(y=0;y&lt;4000;y++){}}
   cout &lt;&lt; "Time elapsed after first calculation: " &lt;&lt; td1.GetTimer() &lt;&lt;
      " seconds" &lt;&lt; endl &lt;&lt; endl;

   td2.StartTimer();
   cout &lt;&lt; "Doing second calculation..." &lt;&lt; endl;
   for(x=0;x&lt;40000;x++){for(y=0;y&lt;8000;y++){}}
   cout &lt;&lt; "Time elapsed for second calculation: " &lt;&lt; td2.GetTimer() &lt;&lt;
      " seconds" &lt;&lt; endl;
   cout &lt;&lt; "Total time elapsed: " &lt;&lt; td1.GetTimer() &lt;&lt; " seconds" &lt;&lt; endl;
</PRE>
<P><BR>
<HR>

<ADDRESS><I>Rene Dencker Eriksen</I> <BR><I>2001-01-31</I> 
</ADDRESS></BODY></HTML>
