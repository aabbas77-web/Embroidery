<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link type="text/css" href="../../doxygen.css" rel="stylesheet">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Image Processing Library 98</title>
</head>

<body>
<h2 align="center"><a href="http://www.mip.sdu.dk/ipl98" target="_blank"><img border="0" src="ipl_doc_header.gif" width="694" height="55"></a></h2>

</body>

</html>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/ipl98/cpp/algorithms/mask_operation.cpp</h1><div class="fragment"><pre>00001 <span class="comment">/********************************************************************</span>
00002 <span class="comment">   The Image Processing Library 98 - IPL98</span>
00003 <span class="comment">   Copyright (C) by René Dencker Eriksen - edr@mip.sdu.dk</span>
00004 <span class="comment"></span>
00005 <span class="comment">   This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation. Only</span>
00008 <span class="comment">   addition is, that if the library is used in proprietary software</span>
00009 <span class="comment">   it must be stated that IPL98 was used.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   This library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   More details can be found in the file licence.txt distributed</span>
00016 <span class="comment">   with this library.</span>
00017 <span class="comment">*********************************************************************/</span>
00018 
00019 <span class="preprocessor">#include "mask_operation.h"</span>
00020 <span class="preprocessor">#include "../../kernel_c/algorithms/kernel_mask_operation.h"</span>
00021 <span class="preprocessor">#include "../../kernel_c/kernel_history.h"</span>
00022 
00023 <span class="keyword">namespace </span>ipl{
00024 
<a name="l00025"></a><a class="code" href="classipl_1_1CMaskOperation.html#a0">00025</a> CMaskOperation::CMaskOperation()
00026 {
00027 }
00028 
<a name="l00029"></a><a class="code" href="classipl_1_1CMaskOperation.html#a1">00029</a> CMaskOperation::~CMaskOperation()
00030 {
00031 }
00032 
<a name="l00033"></a><a class="code" href="classipl_1_1CMaskOperation.html#a2">00033</a> <span class="keywordtype">bool</span> CMaskOperation::Convolve(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Img,<span class="keyword">const</span> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Mask)
00034 {
00035 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00036 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00037         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00038         k_InitString(&amp;History);
00039         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::Convolve() source/dest: CStdImage, with a %d*%d mask"</span>,
00040                 ipl_HistoryIndent,Mask.<a class="code" href="classipl_1_1CFloatImage.html#a32">GetWidth</a>(),Mask.<a class="code" href="classipl_1_1CFloatImage.html#a33">GetHeight</a>());
00041         Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00042         k_EmptyString(&amp;History);
00043         k_IplStartHistoryMacro();
00044 <span class="preprocessor">#endif</span>
00045 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_ConvolveByteToByte(Img.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>(),Mask.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>());
00046         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00047         {
00048                 ostringstream ost;
00049                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::Convolve() failed"</span> &lt;&lt; IPLAddFileAndLine;
00050                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00051 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00052 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00053                 Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00054 <span class="preprocessor">#endif</span>
00055 <span class="preprocessor"></span>        }
00056 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00057 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00058         k_IplStopHistoryMacro();
00059 <span class="preprocessor">#endif</span>
00060 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;     
00061 }
00062 
<a name="l00063"></a><a class="code" href="classipl_1_1CMaskOperation.html#a3">00063</a> <span class="keywordtype">bool</span> CMaskOperation::Convolve(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Source,<span class="keyword">const</span> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Mask,<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Dest)
00064 {
00065 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00066 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00067         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00068         k_InitString(&amp;History);
00069         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::Convolve() source: CStdImage, dest:CIntImage, with a %d*%d mask"</span>,
00070                 ipl_HistoryIndent,Mask.<a class="code" href="classipl_1_1CFloatImage.html#a32">GetWidth</a>(),Mask.<a class="code" href="classipl_1_1CFloatImage.html#a33">GetHeight</a>());
00071         Source.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00072         k_EmptyString(&amp;History);
00073         k_IplStartHistoryMacro();
00074 <span class="preprocessor">#endif</span>
00075 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_ConvolveByteToInt(Source.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>(),
00076                                 Mask.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>(),Dest.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00077         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00078         {
00079                 ostringstream ost;
00080                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::Convolve() failed"</span> &lt;&lt; IPLAddFileAndLine;
00081                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00082         }
00083 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00084 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00085         k_IplStopHistoryMacro();
00086         <span class="comment">/* remove the history line added to source above */</span>
00087         Source.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00088 <span class="preprocessor">#endif</span>
00089 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00090 }
00091 
<a name="l00092"></a><a class="code" href="classipl_1_1CMaskOperation.html#a4">00092</a> <span class="keywordtype">bool</span> CMaskOperation::Convolve(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Img,<span class="keyword">const</span> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Mask)
00093 {
00094 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00095 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00096         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00097         k_InitString(&amp;History);
00098         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::Convolve() source/dest: CIntImage, with a %d*%d mask"</span>,
00099                 ipl_HistoryIndent,Mask.<a class="code" href="classipl_1_1CFloatImage.html#a32">GetWidth</a>(),Mask.<a class="code" href="classipl_1_1CFloatImage.html#a33">GetHeight</a>());
00100         Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00101         k_EmptyString(&amp;History);
00102         k_IplStartHistoryMacro();
00103 <span class="preprocessor">#endif</span>
00104 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_ConvolveIntToInt(Img.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),Mask.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>());
00105         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00106         {
00107                 ostringstream ost;
00108                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::Convolve() failed"</span> &lt;&lt; IPLAddFileAndLine;
00109                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00110 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00111 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00112                 Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00113 <span class="preprocessor">#endif</span>
00114 <span class="preprocessor"></span>        }
00115 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00116 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00117         k_IplStopHistoryMacro();
00118 <span class="preprocessor">#endif</span>
00119 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00120 }
00121 
<a name="l00122"></a><a class="code" href="classipl_1_1CMaskOperation.html#a5">00122</a> <span class="keywordtype">bool</span> CMaskOperation::Convolve(<a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Img,<span class="keyword">const</span> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Mask)
00123 {
00124 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00125 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00126         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00127         k_InitString(&amp;History);
00128         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::Convolve() source/dest: CFloatImage, with a %d*%d mask"</span>,
00129                 ipl_HistoryIndent,Mask.<a class="code" href="classipl_1_1CFloatImage.html#a32">GetWidth</a>(),Mask.<a class="code" href="classipl_1_1CFloatImage.html#a33">GetHeight</a>());
00130         Img.<a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00131         k_EmptyString(&amp;History);
00132         k_IplStartHistoryMacro();
00133 <span class="preprocessor">#endif</span>
00134 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_ConvolveFloatToFloat(Img.<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>(),Mask.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>());
00135         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00136         {
00137                 ostringstream ost;
00138                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::Convolve() failed"</span> &lt;&lt; IPLAddFileAndLine;
00139                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00140 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00141 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00142                 Img.<a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00143 <span class="preprocessor">#endif</span>
00144 <span class="preprocessor"></span>        }
00145 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00146 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00147         k_IplStopHistoryMacro();
00148 <span class="preprocessor">#endif</span>
00149 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00150 }
00151 
<a name="l00152"></a><a class="code" href="classipl_1_1CMaskOperation.html#a6">00152</a> <span class="keywordtype">bool</span> CMaskOperation::BlurFourConnected3x3(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Img)
00153 {
00154 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00155 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00156         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00157         k_InitString(&amp;History);
00158         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::BlurFourConnected3x3()"</span>,ipl_HistoryIndent);
00159         Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00160         k_EmptyString(&amp;History);
00161         k_IplStartHistoryMacro();
00162 <span class="preprocessor">#endif</span>
00163 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_BlurFourConnected3x3(Img.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>());
00164         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00165         {
00166                 ostringstream ost;
00167                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::BlurFourConnected3x3() failed"</span> &lt;&lt; IPLAddFileAndLine;
00168                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00169 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00170 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00171                 Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00172 <span class="preprocessor">#endif</span>
00173 <span class="preprocessor"></span>        }
00174 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00175 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00176         k_IplStopHistoryMacro();
00177 <span class="preprocessor">#endif</span>
00178 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00179 }
00180 
<a name="l00181"></a><a class="code" href="classipl_1_1CMaskOperation.html#a7">00181</a> <span class="keywordtype">bool</span> CMaskOperation::BlurEightConnected3x3(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Img)
00182 {
00183 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00184 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00185         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00186         k_InitString(&amp;History);
00187         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::BlurEightConnected3x3()"</span>,ipl_HistoryIndent);
00188         Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00189         k_EmptyString(&amp;History);
00190         k_IplStartHistoryMacro();
00191 <span class="preprocessor">#endif</span>
00192 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_BlurEightConnected3x3(Img.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>());
00193         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00194         {
00195                 ostringstream ost;
00196                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::BlurEightConnected3x3() failed"</span> &lt;&lt; IPLAddFileAndLine;
00197                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00198 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00199 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00200                 Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00201 <span class="preprocessor">#endif</span>
00202 <span class="preprocessor"></span>        }
00203 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00204 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00205         k_IplStopHistoryMacro();
00206 <span class="preprocessor">#endif</span>
00207 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00208 }
00209 
<a name="l00210"></a><a class="code" href="classipl_1_1CMaskOperation.html#a8">00210</a> <span class="keywordtype">bool</span> CMaskOperation::BlurEightConnected3x3(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Img)
00211 {
00212 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00213 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00214         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00215         k_InitString(&amp;History);
00216         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::BlurEightConnected3x3()"</span>,ipl_HistoryIndent);
00217         Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00218         k_EmptyString(&amp;History);
00219         k_IplStartHistoryMacro();
00220 <span class="preprocessor">#endif</span>
00221 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_BlurEightConnected3x3Int(Img.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00222         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00223         {
00224                 ostringstream ost;
00225                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::BlurEightConnected3x3() failed"</span> &lt;&lt; IPLAddFileAndLine;
00226                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00227 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00228 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00229                 Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00230 <span class="preprocessor">#endif</span>
00231 <span class="preprocessor"></span>        }
00232 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00233 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00234         k_IplStopHistoryMacro();
00235 <span class="preprocessor">#endif</span>
00236 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00237 }
00238 
<a name="l00239"></a><a class="code" href="classipl_1_1CMaskOperation.html#a9">00239</a> <span class="keywordtype">bool</span> CMaskOperation::ConvolveFast(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Img,<span class="keyword">const</span> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Mask,<span class="keywordtype">float</span> Prefactor)
00240 {
00241 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00242 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00243         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00244         k_InitString(&amp;History);
00245         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::ConvolveFast() source/dest: CStdImage, prefactor=%g"</span>,
00246                 ipl_HistoryIndent,Prefactor);
00247         Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00248         k_EmptyString(&amp;History);
00249         k_IplStartHistoryMacro();
00250 <span class="preprocessor">#endif</span>
00251 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_ConvolveFastByteToByte(Img.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>(),
00252                 Mask.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>(),Prefactor);
00253         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00254         {
00255                 ostringstream ost;
00256                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::ConvolveFast() failed"</span> &lt;&lt; IPLAddFileAndLine;
00257                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00258 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00259 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00260                 Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00261 <span class="preprocessor">#endif</span>
00262 <span class="preprocessor"></span>        }
00263 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00264 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00265         k_IplStopHistoryMacro();
00266 <span class="preprocessor">#endif</span>
00267 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00268 }
00269 
<a name="l00270"></a><a class="code" href="classipl_1_1CMaskOperation.html#a10">00270</a> <span class="keywordtype">bool</span> CMaskOperation::ConvolveFast(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Source,<span class="keyword">const</span> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Mask,
00271         <span class="keywordtype">float</span> Prefactor, <a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Dest)
00272 { 
00273 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00274 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00275         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00276         k_InitString(&amp;History);
00277         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::ConvolveFast() source: CStdImage, dest:CIntImage, prefactor=%g"</span>,
00278                 ipl_HistoryIndent,Prefactor);
00279         Source.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00280         k_EmptyString(&amp;History);
00281         k_IplStartHistoryMacro();
00282 <span class="preprocessor">#endif</span>
00283 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_ConvolveFastByteToInt(Source.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>(),
00284                 Mask.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>(),Prefactor, Dest.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00285         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00286         {
00287                 ostringstream ost;
00288                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::ConvolveFast() failed"</span> &lt;&lt; IPLAddFileAndLine;
00289                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00290         }
00291 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00292 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00293         k_IplStopHistoryMacro();
00294         <span class="comment">/* remove the history line added to source above */</span>
00295         Source.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00296 <span class="preprocessor">#endif</span>
00297 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00298 }
00299 
<a name="l00300"></a><a class="code" href="classipl_1_1CMaskOperation.html#a11">00300</a> <span class="keywordtype">bool</span> CMaskOperation::ConvolveFast(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Img,<span class="keyword">const</span> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Mask,
00301         <span class="keywordtype">float</span> Prefactor)
00302 {
00303 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00304 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00305         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00306         k_InitString(&amp;History);
00307         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::ConvolveFast() source/dest: CIntImage, prefactor=%g"</span>,
00308                 ipl_HistoryIndent,Prefactor);
00309         Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00310         k_EmptyString(&amp;History);
00311         k_IplStartHistoryMacro();
00312 <span class="preprocessor">#endif</span>
00313 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_ConvolveFastIntToInt(Img.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),
00314                         Mask.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>(),Prefactor);
00315         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00316         {
00317                 ostringstream ost;
00318                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::ConvolveFast() failed"</span> &lt;&lt; IPLAddFileAndLine;
00319                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00320 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00321 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00322                 Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00323 <span class="preprocessor">#endif</span>
00324 <span class="preprocessor"></span>        }
00325 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00326 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00327         k_IplStopHistoryMacro();
00328 <span class="preprocessor">#endif</span>
00329 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00330 }
00331 
<a name="l00332"></a><a class="code" href="classipl_1_1CMaskOperation.html#a12">00332</a> <span class="keywordtype">bool</span> CMaskOperation::MaxGradientFast(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Img,<span class="keywordtype">float</span> Prefactor)
00333 {
00334 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00335 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00336         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00337         k_InitString(&amp;History);
00338         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::MaxGradientFast() source/dest: CStdImage prefactor=%g"</span>,
00339                 ipl_HistoryIndent,Prefactor);
00340         Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00341         k_EmptyString(&amp;History);
00342         k_IplStartHistoryMacro();
00343 <span class="preprocessor">#endif</span>
00344 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_MaxGradientFastByteToByte(Img.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>(),Prefactor);
00345         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00346         {
00347                 ostringstream ost;
00348                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::MaxGradientFast() failed"</span> &lt;&lt; IPLAddFileAndLine;
00349                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00350 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00351 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00352                 Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00353 <span class="preprocessor">#endif</span>
00354 <span class="preprocessor"></span>        }
00355 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00356 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00357         k_IplStopHistoryMacro();
00358 <span class="preprocessor">#endif</span>
00359 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00360 }
00361 
<a name="l00362"></a><a class="code" href="classipl_1_1CMaskOperation.html#a13">00362</a> <span class="keywordtype">bool</span> CMaskOperation::MaxGradientFast(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Source,<span class="keywordtype">float</span> Prefactor,<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Dest)
00363 {
00364 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00365 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00366         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00367         k_InitString(&amp;History);
00368         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::MaxGradientFast() source: CStdImage, dest:CIntImage"</span>,
00369                 ipl_HistoryIndent);
00370         Source.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00371         k_EmptyString(&amp;History);
00372         k_IplStartHistoryMacro();
00373 <span class="preprocessor">#endif</span>
00374 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_MaxGradientFastByteToInt(Source.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>(),Prefactor,
00375                 Dest.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00376         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00377         {
00378                 ostringstream ost;
00379                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::MaxGradientFast() failed"</span> &lt;&lt; IPLAddFileAndLine;
00380                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00381         }
00382 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00383 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00384         k_IplStopHistoryMacro();
00385         <span class="comment">/* remove the history line added to source above */</span>
00386         Source.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00387 <span class="preprocessor">#endif</span>
00388 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00389 }
00390 
<a name="l00391"></a><a class="code" href="classipl_1_1CMaskOperation.html#a14">00391</a> <span class="keywordtype">bool</span> CMaskOperation::MaxGradientFast(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Img,<span class="keywordtype">float</span> Prefactor)
00392 {
00393 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00394 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00395         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00396         k_InitString(&amp;History);
00397         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::MaxGradientFast() source/dest: CIntImage prefactor=%g"</span>,
00398                 ipl_HistoryIndent,Prefactor);
00399         Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00400         k_EmptyString(&amp;History);
00401         k_IplStartHistoryMacro();
00402 <span class="preprocessor">#endif</span>
00403 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_MaxGradientFastIntToInt(Img.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),Prefactor);
00404         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00405         {
00406                 ostringstream ost;
00407                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::MaxGradientFast() failed"</span> &lt;&lt; IPLAddFileAndLine;
00408                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00409 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00410 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00411                 Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00412 <span class="preprocessor">#endif</span>
00413 <span class="preprocessor"></span>        }
00414 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00415 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00416         k_IplStopHistoryMacro();
00417 <span class="preprocessor">#endif</span>
00418 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00419 }
00420 
<a name="l00421"></a><a class="code" href="classipl_1_1CMaskOperation.html#a15">00421</a> <span class="keywordtype">bool</span> CMaskOperation::MedianFilterFourConnected3x3(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Img)
00422 {
00423 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00424 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00425         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00426         k_InitString(&amp;History);
00427         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::MedianFilterFourConnected3x3() source/dest: CStdImage"</span>,
00428                 ipl_HistoryIndent);
00429         Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00430         k_EmptyString(&amp;History);
00431         k_IplStartHistoryMacro();
00432 <span class="preprocessor">#endif</span>
00433 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_MedianFilterFourConnected3x3(Img.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>());
00434         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00435         {
00436                 ostringstream ost;
00437                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::MedianFilterFourConnected3x3() failed"</span> &lt;&lt; IPLAddFileAndLine;
00438                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00439 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00440 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00441                 Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00442 <span class="preprocessor">#endif</span>
00443 <span class="preprocessor"></span>        }
00444 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00445 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00446         k_IplStopHistoryMacro();
00447 <span class="preprocessor">#endif</span>
00448 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00449 }
00450 
<a name="l00451"></a><a class="code" href="classipl_1_1CMaskOperation.html#a16">00451</a> <span class="keywordtype">bool</span> CMaskOperation::MedianFilterDiagonalConnected3x3(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Img)
00452 {
00453 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00454 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00455         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00456         k_InitString(&amp;History);
00457         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::MedianFilterDiagonalConnected3x3() source/dest: CStdImage"</span>,
00458                 ipl_HistoryIndent);
00459         Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00460         k_EmptyString(&amp;History);
00461         k_IplStartHistoryMacro();
00462 <span class="preprocessor">#endif</span>
00463 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_MedianFilterDiagonalConnected3x3(Img.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>());
00464         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00465         {
00466                 ostringstream ost;
00467                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::MedianFilterDiagonalConnected3x3() failed"</span> &lt;&lt; IPLAddFileAndLine;
00468                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00469 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00470 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00471                 Img.<a class="code" href="classipl_1_1CStdImage.html#m1">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00472 <span class="preprocessor">#endif</span>
00473 <span class="preprocessor"></span>        }
00474 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00475 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00476         k_IplStopHistoryMacro();
00477 <span class="preprocessor">#endif</span>
00478 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00479 }
00480 
<a name="l00481"></a><a class="code" href="classipl_1_1CMaskOperation.html#a17">00481</a> <span class="keywordtype">bool</span> CMaskOperation::MedianFilterFourConnected3x3(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Img)
00482 {
00483 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00484 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00485         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00486         k_InitString(&amp;History);
00487         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::MedianFilterFourConnected3x3() source/dest: CIntImage"</span>,
00488                 ipl_HistoryIndent);
00489         Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00490         k_EmptyString(&amp;History);
00491         k_IplStartHistoryMacro();
00492 <span class="preprocessor">#endif</span>
00493 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_MedianFilterFourConnected3x3Int(Img.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00494         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00495         {
00496                 ostringstream ost;
00497                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::MedianFilterFourConnected3x3() failed"</span> &lt;&lt; IPLAddFileAndLine;
00498                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00499 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00500 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00501                 Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00502 <span class="preprocessor">#endif</span>
00503 <span class="preprocessor"></span>        }
00504 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00505 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00506         k_IplStopHistoryMacro();
00507 <span class="preprocessor">#endif</span>
00508 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00509 }
00510 
<a name="l00511"></a><a class="code" href="classipl_1_1CMaskOperation.html#a18">00511</a> <span class="keywordtype">bool</span> CMaskOperation::MedianFilterDiagonalConnected3x3(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Img)
00512 {
00513 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00514 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00515         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00516         k_InitString(&amp;History);
00517         k_SprintfString(&amp;History,<span class="stringliteral">"%sCMaskOperation::MedianFilterDiagonalConnected3x3() source/dest: CIntImage"</span>,
00518                 ipl_HistoryIndent);
00519         Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00520         k_EmptyString(&amp;History);
00521         k_IplStartHistoryMacro();
00522 <span class="preprocessor">#endif</span>
00523 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=k_MedianFilterDiagonalConnected3x3Int(Img.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00524         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00525         {
00526                 ostringstream ost;
00527                 ost &lt;&lt; <span class="stringliteral">"CMaskOperation::MedianFilterDiagonalConnected3x3() failed"</span> &lt;&lt; IPLAddFileAndLine;
00528                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00529 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00530 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added to source above */</span>
00531                 Img.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00532 <span class="preprocessor">#endif</span>
00533 <span class="preprocessor"></span>        }
00534 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00535 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00536         k_IplStopHistoryMacro();
00537 <span class="preprocessor">#endif</span>
00538 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00539 }
00540 
00541 } <span class="comment">// end ipl namespace</span>
</pre></div><!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Tag</title>
<base target="_top">
</head>

<body bgcolor="#FFFFFF">

<hr>

<p align="right"><font size="2"><em>Updated <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d. %B %Y %H:%M" startspan -->21. juli 2002 12:29<!--webbot bot="Timestamp" endspan i-checksum="38834" --> by
<a href="http://www.mip.sdu.dk/~edr/">René Dencker
Eriksen</a>(<a href="mailto:edr@mip.sdu.dk">edr@mip.sdu.dk</a>)</em></font></p>
</body>
</html>
