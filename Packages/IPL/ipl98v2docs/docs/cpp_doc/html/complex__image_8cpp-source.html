<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link type="text/css" href="../../doxygen.css" rel="stylesheet">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Image Processing Library 98</title>
</head>

<body>
<h2 align="center"><a href="http://www.mip.sdu.dk/ipl98" target="_blank"><img border="0" src="ipl_doc_header.gif" width="694" height="55"></a></h2>

</body>

</html>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/ipl98/cpp/complex_image.cpp</h1><div class="fragment"><pre>00001 <span class="comment">/********************************************************************</span>
00002 <span class="comment">   The Image Processing Library 98 - IPL98</span>
00003 <span class="comment">   Copyright (C) by René Dencker Eriksen - edr@mip.sdu.dk</span>
00004 <span class="comment"></span>
00005 <span class="comment">   This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation. Only</span>
00008 <span class="comment">   addition is, that if the library is used in proprietary software</span>
00009 <span class="comment">   it must be stated that IPL98 was used.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   This library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   More details can be found in the file licence.txt distributed</span>
00016 <span class="comment">   with this library.</span>
00017 <span class="comment">*********************************************************************/</span>
00018 
00019 <span class="preprocessor">#include "complex_image.h"</span>
00020 <span class="preprocessor">#include "std_image.h"</span>
00021 <span class="preprocessor">#include "int_image.h"</span>
00022 <span class="preprocessor">#include "float_image.h"</span>
00023 <span class="preprocessor">#include "../kernel_c/kernel_history.h"</span>
00024 
00025 <span class="keyword">namespace </span>ipl{
00026 
<a name="l00027"></a><a class="code" href="classipl_1_1CComplexImage.html#a0">00027</a> CComplexImage::CComplexImage()
00028 : m_History(&amp;m_Image.History)
00029 {
00030         <span class="comment">// default constructor</span>
00031         kC_InitImage(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>); <span class="comment">// always initialise m_Image in constr.</span>
00032         kC_EmptyImage(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>); <span class="comment">// start with empty</span>
00033         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00034 }
00035 
<a name="l00036"></a><a class="code" href="classipl_1_1CComplexImage.html#a1">00036</a> CComplexImage::CComplexImage(UINT32 Width, UINT32 Height, FLOAT32 ReAndIm)
00037 : m_History(&amp;m_Image.History)
00038 {
00039         <span class="comment">//constr. for empty image</span>
00040         kC_InitImage(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>); <span class="comment">// always initialise m_Image in constr.</span>
00041         kC_AllocImage(Width,Height,&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00042         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00043         <span class="keywordflow">if</span> (ReAndIm!=0)
00044                 <a class="code" href="classipl_1_1CComplexImage.html#a19">Flush</a>(ReAndIm,ReAndIm);
00045 }
00046 
<a name="l00047"></a><a class="code" href="classipl_1_1CComplexImage.html#a2">00047</a> CComplexImage::CComplexImage(<span class="keyword">const</span> <a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a>&amp; SourceImage)
00048 : m_History(&amp;m_Image.History)
00049 {       <span class="comment">// copy constructor</span>
00050         kC_InitImage(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>); <span class="comment">// always initialise m_Image in constr.</span>
00051         *<span class="keyword">this</span>=SourceImage; <span class="comment">// use assignment operator</span>
00052 }
00053 
<a name="l00054"></a><a class="code" href="classipl_1_1CComplexImage.html#a3">00054</a> <a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a>&amp; CComplexImage::operator=(<span class="keyword">const</span> <a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a>&amp; SourceImage)
00055 {
00056         <span class="comment">// overloading of assignment operator</span>
00057         <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;SourceImage)
00058         {
00059                 <span class="comment">// ok to do assignment</span>
00060                 kC_EmptyImage(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>); <span class="comment">// empty image in all cases</span>
00061                 <span class="comment">// no copying if source is empty</span>
00062                 <span class="keywordflow">if</span> (SourceImage.<a class="code" href="classipl_1_1CComplexImage.html#a58">GetOrigin</a>()!=EMPTY)
00063                 {
00064 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00065 <span class="preprocessor"></span>                        <span class="comment">/* add comment to history, done by adding to source and removing later (hack) */</span>
00066                         k_IplStartHistoryMacro();
00067 <span class="preprocessor">#endif</span>
00068 <span class="preprocessor"></span>                        <span class="comment">/* call kernel function */</span>
00069                         kC_CopyImage(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>,SourceImage.<a class="code" href="classipl_1_1CComplexImage.html#a51">GetConstTComplexImagePtr</a>());
00070                         <span class="comment">/* set pointers */</span>
00071                         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a4">SetTextPtr</a>(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m1">History</a>);
00072                         <span class="comment">/* copy ROI */</span>
00073                         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=SourceImage.<a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>;
00074                         <span class="keywordflow">if</span> (<a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>==<span class="keyword">true</span>)
00075                         {
00076                                 <a class="code" href="classipl_1_1CGenericImage.html#n1">m_ROIUpperLeft</a>=SourceImage.<a class="code" href="classipl_1_1CGenericImage.html#n1">m_ROIUpperLeft</a>;
00077                                 <a class="code" href="classipl_1_1CGenericImage.html#n2">m_ROILowerRight</a>=SourceImage.<a class="code" href="classipl_1_1CGenericImage.html#n2">m_ROILowerRight</a>;
00078                         }
00079 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00080 <span class="preprocessor"></span>                        <span class="comment">/* this is a really bad hack! Removing the last line added by the C code from</span>
00081 <span class="comment">                           this objects history, inserting the C++ line and appending the just removed</span>
00082 <span class="comment">                           line again. This assumes that only one line is added by the C code. */</span>
00083                         string HistoryTemp;
00084                         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00085                         k_InitString(&amp;History);
00086                         <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00087                         k_IplStopHistoryMacro();
00088                         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::operator="</span>,ipl_HistoryIndent);
00089                         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a12">GetItem</a>(<a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a13">TotalItems</a>()-1,HistoryTemp);
00090                         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00091                         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00092                         <span class="keywordtype">int</span> k=HistoryTemp.find_first_of(<span class="stringliteral">"\t"</span>);
00093                         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(HistoryTemp.substr(k,HistoryTemp.size()-1-k));
00094                         k_EmptyString(&amp;History);
00095 <span class="preprocessor">#endif</span>
00096 <span class="preprocessor"></span>                }
00097         }
00098         <span class="keywordflow">else</span>
00099         {
00100                 ostringstream ost;
00101                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::operator=() Cannot assign CComplexImage to itself"</span> &lt;&lt; IPLAddFileAndLine;
00102                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00103         }
00104         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00105 }
00106 
<a name="l00107"></a><a class="code" href="classipl_1_1CComplexImage.html#a4">00107</a> CComplexImage::~CComplexImage()
00108 {
00109         <span class="comment">//destructor</span>
00110         kC_EmptyImage(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00111 }
00112 
<a name="l00113"></a><a class="code" href="classipl_1_1CComplexImage.html#a5">00113</a> <span class="keywordtype">bool</span> CComplexImage::Alloc(UINT32 Width, UINT32 Height, FLOAT32 ReAndIm)
00114 {
00115         <span class="keywordtype">bool</span> result=kC_AllocImage(Width,Height,&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00116         <span class="keywordflow">if</span> (result==<span class="keyword">false</span>)
00117         {
00118                 ostringstream ost;
00119                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Alloc() Failed allocating image"</span> &lt;&lt; IPLAddFileAndLine;
00120                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00121         }
00122         <span class="keywordflow">else</span>
00123         {
00124                 <span class="keywordflow">if</span> (ReAndIm!=0)
00125                         <a class="code" href="classipl_1_1CComplexImage.html#a19">Flush</a>(ReAndIm,ReAndIm);
00126         }
00127         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00128         <span class="keywordflow">return</span> result;
00129 }
00130 
<a name="l00131"></a><a class="code" href="classipl_1_1CComplexImage.html#a6">00131</a> <span class="keywordtype">bool</span> CComplexImage::AllocFast(UINT32 Width, UINT32 Height)
00132 {
00133         <span class="keywordtype">bool</span> result=kC_AllocImageFast(Width,Height,&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00134         <span class="keywordflow">if</span> (result==<span class="keyword">false</span>)
00135         {
00136                 ostringstream ost;
00137                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::AllocFast(): Failed allocating image"</span> &lt;&lt; IPLAddFileAndLine;
00138                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00139         }
00140         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00141         <span class="keywordflow">return</span> result;
00142 }
00143 
<a name="l00144"></a><a class="code" href="classipl_1_1CComplexImage.html#a7">00144</a> <span class="keywordtype">bool</span> CComplexImage::Load(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName)
00145 {
00146 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00147 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00148         <a class="code" href="classipl_1_1CText.html">CText</a> TempHistory;
00149         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00150         k_InitString(&amp;History);
00151         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Load(%s)"</span>,ipl_HistoryIndent,pPathAndFileName);
00152         TempHistory.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00153         k_EmptyString(&amp;History);
00154         k_IplStartHistoryMacro();
00155 <span class="preprocessor">#endif</span>
00156 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00157         <span class="keywordtype">bool</span> ReturnValue=kC_Load(pPathAndFileName,&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00158         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">true</span>)
00159         {
00160                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00161 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00162 <span class="preprocessor"></span>                <span class="comment">/* append the new created history in kC_Load to the temporary history and</span>
00163 <span class="comment">                   copy the temporary history back to this objects history */</span>
00164                 TempHistory.<a class="code" href="classipl_1_1CText.html#a15">AddDate</a>(<span class="keyword">false</span>);
00165                 TempHistory.<a class="code" href="classipl_1_1CText.html#a14">AddTime</a>(<span class="keyword">false</span>);
00166                 <span class="keywordtype">bool</span> AddDate=<a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a15">AddDate</a>(<span class="keyword">false</span>);
00167                 <span class="keywordtype">bool</span> AddTime=<a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a14">AddTime</a>(<span class="keyword">false</span>);
00168                 TempHistory.<a class="code" href="classipl_1_1CText.html#a24">AppendCText</a>(<a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>);
00169                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>=TempHistory;
00170                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a15">AddDate</a>(AddDate);
00171                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a14">AddTime</a>(AddTime);
00172 <span class="preprocessor">#endif</span>
00173 <span class="preprocessor"></span>        }
00174         <span class="keywordflow">else</span>
00175         {
00176                 <span class="comment">// load failed</span>
00177                 ostringstream ost;
00178                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Load() Loading failed"</span> &lt;&lt; IPLAddFileAndLine;
00179                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00180         }
00181 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00182 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00183         k_IplStopHistoryMacro();
00184 <span class="preprocessor">#endif</span>
00185 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00186 }
00187 
<a name="l00188"></a><a class="code" href="classipl_1_1CComplexImage.html#a8">00188</a> <span class="keywordtype">bool</span> CComplexImage::Load(<span class="keyword">const</span> string&amp; PathAndFileName)
00189 {
00190         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CComplexImage.html#a7">Load</a>(PathAndFileName.c_str());
00191 }
00192 
<a name="l00193"></a><a class="code" href="classipl_1_1CComplexImage.html#a9">00193</a> <span class="keywordtype">bool</span> CComplexImage::Save(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName)
00194 {
00195 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00196 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00197         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00198         k_InitString(&amp;History);
00199         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Save(%s)"</span>,ipl_HistoryIndent,pPathAndFileName);
00200         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00201         k_EmptyString(&amp;History);
00202         k_IplStartHistoryMacro();
00203 <span class="preprocessor">#endif</span>
00204 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00205         <span class="keywordtype">bool</span> ReturnValue=kC_Save(pPathAndFileName,&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00206         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00207         {       
00208                 <span class="comment">// load failed</span>
00209                 ostringstream ost;
00210                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Save() Saving failed"</span> &lt;&lt; IPLAddFileAndLine;
00211                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00212 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00213 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00214                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00215 <span class="preprocessor">#endif</span>
00216 <span class="preprocessor"></span>        }
00217 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00218 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00219         k_IplStopHistoryMacro();
00220 <span class="preprocessor">#endif</span>
00221 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00222 }
00223 
<a name="l00224"></a><a class="code" href="classipl_1_1CComplexImage.html#a10">00224</a> <span class="keywordtype">bool</span> CComplexImage::Save(<span class="keyword">const</span> string&amp; PathAndFileName)
00225 {
00226         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CComplexImage.html#a9">Save</a>(PathAndFileName.c_str());
00227 }
00228 
<a name="l00229"></a><a class="code" href="classipl_1_1CComplexImage.html#a11">00229</a> <span class="keywordtype">void</span> CComplexImage::Empty()
00230 {
00231         <span class="comment">// Deletes all allocated memory for image</span>
00232         <span class="comment">// and resets variables</span>
00233         kC_EmptyImage(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00234         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00235 }
00236 
<a name="l00237"></a><a class="code" href="classipl_1_1CComplexImage.html#a13">00237</a> <span class="keywordtype">bool</span> CComplexImage::GetFileName(string&amp; Str)
00238 {
00239         Str.erase();
00240         <span class="keywordflow">if</span> (<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>!=NULL)
00241         {
00242                 Str.append(<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>);
00243                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00244         }
00245         <span class="keywordflow">else</span>
00246                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00247 }
00248 
<a name="l00249"></a><a class="code" href="classipl_1_1CComplexImage.html#a14">00249</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* CComplexImage::GetFileName()
00250 {
00251         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>;
00252 }
00253 
<a name="l00254"></a><a class="code" href="classipl_1_1CComplexImage.html#a15">00254</a> <span class="keywordtype">bool</span> CComplexImage::GetPathName(string&amp; Str)
00255 {
00256         Str.erase();
00257         <span class="keywordflow">if</span> (<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>!=NULL)
00258         {
00259                 Str.append(<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>);
00260                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00261         }
00262         <span class="keywordflow">else</span>
00263                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00264 }
00265 
<a name="l00266"></a><a class="code" href="classipl_1_1CComplexImage.html#a16">00266</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* CComplexImage::GetPathName()
00267 {
00268         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>;
00269 }
00270 
<a name="l00271"></a><a class="code" href="classipl_1_1CComplexImage.html#a17">00271</a> <span class="keywordtype">bool</span> CComplexImage::GetPathAndFileName(string&amp; Str)
00272 {
00273         Str.erase();
00274         <span class="keywordflow">if</span> (<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>!=NULL)
00275         {
00276                 Str.append(<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>);
00277                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00278         }
00279         <span class="keywordflow">else</span>
00280                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00281 }
00282 
<a name="l00283"></a><a class="code" href="classipl_1_1CComplexImage.html#a18">00283</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* CComplexImage::GetPathAndFileName()
00284 {
00285         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>;
00286 }
00287 
<a name="l00288"></a><a class="code" href="classipl_1_1CComplexImage.html#a19">00288</a> <span class="keywordtype">bool</span> CComplexImage::Flush(FLOAT32 Re, FLOAT32 Im)
00289 {
00290 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00291 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00292         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00293         k_InitString(&amp;History);
00294         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Flush() Re=%g Im=%g"</span>,ipl_HistoryIndent,Re,Im);
00295         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00296         k_EmptyString(&amp;History);
00297         k_IplStartHistoryMacro();
00298 <span class="preprocessor">#endif</span>
00299 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00300         <span class="keywordtype">bool</span> ReturnValue=kC_FlushImage(Re,Im,&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00301         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00302         {
00303                 ostringstream ost;
00304                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Flush() Flush failed - image is empty"</span> &lt;&lt; IPLAddFileAndLine;
00305                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00306 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00307 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00308                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00309 <span class="preprocessor">#endif</span>
00310 <span class="preprocessor"></span>        }
00311 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00312 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00313         k_IplStopHistoryMacro();
00314 <span class="preprocessor">#endif</span>
00315 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00316 }
00317 
<a name="l00318"></a><a class="code" href="classipl_1_1CComplexImage.html#a43">00318</a> <span class="keywordtype">bool</span> CComplexImage::SetBorder(UINT16 Size, FLOAT32 Re,FLOAT32 Im)
00319 {
00320         <span class="comment">// Set the size of image border</span>
00321         <span class="keywordflow">if</span> (kC_SetBorder(Size,Re,Im,&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>)==<span class="keyword">false</span>)
00322         {
00323                 ostringstream ost;
00324                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::SetBorder() Setting border failed"</span> &lt;&lt; IPLAddFileAndLine;
00325                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00326                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00327         }
00328         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00329 }
00330 
<a name="l00331"></a><a class="code" href="classipl_1_1CComplexImage.html#a44">00331</a> <span class="keywordtype">bool</span> CComplexImage::SetBorderSize(UINT16 Size)
00332 {
00333         <span class="keywordflow">if</span> (kC_SetBorderSize(Size, &amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>)==<span class="keyword">false</span>)
00334         {
00335                 ostringstream ost;
00336                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::SetBorderSize() Failed setting size of border"</span> &lt;&lt; IPLAddFileAndLine;
00337                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00338                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00339         }
00340         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00341 }
00342 
<a name="l00343"></a><a class="code" href="classipl_1_1CComplexImage.html#a45">00343</a> <span class="keywordtype">bool</span> CComplexImage::SetBorderColor(FLOAT32 Re, FLOAT32 Im)
00344 {
00345         <span class="comment">// Set the color of image border</span>
00346         <span class="keywordflow">if</span> (kC_SetBorderColor(Re,Im,&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>)==<span class="keyword">false</span>)
00347         {
00348                 ostringstream ost;
00349                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::SetBorderColor() Failed setting color of border"</span> &lt;&lt; IPLAddFileAndLine;
00350                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00351                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00352         }
00353         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00354 }
00355 
<a name="l00356"></a><a class="code" href="classipl_1_1CComplexImage.html#a46">00356</a> <span class="keywordtype">bool</span> CComplexImage::CopySubImage(<a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a>&amp; SourceImage,<span class="keywordtype">int</span> xmin,<span class="keywordtype">int</span> ymin,
00357                   <span class="keywordtype">int</span> xmax,<span class="keywordtype">int</span> ymax)
00358 {
00359 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00360 <span class="preprocessor"></span>        <span class="comment">/* add comment to history, done by adding to source and removing later (hack) */</span>
00361         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00362         k_InitString(&amp;History);
00363         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::CopySubImage(xmin=%d,ymin=%d,xmax=%d,ymax=%d) Source image file info: %s"</span>,
00364                 ipl_HistoryIndent,xmin,ymin,xmax,ymax,SourceImage.<a class="code" href="classipl_1_1CComplexImage.html#a51">GetConstTComplexImagePtr</a>()-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>);
00365         SourceImage.<a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00366         k_EmptyString(&amp;History);
00367         k_IplStartHistoryMacro();
00368 <span class="preprocessor">#endif</span>
00369 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00370         <span class="keywordtype">bool</span> ReturnValue=kC_CopySubImage(xmin,ymin,xmax,ymax,&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>,&amp;(SourceImage.<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>));
00371         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00372         {
00373                 ostringstream ost;
00374                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::CopySubImage() Failed copying subimage"</span> &lt;&lt; IPLAddFileAndLine;
00375                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00376         }
00377         <span class="keywordflow">else</span>
00378                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00379 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00380 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (&amp;SourceImage!=<span class="keyword">this</span>)
00381         {
00382                 <span class="comment">/* remove the history just added to the source image */</span>
00383                 SourceImage.<a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00384         }
00385         <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00386         k_IplStopHistoryMacro();
00387 <span class="preprocessor">#endif</span>
00388 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00389 }
00390 
<a name="l00391"></a><a class="code" href="classipl_1_1CComplexImage.html#a47">00391</a> <span class="keywordtype">bool</span> CComplexImage::CopySubImage(<a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a>&amp; SourceImage,<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; UpperLeft,
00392                   <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; LowerRight)
00393 {
00394 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00395 <span class="preprocessor"></span>        <span class="comment">/* add comment to history, done by adding to source and removing later (hack) */</span>
00396         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00397         k_InitString(&amp;History);
00398         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::CopySubImage(UpperLeft=(%d,%d),LowerLeft=(%d,%d)) Source image file info: %s"</span>,
00399                 ipl_HistoryIndent,UpperLeft.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),UpperLeft.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),LowerRight.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),LowerRight.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),SourceImage.<a class="code" href="classipl_1_1CComplexImage.html#a51">GetConstTComplexImagePtr</a>()-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>);
00400         SourceImage.<a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00401         k_EmptyString(&amp;History);
00402         k_IplStartHistoryMacro();
00403 <span class="preprocessor">#endif</span>
00404 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00405         <span class="keywordtype">bool</span> ReturnValue=kC_CopySubImage(UpperLeft.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),UpperLeft.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),LowerRight.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),
00406                                         LowerRight.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>,&amp;(SourceImage.<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>));
00407         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00408         {
00409                 ostringstream ost;
00410                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::CopySubImage() Failed copying subimage"</span> &lt;&lt; IPLAddFileAndLine;
00411                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00412         }
00413         <span class="keywordflow">else</span>
00414                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00415 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00416 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (&amp;SourceImage!=<span class="keyword">this</span>)
00417         {
00418                 <span class="comment">/* remove the history just added to the source image */</span>
00419                 SourceImage.<a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00420         }
00421         <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00422         k_IplStopHistoryMacro();
00423 <span class="preprocessor">#endif</span>
00424 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00425 }
00426 
<a name="l00427"></a><a class="code" href="classipl_1_1CComplexImage.html#a48">00427</a> UINT16 CComplexImage::GetLineByteWidth()<span class="keyword"> const</span>
00428 <span class="keyword"></span>{
00429         <span class="comment">// get byte width of a scanline</span>
00430         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m6">ByteWidth</a>;
00431 }
00432 
<a name="l00433"></a><a class="code" href="classipl_1_1CComplexImage.html#a49">00433</a> FLOAT32* CComplexImage::GetImageDataPtrRe()
00434 {
00435         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m11">pPixelStreamRe</a>;
00436 }
00437 
<a name="l00438"></a><a class="code" href="classipl_1_1CComplexImage.html#a50">00438</a> FLOAT32* CComplexImage::GetImageDataPtrIm()
00439 {
00440         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html#m12">pPixelStreamIm</a>;
00441 }
00442 
<a name="l00443"></a><a class="code" href="classipl_1_1CComplexImage.html#a51">00443</a> <span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html">TComplexImage</a>* CComplexImage::GetConstTComplexImagePtr()<span class="keyword"> const</span>
00444 <span class="keyword"></span>{
00445         <span class="comment">// get pointer to image data</span>
00446         <span class="keywordflow">return</span> &amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>;
00447 }
00448 
<a name="l00449"></a><a class="code" href="classipl_1_1CComplexImage.html#a52">00449</a> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTComplexImage.html">TComplexImage</a>* CComplexImage::GetTComplexImagePtr()
00450 {
00451         <span class="comment">// get pointer to image data</span>
00452         <span class="keywordflow">return</span> &amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>;
00453 }
00454 
<a name="l00455"></a><a class="code" href="classipl_1_1CComplexImage.html#a59">00455</a> <span class="keywordtype">void</span> CComplexImage::Rotate90(<span class="keywordtype">int</span> Steps)
00456 {
00457 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00458 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00459         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00460         k_InitString(&amp;History);
00461         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Rotate90(Steps=%d)"</span>,ipl_HistoryIndent,Steps);
00462         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00463         k_EmptyString(&amp;History);
00464         k_IplStartHistoryMacro();
00465 <span class="preprocessor">#endif</span>
00466 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00467         kC_Rotate90(Steps,&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00468 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00469 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00470         k_IplStopHistoryMacro();
00471 <span class="preprocessor">#endif</span>
00472 <span class="preprocessor"></span>}
00473 
<a name="l00474"></a><a class="code" href="classipl_1_1CComplexImage.html#a60">00474</a> <span class="keywordtype">void</span> CComplexImage::FlipHorisontal()
00475 {
00476 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00477 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00478         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00479         k_InitString(&amp;History);
00480         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::FlipHorisontal()"</span>,ipl_HistoryIndent);
00481         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00482         k_EmptyString(&amp;History);
00483         k_IplStartHistoryMacro();
00484 <span class="preprocessor">#endif</span>
00485 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00486         kC_FlipHorisontal(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00487 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00488 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00489         k_IplStopHistoryMacro();
00490 <span class="preprocessor">#endif</span>
00491 <span class="preprocessor"></span>}
00492 
<a name="l00493"></a><a class="code" href="classipl_1_1CComplexImage.html#a61">00493</a> <span class="keywordtype">void</span> CComplexImage::FlipVertical()
00494 {
00495 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00496 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00497         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00498         k_InitString(&amp;History);
00499         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::FlipVertical()"</span>,ipl_HistoryIndent);
00500         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00501         k_EmptyString(&amp;History);
00502         k_IplStartHistoryMacro();
00503 <span class="preprocessor">#endif</span>
00504 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00505         kC_FlipVertical(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00506 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00507 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00508         k_IplStopHistoryMacro();
00509 <span class="preprocessor">#endif</span>
00510 <span class="preprocessor"></span>}
00511 
<a name="l00512"></a><a class="code" href="classipl_1_1CComplexImage.html#a65">00512</a> <span class="keywordtype">void</span> CComplexImage::PrintInfo()<span class="keyword"> const</span>
00513 <span class="keyword"></span>{
00514         kC_PrintImageInfo(&amp;<a class="code" href="classipl_1_1CComplexImage.html#n0">m_Image</a>);
00515         <span class="comment">// write ROI information</span>
00516         <span class="keywordflow">if</span> (ROIActive()==<span class="keyword">true</span>)
00517         {
00518                 cout &lt;&lt; <span class="stringliteral">" ROI: "</span> &lt;&lt; <a class="code" href="classipl_1_1CGenericImage.html#z30_3">GetROIUpperLeft</a>() &lt;&lt; <span class="stringliteral">" -&gt; "</span> &lt;&lt; <a class="code" href="classipl_1_1CGenericImage.html#z30_4">GetROILowerRight</a>() &lt;&lt; endl;
00519         }
00520         <span class="keywordflow">else</span>
00521                 cout &lt;&lt; <span class="stringliteral">" ROI inactive"</span> &lt;&lt; endl;
00522 }
00523 
<a name="l00524"></a><a class="code" href="classipl_1_1CComplexImage.html#a14">00524</a> ostream&amp; <a class="code" href="namespaceipl.html#a3">operator&lt;&lt;</a>(ostream&amp; s,<span class="keyword">const</span> <a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a>&amp; Img)
00525 {
00526         s &lt;&lt; <span class="stringliteral">"************* ComplexImage info ****************\n"</span> &lt;&lt;
00527                 <span class="stringliteral">" Width="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CComplexImage.html#a40">GetWidth</a>() &lt;&lt; <span class="stringliteral">" Height="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CComplexImage.html#a41">GetHeight</a>() &lt;&lt;
00528                 <span class="stringliteral">" ByteWidth="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CComplexImage.html#a48">GetLineByteWidth</a>() &lt;&lt; <span class="stringliteral">" SizeImage="</span> &lt;&lt;
00529                 (Img.<a class="code" href="classipl_1_1CComplexImage.html#a51">GetConstTComplexImagePtr</a>())-&gt;TotalSize &lt;&lt; endl &lt;&lt; <span class="stringliteral">" BorderSize="</span> &lt;&lt;
00530                 Img.<a class="code" href="classipl_1_1CComplexImage.html#a42">GetBorderSize</a>() &lt;&lt; <span class="stringliteral">" Origo="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CComplexImage.html#a57">GetOrigo</a>() &lt;&lt; <span class="stringliteral">" Origin="</span>;
00531 
00532         <span class="keywordtype">char</span>* OriginStr;
00533         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/group__abstract.html#a35">k_GetOriginString</a>((Img.<a class="code" href="classipl_1_1CComplexImage.html#a51">GetConstTComplexImagePtr</a>())-&gt;Origin,&amp;OriginStr);
00534 
00535         s &lt;&lt; OriginStr &lt;&lt; endl;
00536         free(OriginStr);
00537         <span class="comment">// write ROI information</span>
00538         <span class="keywordflow">if</span> (Img.<a class="code" href="classipl_1_1CGenericImage.html#z30_0">ROIActive</a>()==<span class="keyword">true</span>)
00539         {
00540                 s &lt;&lt; <span class="stringliteral">" ROI: "</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CGenericImage.html#z30_3">GetROIUpperLeft</a>() &lt;&lt; <span class="stringliteral">" -&gt; "</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CGenericImage.html#z30_4">GetROILowerRight</a>() &lt;&lt; endl;
00541         }
00542         <span class="keywordflow">else</span>
00543                 s &lt;&lt; <span class="stringliteral">" ROI inactive"</span> &lt;&lt; endl;
00544 
00545         <span class="comment">// write file information</span>
00546         <span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html">TFileInfo</a>* FileInfo=&amp;(Img.<a class="code" href="classipl_1_1CComplexImage.html#a51">GetConstTComplexImagePtr</a>())-&gt;FileInfo;
00547         <span class="keywordflow">if</span> (FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>!=NULL)
00548         {
00549                 s &lt;&lt; <span class="stringliteral">" File name: "</span> &lt;&lt; FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>;
00550         }
00551         <span class="keywordflow">else</span>
00552         {
00553                 s &lt;&lt; <span class="stringliteral">" File name: Not available"</span>;
00554         }
00555         <span class="keywordflow">if</span> (FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>!=NULL)
00556         {
00557                 s &lt;&lt; <span class="stringliteral">" File path: "</span> &lt;&lt; FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>;
00558         }
00559         <span class="keywordflow">else</span>
00560         {
00561                 s &lt;&lt; <span class="stringliteral">" File path: Not available"</span>;
00562         }
00563 
00564         <span class="keywordflow">return</span> s;
00565 }
00566 
<a name="l00567"></a><a class="code" href="classipl_1_1CComplexImage.html#a66">00567</a> <span class="keywordtype">bool</span> CComplexImage::ApplyBias(<span class="keywordtype">float</span> Bias)
00568 { 
00569 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00570 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00571         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00572         k_InitString(&amp;History);
00573         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::ApplyBias() Bias=%g"</span>,ipl_HistoryIndent,Bias);
00574         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00575         k_EmptyString(&amp;History);
00576         k_IplStartHistoryMacro();
00577 <span class="preprocessor">#endif</span>
00578 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_ApplyBias(Bias,<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00579         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00580         {
00581                 ostringstream ost;
00582                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::ApplyBias() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00583                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00584 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00585 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00586                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00587 <span class="preprocessor">#endif</span>
00588 <span class="preprocessor"></span>        }
00589 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00590 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00591         k_IplStopHistoryMacro();
00592 <span class="preprocessor">#endif</span>
00593 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00594 }
00595 
<a name="l00596"></a><a class="code" href="classipl_1_1CComplexImage.html#a67">00596</a> <span class="keywordtype">bool</span> CComplexImage::ScaleIntensity(<span class="keywordtype">float</span> Prefactor)
00597 {
00598 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00599 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00600         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00601         k_InitString(&amp;History);
00602         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::ScaleIntensity() Prefactor=%g"</span>,ipl_HistoryIndent,Prefactor);
00603         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00604         k_EmptyString(&amp;History);
00605         k_IplStartHistoryMacro();
00606 <span class="preprocessor">#endif</span>
00607 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_ScaleIntensity(Prefactor,<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00608         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00609         {
00610                 ostringstream ost;
00611                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::ScaleIntensity() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00612                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00613 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00614 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00615                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00616 <span class="preprocessor">#endif</span>
00617 <span class="preprocessor"></span>        }
00618 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00619 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00620         k_IplStopHistoryMacro();
00621 <span class="preprocessor">#endif</span>
00622 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00623 }
00624 
<a name="l00625"></a><a class="code" href="classipl_1_1CComplexImage.html#a68">00625</a> <span class="keywordtype">bool</span> CComplexImage::Add(<a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a> &amp;Addend)
00626 {
00627 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00628 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00629         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00630         k_InitString(&amp;History);
00631         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Add() adding a CComplexImage"</span>,ipl_HistoryIndent);
00632         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00633         k_EmptyString(&amp;History);
00634         k_IplStartHistoryMacro();
00635 <span class="preprocessor">#endif</span>
00636 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_Add(<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>(),Addend.<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00637         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00638         {
00639                 ostringstream ost;
00640                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Add() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00641                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00642 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00643 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00644                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00645 <span class="preprocessor">#endif</span>
00646 <span class="preprocessor"></span>        }
00647 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00648 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00649         k_IplStopHistoryMacro();
00650 <span class="preprocessor">#endif</span>
00651 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00652 }
00653 
<a name="l00654"></a><a class="code" href="classipl_1_1CComplexImage.html#a69">00654</a> <span class="keywordtype">bool</span> CComplexImage::Subtract(<a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a> &amp;Subtrahend)
00655 { 
00656 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00657 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00658         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00659         k_InitString(&amp;History);
00660         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Subtract() subtracting a CComplexImage"</span>,ipl_HistoryIndent);
00661         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00662         k_EmptyString(&amp;History);
00663         k_IplStartHistoryMacro();
00664 <span class="preprocessor">#endif</span>
00665 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_Subtract(<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>(),Subtrahend.<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00666         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00667         {
00668                 ostringstream ost;
00669                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Subtract() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00670                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00671 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00672 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00673                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00674 <span class="preprocessor">#endif</span>
00675 <span class="preprocessor"></span>        }
00676 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00677 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00678         k_IplStopHistoryMacro();
00679 <span class="preprocessor">#endif</span>
00680 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00681 }
00682 
<a name="l00683"></a><a class="code" href="classipl_1_1CComplexImage.html#a70">00683</a> <span class="keywordtype">bool</span> CComplexImage::Multiply(<a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a> &amp;Factor)
00684 { 
00685 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00686 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00687         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00688         k_InitString(&amp;History);
00689         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Multiply() multiplying a CComplexImage"</span>,ipl_HistoryIndent);
00690         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00691         k_EmptyString(&amp;History);
00692         k_IplStartHistoryMacro();
00693 <span class="preprocessor">#endif</span>
00694 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_Multiply(<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>(),Factor.<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00695         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00696         {
00697                 ostringstream ost;
00698                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Multiply() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00699                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00700 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00701 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00702                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00703 <span class="preprocessor">#endif</span>
00704 <span class="preprocessor"></span>        }
00705 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00706 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00707         k_IplStopHistoryMacro();
00708 <span class="preprocessor">#endif</span>
00709 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00710 }
00711 
<a name="l00712"></a><a class="code" href="classipl_1_1CComplexImage.html#a71">00712</a> <span class="keywordtype">bool</span> CComplexImage::CCFactorAndMultiply(<a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a> &amp;Factor)
00713 { 
00714 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00715 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00716         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00717         k_InitString(&amp;History);
00718         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::CCFactorAndMultiply()"</span>,ipl_HistoryIndent);
00719         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00720         k_EmptyString(&amp;History);
00721         k_IplStartHistoryMacro();
00722 <span class="preprocessor">#endif</span>
00723 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_CCFactorAndMultiply(<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>(),Factor.<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00724         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00725         {
00726                 ostringstream ost;
00727                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::CCFactorAndMultiply() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00728                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00729 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00730 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00731                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00732 <span class="preprocessor">#endif</span>
00733 <span class="preprocessor"></span>        }
00734 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00735 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00736         k_IplStopHistoryMacro();
00737 <span class="preprocessor">#endif</span>
00738 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00739 }
00740 
<a name="l00741"></a><a class="code" href="classipl_1_1CComplexImage.html#a72">00741</a> <span class="keywordtype">bool</span> CComplexImage::ComplexConjugate()
00742 {
00743 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00744 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00745         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00746         k_InitString(&amp;History);
00747         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::ComplexConjugate()"</span>,ipl_HistoryIndent);
00748         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00749         k_EmptyString(&amp;History);
00750         k_IplStartHistoryMacro();
00751 <span class="preprocessor">#endif</span>
00752 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_ComplexConjugate(<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00753         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00754         {
00755                 ostringstream ost;
00756                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::ComplexConjugate() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00757                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00758 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00759 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00760                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00761 <span class="preprocessor">#endif</span>
00762 <span class="preprocessor"></span>        }
00763 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00764 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00765         k_IplStopHistoryMacro();
00766 <span class="preprocessor">#endif</span>
00767 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00768 }
00769 
<a name="l00770"></a><a class="code" href="classipl_1_1CComplexImage.html#a73">00770</a> <span class="keywordtype">bool</span> CComplexImage::Rearrange()
00771 {
00772 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00773 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00774         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00775         k_InitString(&amp;History);
00776         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Rearrange()"</span>,ipl_HistoryIndent);
00777         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00778         k_EmptyString(&amp;History);
00779         k_IplStartHistoryMacro();
00780 <span class="preprocessor">#endif</span>
00781 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_Rearrange(<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00782         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00783         {
00784                 ostringstream ost;
00785                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Rearrange(): Failed"</span> &lt;&lt; IPLAddFileAndLine;
00786                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00787 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00788 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00789                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00790 <span class="preprocessor">#endif</span>
00791 <span class="preprocessor"></span>        }
00792 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00793 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00794         k_IplStopHistoryMacro();
00795 <span class="preprocessor">#endif</span>
00796 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00797 }
00798 
<a name="l00799"></a><a class="code" href="classipl_1_1CComplexImage.html#a74">00799</a> <span class="keywordtype">bool</span> CComplexImage::CopyDisplace(<span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy)
00800 {
00801 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00802 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00803         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00804         k_InitString(&amp;History);
00805         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::CopyDisplace() dx=%d dy=%d"</span>,ipl_HistoryIndent,dx,dy);
00806         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00807         k_EmptyString(&amp;History);
00808         k_IplStartHistoryMacro();
00809 <span class="preprocessor">#endif</span>
00810 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_CopyDisplace(dx,dy,<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00811         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00812         {
00813                 ostringstream ost;
00814                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::CopyDisplace() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00815                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00816 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00817 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00818                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00819 <span class="preprocessor">#endif</span>
00820 <span class="preprocessor"></span>        }
00821 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00822 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00823         k_IplStopHistoryMacro();
00824 <span class="preprocessor">#endif</span>
00825 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00826 }
00827 
<a name="l00828"></a><a class="code" href="classipl_1_1CComplexImage.html#a75">00828</a> <span class="keywordtype">bool</span> CComplexImage::CutOrZeroPad(<a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a> &amp;Source)
00829 {
00830 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00831 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00832         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00833         k_InitString(&amp;History);
00834         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::CutOrZeroPad() Source image file info: %s"</span>,
00835                 ipl_HistoryIndent,Source.<a class="code" href="classipl_1_1CComplexImage.html#a17">GetPathAndFileName</a>());
00836         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00837         k_EmptyString(&amp;History);
00838         k_IplStartHistoryMacro();
00839 <span class="preprocessor">#endif</span>
00840 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_CutOrZeroPad(<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>(),Source.<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00841         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00842         {
00843                 ostringstream ost;
00844                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::CutOrZeroPad() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00845                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00846 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00847 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00848                 <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00849 <span class="preprocessor">#endif</span>
00850 <span class="preprocessor"></span>        }
00851 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00852 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00853         k_IplStopHistoryMacro();
00854 <span class="preprocessor">#endif</span>
00855 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00856 }
00857 
<a name="l00858"></a><a class="code" href="classipl_1_1CComplexImage.html#a76">00858</a> <span class="keywordtype">bool</span> CComplexImage::Copy(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Re, <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Im)
00859 {
00860 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00861 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00862         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00863         k_InitString(&amp;History);
00864         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Copy() sources: CStdImage"</span>,ipl_HistoryIndent);
00865         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00866         k_EmptyString(&amp;History);
00867         k_IplStartHistoryMacro();
00868 <span class="preprocessor">#endif</span>
00869 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_CopyFromByte(<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>(),Re.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>(),Im.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>());
00870         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00871         {
00872                 ostringstream ost;
00873                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Copy() Failed copying CStdImage"</span> &lt;&lt; IPLAddFileAndLine;
00874                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00875         }
00876         <span class="keywordflow">else</span>
00877                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00878 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00879 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00880         k_IplStopHistoryMacro();
00881         <span class="comment">/* remove the history line added above */</span>
00882         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00883 <span class="preprocessor">#endif</span>
00884 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00885 }
00886 
<a name="l00887"></a><a class="code" href="classipl_1_1CComplexImage.html#a77">00887</a> <span class="keywordtype">bool</span> CComplexImage::Copy(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Re, <a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Im)
00888 {
00889 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00890 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00891         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00892         k_InitString(&amp;History);
00893         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Copy() sources: CIntImage"</span>,ipl_HistoryIndent);
00894         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00895         k_EmptyString(&amp;History);
00896         k_IplStartHistoryMacro();
00897 <span class="preprocessor">#endif</span>
00898 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_CopyFromInt(<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>(),Re.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),Im.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00899         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00900         {
00901                 ostringstream ost;
00902                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Copy() Failed copying CIntImage"</span> &lt;&lt; IPLAddFileAndLine;
00903                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00904         }
00905         <span class="keywordflow">else</span>
00906                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00907 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00908 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00909         k_IplStopHistoryMacro();
00910         <span class="comment">/* remove the history line added above */</span>
00911         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00912 <span class="preprocessor">#endif</span>
00913 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00914 }
00915 
<a name="l00916"></a><a class="code" href="classipl_1_1CComplexImage.html#a78">00916</a> <span class="keywordtype">bool</span> CComplexImage::Copy(<a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Re, <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Im)
00917 {
00918 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00919 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00920         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00921         k_InitString(&amp;History);
00922         k_SprintfString(&amp;History,<span class="stringliteral">"%sCComplexImage::Copy() sources: CFloatImage"</span>,ipl_HistoryIndent);
00923         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00924         k_EmptyString(&amp;History);
00925         k_IplStartHistoryMacro();
00926 <span class="preprocessor">#endif</span>
00927 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kC_CopyFromFloat(<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>(),Re.<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>(),Im.<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00928         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00929         {
00930                 ostringstream ost;
00931                 ost &lt;&lt; <span class="stringliteral">"CComplexImage::Copy() Failed copying CFloatImage"</span> &lt;&lt; IPLAddFileAndLine;
00932                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00933         }
00934         <span class="keywordflow">else</span>
00935                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00936 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00937 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00938         k_IplStopHistoryMacro();
00939         <span class="comment">/* remove the history line added above */</span>
00940         <a class="code" href="classipl_1_1CComplexImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00941 <span class="preprocessor">#endif</span>
00942 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00943 }
00944 
<a name="l00945"></a><a class="code" href="classipl_1_1CComplexImage.html#a79">00945</a> <span class="keywordtype">bool</span> CComplexImage::DrawLine(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; Start, <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; End, FLOAT32 Value)
00946 {
00947         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html">T2DInt</a> P1,P2;
00948         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m0">x</a>=Start.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00949         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m1">y</a>=Start.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00950         P2.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m0">x</a>=End.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00951         P2.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m1">y</a>=End.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00952         <span class="keywordflow">return</span> kC_DrawLine(P1,P2,Value,<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00953 }
00954 
<a name="l00955"></a><a class="code" href="classipl_1_1CComplexImage.html#a80">00955</a> <span class="keywordtype">bool</span> CComplexImage::DrawCircle(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; Center, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Radius, FLOAT32 Value)
00956 {
00957         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html">T2DInt</a> P1;
00958         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m0">x</a>=Center.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00959         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m1">y</a>=Center.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00960         <span class="keywordflow">return</span> kC_DrawCircle(P1,Radius,Value,<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00961 }
00962 
00963 } <span class="comment">// end ipl namespace</span>
</pre></div><!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Tag</title>
<base target="_top">
</head>

<body bgcolor="#FFFFFF">

<hr>

<p align="right"><font size="2"><em>Updated <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d. %B %Y %H:%M" startspan -->21. juli 2002 12:29<!--webbot bot="Timestamp" endspan i-checksum="38834" --> by
<a href="http://www.mip.sdu.dk/~edr/">René Dencker
Eriksen</a>(<a href="mailto:edr@mip.sdu.dk">edr@mip.sdu.dk</a>)</em></font></p>
</body>
</html>
