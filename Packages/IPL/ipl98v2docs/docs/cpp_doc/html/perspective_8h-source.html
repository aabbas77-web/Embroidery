<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link type="text/css" href="../../doxygen.css" rel="stylesheet">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Image Processing Library 98</title>
</head>

<body>
<h2 align="center"><a href="http://www.mip.sdu.dk/ipl98" target="_blank"><img border="0" src="ipl_doc_header.gif" width="694" height="55"></a></h2>

</body>

</html>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/ipl98/cpp/algorithms/perspective.h</h1><div class="fragment"><pre>00001 <span class="comment">/********************************************************************</span>
00002 <span class="comment">   The Image Processing Library 98 - IPL98</span>
00003 <span class="comment">   Copyright (C) by René Dencker Eriksen - edr@mip.sdu.dk</span>
00004 <span class="comment"></span>
00005 <span class="comment">   This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation. Only</span>
00008 <span class="comment">   addition is, that if the library is used in proprietary software</span>
00009 <span class="comment">   it must be stated that IPL98 was used.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   This library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   More details can be found in the file licence.txt distributed</span>
00016 <span class="comment">   with this library.</span>
00017 <span class="comment">*********************************************************************/</span>
00018 
00019 <span class="preprocessor">#ifndef _IPL98_PERSPECTIVE_H</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#define _IPL98_PERSPECTIVE_H</span>
00021 <span class="preprocessor"></span>
00022 <span class="preprocessor">#include "../std_image.h"</span>
00023 <span class="preprocessor">#include "../corresponding_3d2d_points.h"</span>
00024 <span class="preprocessor">#include "../../kernel_c/algorithms/kernel_perspective.h"</span>
00025 <span class="preprocessor">#include "../../../points/point2d.h"</span>
00026 <span class="preprocessor">#include "../../../points/point3d.h"</span>
00027 <span class="preprocessor">#include &lt;vector&gt;</span>
00028 
00029 <span class="keyword">namespace </span>ipl{ <span class="comment">// use namespace if C++</span>
00030 
00031 <span class="keyword">using</span> std::vector;
00032 
<a name="l00093"></a><a class="code" href="classipl_1_1CPerspective.html">00093</a> <span class="keyword">class </span><a class="code" href="classipl_1_1CPerspective.html">CPerspective</a>{
00094         <span class="keyword">public</span>: <span class="comment">// attributes</span>
<a name="l00097"></a><a class="code" href="classipl_1_1CPerspective.html#m0">00097</a> <span class="comment"></span>        <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#m0">m_CamParametersAvailable</a>; <span class="comment">// added by kirstein@protana.com</span>
<a name="l00100"></a><a class="code" href="classipl_1_1CPerspective.html#m1">00100</a> <span class="comment"></span>        <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTCameraParameters.html">TCameraParameters</a> <a class="code" href="classipl_1_1CPerspective.html#m1">m_Par</a>; <span class="comment">// added by kirstein@protana.com</span>
00101         <span class="keyword">protected</span>: <span class="comment">// attributes</span>
<a name="l00103"></a><a class="code" href="classipl_1_1CPerspective.html#n0">00103</a> <span class="comment"></span>                <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTCameraMatrix.html">TCameraMatrix</a> <a class="code" href="classipl_1_1CPerspective.html#n0">m_Cam</a>;
<a name="l00105"></a><a class="code" href="classipl_1_1CPerspective.html#n1">00105</a>                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#n1">m_CamMatrixCalibrated</a>;
<a name="l00107"></a><a class="code" href="classipl_1_1CPerspective.html#n2">00107</a>                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#n2">m_RadCalibrationPerformed</a>;
<a name="l00109"></a><a class="code" href="classipl_1_1CPerspective.html#n3">00109</a>                 <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CPerspective.html#n3">m_k</a>;
<a name="l00111"></a><a class="code" href="classipl_1_1CPerspective.html#n4">00111</a>                 FLOAT32 <a class="code" href="classipl_1_1CPerspective.html#n4">m_CenterX</a>;
<a name="l00113"></a><a class="code" href="classipl_1_1CPerspective.html#n5">00113</a>                 FLOAT32 <a class="code" href="classipl_1_1CPerspective.html#n5">m_CenterY</a>;
00115                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CPerspective.html#q0">m_Version</a>;
00116         <span class="keyword">public</span>: <span class="comment">// methods</span>
00121 <span class="comment"></span>                <a class="code" href="classipl_1_1CPerspective.html#a0">CPerspective</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Img);
00125                 <a class="code" href="classipl_1_1CPerspective.html#a0">CPerspective</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Width, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Height);
00128                 <a class="code" href="classipl_1_1CPerspective.html#a0">CPerspective</a>(<a class="code" href="classCPoint2D.html">CPoint2D&lt;unsigned int&gt;</a> Dimensions);
00130                 <a class="code" href="classipl_1_1CPerspective.html#a3">~CPerspective</a>();
00131 
00135                 <a class="code" href="classipl_1_1CPerspective.html">CPerspective</a>&amp; <a class="code" href="classipl_1_1CPerspective.html#a4">operator=</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CPerspective.html">CPerspective</a>&amp; Source);
00136 
00150                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a5">Calibrate</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CCorresponding3D2DPoints.html">CCorresponding3D2DPoints</a>&amp; PointSets);
00151 
00156                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a6">Set</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTCameraMatrix.html">TCameraMatrix</a>&amp; Cam, <span class="keywordtype">double</span> k, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Width, <span class="keywordtype">unsigned</span> Height);
00162                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPerspective.html#a7">SetCameraMatrix</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTCameraMatrix.html">TCameraMatrix</a>&amp; Cam);
00163 
00171                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPerspective.html#a8">SetCameraMatrixAndRadDistortion</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTCameraMatrix.html">TCameraMatrix</a>&amp; Cam, <span class="keywordtype">double</span> k);
00172 
00180                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a9">Calc3DTo2D</a>(<span class="keyword">const</span> <a class="code" href="classCPoint3D.html">CPoint3D&lt;FLOAT32&gt;</a>&amp; w, <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; Pnt) <span class="keyword">const</span>;
00181 
00189                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a10">Direction</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; p,<a class="code" href="classCPoint3D.html">CPoint3D&lt;FLOAT32&gt;</a>&amp; Dir) <span class="keyword">const</span>;
00190 
00194                 <a class="code" href="classCPoint3D.html">CPoint3D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a11">GetPinHole</a>() <span class="keyword">const</span>;
00195 
00199                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a12">PinHole</a>(<a class="code" href="classCPoint3D.html">CPoint3D&lt;FLOAT32&gt;</a>&amp; <a class="code" href="classipl_1_1CPerspective.html#a12">PinHole</a>) <span class="keyword">const</span>;
00200 
00204                 <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CPerspective.html#a13">GetRadDistParameter</a>() <span class="keyword">const</span>;
00205 
00216                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a14">CalibrateWithRadialDist</a>(<a class="code" href="classipl_1_1CCorresponding3D2DPoints.html">CCorresponding3D2DPoints</a>&amp; PointSets);
00217 
00228                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a15">Calc3DTo2DRad</a>(<span class="keyword">const</span> <a class="code" href="classCPoint3D.html">CPoint3D&lt;FLOAT32&gt;</a>&amp; w, <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; Pnt) <span class="keyword">const</span>;
00229 
00234                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a16">GetMaxRadialDisplacement</a>() <span class="keyword">const</span>;
00235 
00245                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a17">RemoveRadialDistortion</a>(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Dest, <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Source, <span class="keywordtype">bool</span> PreserveImageSize);
00246 
00259                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a18">RemoveRadialDistortionExtK</a>(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Dest, <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Source, <span class="keywordtype">double</span> k, <span class="keywordtype">bool</span> PreserveImageSize);
00260 
00265                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a19">SetImageDimensions</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Width, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Height);
00266 
00269                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a19">SetImageDimensions</a>(<a class="code" href="classCPoint2D.html">CPoint2D&lt;unsigned int&gt;</a> Dimensions);
00270 
00272                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPerspective.html#a22">GetImageDimensions</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;Width, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;Height) <span class="keyword">const</span>;
00273 
00275                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;unsigned int&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a22">GetImageDimensions</a>() <span class="keyword">const</span>;
00276 
00280                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a23">CalibrationPerformed</a>() <span class="keyword">const</span>;
00281 
00284                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a24">RadCalibrationPerformed</a>() <span class="keyword">const</span>;
00285 
00293                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a25">GetPosRadRemoved</a>(FLOAT32 x,FLOAT32 y) <span class="keyword">const</span>;
00294 
00299                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a25">GetPosRadRemoved</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; Pos) <span class="keyword">const</span>;
00300 
00309                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a27">GetPosInverseRad</a>(FLOAT32 xr, FLOAT32 yr) <span class="keyword">const</span>;
00310                 
00315                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a27">GetPosInverseRad</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; PosRad) <span class="keyword">const</span>;
00316 
00322                 FLOAT32 <a class="code" href="classipl_1_1CPerspective.html#a29">GetCamMatrix</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> i, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> j) <span class="keyword">const</span>;
00323 
00329                 <span class="keyword">inline</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTCameraMatrix.html">TCameraMatrix</a>* <a class="code" href="classipl_1_1CPerspective.html#a30">GetTCameraMatrixPtr</a>();
00330 
00336                 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTCameraMatrix.html">TCameraMatrix</a>* <a class="code" href="classipl_1_1CPerspective.html#a31">GetConstTCameraMatrixPtr</a>() <span class="keyword">const</span>;
00337 
00340                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPerspective.html#a32">PrintCameraMatrix</a>(<span class="keywordtype">bool</span> WithIndexes) <span class="keyword">const</span>;
00341 
00346                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a33">PrintErrors</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CCorresponding3D2DPoints.html">CCorresponding3D2DPoints</a>&amp; PointSets) <span class="keyword">const</span>;
00347 
00356                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a34">ErrorsToStream</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CCorresponding3D2DPoints.html">CCorresponding3D2DPoints</a>&amp; PointSets, ostream&amp; Stream) <span class="keyword">const</span>;
00357 
00368                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a35">GetErrors</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CCorresponding3D2DPoints.html">CCorresponding3D2DPoints</a>&amp; PointSets, vector&lt;<a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> &gt;&amp; Errors);
00369 
00375                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a36">CamParametersToStream</a>(ostream&amp; Stream) <span class="keyword">const</span>;
00376 
00380                 <span class="keyword">friend</span> ostream&amp; <a class="code" href="classipl_1_1CPerspective.html#a3">operator&lt;&lt;</a>(ostream&amp; s,<span class="keyword">const</span> <a class="code" href="classipl_1_1CPerspective.html">CPerspective</a>&amp; Persp);
00381 
00383                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a37">ParametersAvailable</a>() <span class="keyword">const</span>;
00384 
00394         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a38">MatrixToParameters</a>();
00395 
00403         <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a39">ParametersToMatrix</a>();
00404                 
00421                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a40">Load</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName);
00422 
00435                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a41">Save</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName, <span class="keyword">const</span> <span class="keywordtype">char</span>* pComments=NULL) <span class="keyword">const</span>;
00436 
00438                 <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CPerspective.html#d0">GetVersion</a>();
00439 
00440 
00445                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00446 <span class="comment">                        default constructor */</span>
00447                 <a class="code" href="classipl_1_1CPerspective.html#a0">CPerspective</a>();
00448                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00449 <span class="comment">                        Calibrates the camera matrix given in Gonzalez &amp; Woods page 67.</span>
00450 <span class="comment">                        @param np Number of 3D world cordinates given in the parameter array World.</span>
00451 <span class="comment">                        @param pWorld Array containing 3D world coordinates (must be same size as pCcd array).</span>
00452 <span class="comment">                        @param pCcd Array containing the 2D image points (must be same size as pWorld array).</span>
00453 <span class="comment">                        @return False, if np&lt;6 or if one of the given parameters is a NULL pointer. */</span>
00454                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a5">Calibrate</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> np, <span class="keyword">const</span> <a class="code" href="classCPoint3D.html">CPoint3D&lt;FLOAT32&gt;</a>* pWorld, <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>* pCcd);
00455                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00456 <span class="comment">                        Performs a normal calibration as the corresponding Calibrate() method.</span>
00457 <span class="comment">                        In addition to that a radial distortion parameter k is estimated, see general </span>
00458 <span class="comment">                        comments for more information. Note: If you don't want</span>
00459 <span class="comment">                        distortion corrections just use the normal Calibrate() method.</span>
00460 <span class="comment">                        @param PointSets Contains the sets of corresponding 2D and 3D coordinates,</span>
00461 <span class="comment">                                at least 6 must be present.</span>
00462 <span class="comment">                        @param Img The method needs image to calculate the center (width/2, height/2).</span>
00463 <span class="comment">                        @return False, if corresponding point sets is less than 6, or if the</span>
00464 <span class="comment">                                        PointSets contains non complete entries. */</span>
00465                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a14">CalibrateWithRadialDist</a>(<a class="code" href="classipl_1_1CCorresponding3D2DPoints.html">CCorresponding3D2DPoints</a>&amp; PointSets, <span class="keyword">const</span> <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Img);
00466                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00467 <span class="comment">                        Finds the 2D position in image from a given 3D position, the camera matrix and</span>
00468 <span class="comment">                        the distortion parameter k. Use this function when working with an image not</span>
00469 <span class="comment">                        corrected for the radial distortion and a camera matrix and k-value calculated</span>
00470 <span class="comment">                        by one of the functions CalibrateWithRadialDist() or FindMarksAutoGlobalThreshold().</span>
00471 <span class="comment">                        For a given 3D world position you will get the corresponding point in your</span>
00472 <span class="comment">                        original radial distorted image.</span>
00473 <span class="comment">                        @param w World coordinate.</span>
00474 <span class="comment">                        @param Pnt Position in image returned in this parameter.</span>
00475 <span class="comment">                        @param Img The function needs the image to calculate the center (width/2, height/2).</span>
00476 <span class="comment">                        @return False, if calibration with radial distortion has not been performed.</span>
00477 <span class="comment">                        @see Calc3DTo2D */</span>
00478                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a15">Calc3DTo2DRad</a>(<span class="keyword">const</span> <a class="code" href="classCPoint3D.html">CPoint3D&lt;FLOAT32&gt;</a>&amp; w, <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; Pnt, <span class="keyword">const</span> <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Img) <span class="keyword">const</span>;
00479                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00480 <span class="comment">                        Returns the maximum radial distortion displacement for a postion in image with</span>
00481 <span class="comment">                        given distortion parameter k. Done by displacing a corner position which is the</span>
00482 <span class="comment">                        position furthest away from center.</span>
00483 <span class="comment">                        @param Img The function needs the image to calculate the center (width/2, height/2).</span>
00484 <span class="comment">                        @return Maximum displacement relative to center of image. */</span>
00485                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a16">GetMaxRadialDisplacement</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Img) <span class="keyword">const</span>;
00486                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00487 <span class="comment">                        For a given position (x,y) a new radial corrected position is returned, that is the position</span>
00488 <span class="comment">                        in a corresponding image without radial distortions. The inverse correction is</span>
00489 <span class="comment">                        performed by InverseRadialMove.</span>
00490 <span class="comment">                        @param x The position in horisontal direction to be corrected.</span>
00491 <span class="comment">                        @param y The position in vertical direction to be corrected.</span>
00492 <span class="comment">                        @param Img The function needs the image to calculate the center (width/2, height/2).</span>
00493 <span class="comment">                        @return Radial corrected 2d position.</span>
00494 <span class="comment">                        @see InverseRadialMove */</span>
00495                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a25">GetPosRadRemoved</a>(FLOAT32 x,FLOAT32 y,<span class="keyword">const</span> <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Img) <span class="keyword">const</span>;
00496                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00497 <span class="comment">                        Same as GetPosRadRemoved, but here parameters are given as CPoint2D types.</span>
00498 <span class="comment">                        @param Pos The position to be corrected.</span>
00499 <span class="comment">                        @param Img The function needs the image to calculate the center (width/2, height/2).</span>
00500 <span class="comment">                        @return Radial corrected 2d position.</span>
00501 <span class="comment">                        @see GetPosRadRemoved */</span>
00502                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a25">GetPosRadRemoved</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; Pos,<span class="keyword">const</span> <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Img) <span class="keyword">const</span>;
00503                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00504 <span class="comment">                        Same as GetPosRadRemoved, but here the center of image is given as parameters</span>
00505 <span class="comment">                        instead of an image.</span>
00506 <span class="comment">                        @param x The position in horisontal direction.</span>
00507 <span class="comment">                        @param y The position in vertical direction.</span>
00508 <span class="comment">                        @param CenterX Horisontal center (width/2 of image)</span>
00509 <span class="comment">                        @param CenterY Vertical center (height/2 of image).</span>
00510 <span class="comment">                        @return Radial corrected 2d position.</span>
00511 <span class="comment">                        @see GetPosRadRemoved */</span>
00512                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a25">GetPosRadRemoved</a>(FLOAT32 x,FLOAT32 y, FLOAT32 CenterX, FLOAT32 CenterY) <span class="keyword">const</span>;
00513                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00514 <span class="comment">                        Same as GetPosRadRemoved, but here parameters are given as CPoint2D types.</span>
00515 <span class="comment">                        @param Pos The position to be corrected.</span>
00516 <span class="comment">                        @param Center Center of image.</span>
00517 <span class="comment">                        @return Radial corrected 2d position.</span>
00518 <span class="comment">                        @see GetPosRadRemoved */</span>
00519                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a25">GetPosRadRemoved</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; Pos, <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; Center) <span class="keyword">const</span>;
00520                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00521 <span class="comment">                        For a given position (x,y) a new inverse radial corrected position is returned, </span>
00522 <span class="comment">                        that is the position in a corresponding image with radial distortions. Center of</span>
00523 <span class="comment">                        radial distortion is assumed to be center of image. This functionality is the</span>
00524 <span class="comment">                        opposite of GetPosRadRemoved().</span>
00525 <span class="comment">                        @param xr The position in horisontal direction.</span>
00526 <span class="comment">                        @param yr The position in vertical direction.</span>
00527 <span class="comment">                        @return Inverse radial corrected 2d position.</span>
00528 <span class="comment">                        @see GetPosRadRemoved */</span>
00529                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a27">GetPosInverseRad</a>(FLOAT32 xr, FLOAT32 yr, <span class="keyword">const</span> <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Img) <span class="keyword">const</span>;
00530                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00531 <span class="comment">                        Same as GetPosInverseRad, but here parameters are given as CPoint2D types.</span>
00532 <span class="comment">                        @param Pos The position to be corrected.</span>
00533 <span class="comment">                        @return Inverse radial corrected 2d position.</span>
00534 <span class="comment">                        @see GetPosInverseRad */</span>
00535                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a27">GetPosInverseRad</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; PosRad, <span class="keyword">const</span> <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Img) <span class="keyword">const</span>;
00536                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00537 <span class="comment">                        Same as GetPosInverseRad, but here the center of image is given as parameters</span>
00538 <span class="comment">                        instead of an image.</span>
00539 <span class="comment">                        @param xr The position in horisontal direction.</span>
00540 <span class="comment">                        @param yr The position in vertical direction.</span>
00541 <span class="comment">                        @return Inverse radial corrected 2d position.</span>
00542 <span class="comment">                        @see GetPosInverseRad */</span>
00543                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a27">GetPosInverseRad</a>(FLOAT32 xr, FLOAT32 yr, FLOAT32 CenterX, FLOAT32 CenterY) <span class="keyword">const</span>;
00544                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00545 <span class="comment">                        Same as GetPosInverseRad, but here parameters are given as CPoint2D types.</span>
00546 <span class="comment">                        @param Pos The position to be corrected.</span>
00547 <span class="comment">                        @return Inverse radial corrected 2d position.</span>
00548 <span class="comment">                        @see GetPosInverseRad */</span>
00549                 <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a> <a class="code" href="classipl_1_1CPerspective.html#a27">GetPosInverseRad</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; PosRad, <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;FLOAT32&gt;</a>&amp; Center) <span class="keyword">const</span>;
00550                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00551 <span class="comment">                        Prints the errors for each point to cout, done by calling the method ErrorsToStream().</span>
00552 <span class="comment">                        @return False, if a calibration has not been performed yet.</span>
00553 <span class="comment">                        @see ErrorsToStream */</span>
00554                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a33">PrintErrors</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CCorresponding3D2DPoints.html">CCorresponding3D2DPoints</a>&amp; PointSets, <span class="keyword">const</span> <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Img) <span class="keyword">const</span>;
00555                 <span class="comment">/* IMPORTANT: Only kept for backward compatibility, use other methods!</span>
00556 <span class="comment">                        Prints the errors for each point to "stream" when the 3D world points are</span>
00557 <span class="comment">                        projected to image points using the camera matrix m_Cam (including radial</span>
00558 <span class="comment">                        distortion correction if it has been performed) and     compared to the found</span>
00559 <span class="comment">                        2D points in the parameter PointSets.</span>
00560 <span class="comment">                        @param PointSets Corresponding 3D-2D point sets.</span>
00561 <span class="comment">                        @param Stream The ostream to stream the output to.</span>
00562 <span class="comment">                        @return False, if a calibration has not been performed yet. */</span>
00563                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPerspective.html#a34">ErrorsToStream</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CCorresponding3D2DPoints.html">CCorresponding3D2DPoints</a>&amp; PointSets, <span class="keyword">const</span> <a class="code" href="classipl_1_1CStdImage.html">CStdImage</a>&amp; Img, ostream&amp; Stream) <span class="keyword">const</span>;
00564 
00566 
00567         <span class="keyword">private</span>:
00568 };
00569 
00573 
<a name="l00574"></a><a class="code" href="classipl_1_1CPerspective.html#a13">00574</a> <span class="keyword">inline</span> <span class="keywordtype">double</span> CPerspective::GetRadDistParameter()<span class="keyword"> const</span>
00575 <span class="keyword"></span>{
00576         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CPerspective.html#n3">m_k</a>;
00577 }
00578 
<a name="l00579"></a><a class="code" href="classipl_1_1CPerspective.html#a30">00579</a> <span class="keyword">inline</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTCameraMatrix.html">TCameraMatrix</a>* CPerspective::GetTCameraMatrixPtr()
00580 {
00581         <span class="keywordflow">return</span> &amp;<a class="code" href="classipl_1_1CPerspective.html#n0">m_Cam</a>;
00582 }
00583 
<a name="l00584"></a><a class="code" href="classipl_1_1CPerspective.html#a31">00584</a> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTCameraMatrix.html">TCameraMatrix</a>* CPerspective::GetConstTCameraMatrixPtr()<span class="keyword"> const</span>
00585 <span class="keyword"></span>{
00586         <span class="keywordflow">return</span> &amp;<a class="code" href="classipl_1_1CPerspective.html#n0">m_Cam</a>;
00587 }
00588 
00589 } <span class="comment">// end namespace ipl</span>
00590 
00591 <span class="preprocessor">#endif //_IPL98_PERSPECTIVE_H</span>
</pre></div><!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Tag</title>
<base target="_top">
</head>

<body bgcolor="#FFFFFF">

<hr>

<p align="right"><font size="2"><em>Updated <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d. %B %Y %H:%M" startspan -->21. juli 2002 12:29<!--webbot bot="Timestamp" endspan i-checksum="38834" --> by
<a href="http://www.mip.sdu.dk/~edr/">René Dencker
Eriksen</a>(<a href="mailto:edr@mip.sdu.dk">edr@mip.sdu.dk</a>)</em></font></p>
</body>
</html>
