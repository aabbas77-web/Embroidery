<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link type="text/css" href="../../doxygen.css" rel="stylesheet">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Image Processing Library 98</title>
</head>

<body>
<h2 align="center"><a href="http://www.mip.sdu.dk/ipl98" target="_blank"><img border="0" src="ipl_doc_header.gif" width="694" height="55"></a></h2>

</body>

</html>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/ipl98/cpp/float_image.cpp</h1><div class="fragment"><pre>00001 <span class="comment">/********************************************************************</span>
00002 <span class="comment">   The Image Processing Library 98 - IPL98</span>
00003 <span class="comment">   Copyright (C) by René Dencker Eriksen - edr@mip.sdu.dk</span>
00004 <span class="comment"></span>
00005 <span class="comment">   This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation. Only</span>
00008 <span class="comment">   addition is, that if the library is used in proprietary software</span>
00009 <span class="comment">   it must be stated that IPL98 was used.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   This library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   More details can be found in the file licence.txt distributed</span>
00016 <span class="comment">   with this library.</span>
00017 <span class="comment">*********************************************************************/</span>
00018 
00019 <span class="preprocessor">#include "float_image.h"</span>
00020 <span class="preprocessor">#include "std_image.h"</span>
00021 <span class="preprocessor">#include "int_image.h"</span>
00022 <span class="preprocessor">#include "complex_image.h"</span>
00023 <span class="preprocessor">#include "../kernel_c/kernel_history.h"</span>
00024 
00025 <span class="keyword">namespace </span>ipl{
00026 
<a name="l00027"></a><a class="code" href="classipl_1_1CFloatImage.html#a0">00027</a> CFloatImage::CFloatImage()
00028 : m_History(&amp;m_Image.History)
00029 {
00030         <span class="comment">// default constructor</span>
00031         kF_InitImage(&amp;m_Image); <span class="comment">// always initialise m_Image in constr.</span>
00032         kF_EmptyImage(&amp;m_Image); <span class="comment">// start with empty</span>
00033         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00034 }
00035 
<a name="l00036"></a><a class="code" href="classipl_1_1CFloatImage.html#a1">00036</a> CFloatImage::CFloatImage(UINT32 Width, UINT32 Height, FLOAT32 Color)
00037 : m_History(&amp;m_Image.History)
00038 {
00039         <span class="comment">//constr. for empty image</span>
00040         kF_InitImage(&amp;m_Image); <span class="comment">// always initialise m_Image in constr.</span>
00041         kF_AllocImage(Width,Height,&amp;m_Image);
00042         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00043         <span class="keywordflow">if</span> (Color!=0)
00044                 <a class="code" href="classipl_1_1CFloatImage.html#a19">Flush</a>(Color);
00045 }
00046 
<a name="l00047"></a><a class="code" href="classipl_1_1CFloatImage.html#a2">00047</a> CFloatImage::CFloatImage(<span class="keyword">const</span> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a>&amp; SourceImage)
00048 : m_History(&amp;m_Image.History)
00049 {       <span class="comment">// copy constructor</span>
00050         kF_InitImage(&amp;m_Image); <span class="comment">// always initialise m_Image in constr.</span>
00051         *<span class="keyword">this</span>=SourceImage; <span class="comment">// use assignment operator</span>
00052 }
00053 
<a name="l00054"></a><a class="code" href="classipl_1_1CFloatImage.html#a3">00054</a> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a>&amp; CFloatImage::operator=(<span class="keyword">const</span> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a>&amp; SourceImage)
00055 {
00056         <span class="comment">// overloading of assignment operator</span>
00057         <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;SourceImage)
00058         {
00059                 <span class="comment">// ok to do assignment</span>
00060                 <span class="comment">// no copying if source is empty</span>
00061                 <span class="keywordflow">if</span> (SourceImage.<a class="code" href="classipl_1_1CFloatImage.html#a49">GetOrigin</a>()!=EMPTY)
00062                 {
00063 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00064 <span class="preprocessor"></span>                        k_IplStartHistoryMacro();
00065 <span class="preprocessor">#endif</span>
00066 <span class="preprocessor"></span>                        <span class="comment">/* call kernel function */</span>
00067                         kF_CopyImage(&amp;m_Image,SourceImage.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>());
00068                         <span class="comment">/* set pointers */</span>
00069                         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a4">SetTextPtr</a>(&amp;m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m1">History</a>);
00070                         <span class="comment">/* copy ROI */</span>
00071                         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=SourceImage.<a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>;
00072                         <span class="keywordflow">if</span> (<a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>==<span class="keyword">true</span>)
00073                         {
00074                                 <a class="code" href="classipl_1_1CGenericImage.html#n1">m_ROIUpperLeft</a>=SourceImage.<a class="code" href="classipl_1_1CGenericImage.html#n1">m_ROIUpperLeft</a>;
00075                                 <a class="code" href="classipl_1_1CGenericImage.html#n2">m_ROILowerRight</a>=SourceImage.<a class="code" href="classipl_1_1CGenericImage.html#n2">m_ROILowerRight</a>;
00076                         }
00077 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00078 <span class="preprocessor"></span>                        <span class="comment">/* this is a really bad hack! Removing the last line added by the C code from</span>
00079 <span class="comment">                           this objects history, inserting the C++ line and appending the just removed</span>
00080 <span class="comment">                           line again. This assumes that only one line is added by the C code. */</span>
00081                         string HistoryTemp;
00082                         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00083                         k_InitString(&amp;History);
00084                         <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00085                         k_IplStopHistoryMacro();
00086                         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::operator="</span>,ipl_HistoryIndent);
00087                         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a12">GetItem</a>(<a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a13">TotalItems</a>()-1,HistoryTemp);
00088                         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00089                         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00090                         <span class="keywordtype">int</span> k=HistoryTemp.find_first_of(<span class="stringliteral">"\t"</span>);
00091                         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(HistoryTemp.substr(k,HistoryTemp.size()-1-k));
00092                         k_EmptyString(&amp;History);
00093 <span class="preprocessor">#endif</span>
00094 <span class="preprocessor"></span>                }
00095                 <span class="keywordflow">else</span>
00096                 {
00097                         kF_EmptyImage(&amp;m_Image); <span class="comment">// empty image in all cases</span>
00098                 }
00099         }
00100         <span class="keywordflow">else</span>
00101         {
00102                 ostringstream ost;
00103                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::operator=() Cannot assign CFloatImage to itself"</span> &lt;&lt; IPLAddFileAndLine;
00104                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00105         }
00106         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00107 }
00108 
<a name="l00109"></a><a class="code" href="classipl_1_1CFloatImage.html#a4">00109</a> CFloatImage::~CFloatImage()
00110 {
00111         <span class="comment">//destructor</span>
00112         kF_EmptyImage(&amp;m_Image);
00113 }
00114 
<a name="l00115"></a><a class="code" href="classipl_1_1CFloatImage.html#a5">00115</a> <span class="keywordtype">bool</span> CFloatImage::Alloc(UINT32 Width, UINT32 Height, FLOAT32 Color)
00116 {
00117         <span class="keywordtype">bool</span> result=kF_AllocImage(Width,Height,&amp;m_Image);
00118         <span class="keywordflow">if</span> (result==<span class="keyword">false</span>)
00119         {
00120                 ostringstream ost;
00121                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::Alloc() Failed allocating image"</span> &lt;&lt; IPLAddFileAndLine;
00122                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00123         }
00124         <span class="keywordflow">else</span>
00125         {
00126                 <span class="keywordflow">if</span> (Color!=0)
00127                         <a class="code" href="classipl_1_1CFloatImage.html#a19">Flush</a>(Color);
00128         }
00129         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00130         <span class="keywordflow">return</span> result;
00131 }
00132 
<a name="l00133"></a><a class="code" href="classipl_1_1CFloatImage.html#a6">00133</a> <span class="keywordtype">bool</span> CFloatImage::AllocFast(UINT32 Width, UINT32 Height)
00134 {
00135         <span class="keywordtype">bool</span> result=kF_AllocImageFast(Width,Height,&amp;m_Image);
00136         <span class="keywordflow">if</span> (result==<span class="keyword">false</span>)
00137         {
00138                 ostringstream ost;
00139                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::AllocFast() Failed allocating image"</span> &lt;&lt; IPLAddFileAndLine;
00140                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00141         }
00142         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00143         <span class="keywordflow">return</span> result;
00144 }
00145 
<a name="l00146"></a><a class="code" href="classipl_1_1CFloatImage.html#a7">00146</a> <span class="keywordtype">bool</span> CFloatImage::Load(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName)
00147 {
00148 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00149 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00150         <a class="code" href="classipl_1_1CText.html">CText</a> TempHistory;
00151         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00152         k_InitString(&amp;History);
00153         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::Load(%s)"</span>,ipl_HistoryIndent,pPathAndFileName);
00154         TempHistory.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00155         k_EmptyString(&amp;History);
00156         k_IplStartHistoryMacro();
00157 <span class="preprocessor">#endif</span>
00158 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00159         <span class="keywordtype">bool</span> ReturnValue=kF_Load(pPathAndFileName,&amp;m_Image);
00160         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">true</span>)
00161         {
00162                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00163 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00164 <span class="preprocessor"></span>                <span class="comment">/* append the new created history in kF_Load to the temporary history and</span>
00165 <span class="comment">                   copy the temporary history back to this objects history */</span>
00166                 TempHistory.<a class="code" href="classipl_1_1CText.html#a15">AddDate</a>(<span class="keyword">false</span>);
00167                 TempHistory.<a class="code" href="classipl_1_1CText.html#a14">AddTime</a>(<span class="keyword">false</span>);
00168                 <span class="keywordtype">bool</span> AddDate=<a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a15">AddDate</a>(<span class="keyword">false</span>);
00169                 <span class="keywordtype">bool</span> AddTime=<a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a14">AddTime</a>(<span class="keyword">false</span>);
00170                 TempHistory.<a class="code" href="classipl_1_1CText.html#a24">AppendCText</a>(<a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>);
00171                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>=TempHistory;
00172                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a15">AddDate</a>(AddDate);
00173                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a14">AddTime</a>(AddTime);
00174 <span class="preprocessor">#endif</span>
00175 <span class="preprocessor"></span>        }
00176         <span class="keywordflow">else</span>
00177         {
00178                 <span class="comment">// load failed</span>
00179                 ostringstream ost;
00180                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::Load() Loading failed"</span> &lt;&lt; IPLAddFileAndLine;
00181                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00182         }
00183 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00184 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00185         k_IplStopHistoryMacro();
00186 <span class="preprocessor">#endif</span>
00187 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00188 }
00189 
<a name="l00190"></a><a class="code" href="classipl_1_1CFloatImage.html#a8">00190</a> <span class="keywordtype">bool</span> CFloatImage::Load(<span class="keyword">const</span> string&amp; PathAndFileName)
00191 {
00192         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CFloatImage.html#a7">Load</a>(PathAndFileName.c_str());
00193 }
00194 
<a name="l00195"></a><a class="code" href="classipl_1_1CFloatImage.html#a9">00195</a> <span class="keywordtype">bool</span> CFloatImage::Save(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName)
00196 {
00197 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00198 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00199         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00200         k_InitString(&amp;History);
00201         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::Save(%s)"</span>,ipl_HistoryIndent,pPathAndFileName);
00202         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00203         k_EmptyString(&amp;History);
00204         k_IplStartHistoryMacro();
00205 <span class="preprocessor">#endif</span>
00206 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00207         <span class="keywordtype">bool</span> ReturnValue=kF_Save(pPathAndFileName,&amp;m_Image);
00208         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00209         {       
00210                 <span class="comment">// load failed</span>
00211                 ostringstream ost;
00212                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::Save() Saving failed"</span> &lt;&lt; IPLAddFileAndLine;
00213                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00214 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00215 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00216                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00217 <span class="preprocessor">#endif</span>
00218 <span class="preprocessor"></span>        }
00219 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00220 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00221         k_IplStopHistoryMacro();
00222 <span class="preprocessor">#endif</span>
00223 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00224 }
00225 
<a name="l00226"></a><a class="code" href="classipl_1_1CFloatImage.html#a10">00226</a> <span class="keywordtype">bool</span> CFloatImage::Save(<span class="keyword">const</span> string&amp; PathAndFileName)
00227 {
00228         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CFloatImage.html#a9">Save</a>(PathAndFileName.c_str());
00229 }
00230 
<a name="l00231"></a><a class="code" href="classipl_1_1CFloatImage.html#a11">00231</a> <span class="keywordtype">void</span> CFloatImage::Empty()
00232 {
00233         <span class="comment">// Deletes all allocated memory for image</span>
00234         <span class="comment">// and resets variables</span>
00235         kF_EmptyImage(&amp;m_Image);
00236         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00237 }
00238 
<a name="l00239"></a><a class="code" href="classipl_1_1CFloatImage.html#a13">00239</a> <span class="keywordtype">bool</span> CFloatImage::GetFileName(string&amp; Str)
00240 {
00241         Str.erase();
00242         <span class="keywordflow">if</span> (m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>!=NULL)
00243         {
00244                 Str.append(m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>);
00245                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00246         }
00247         <span class="keywordflow">else</span>
00248                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00249 }
00250 
<a name="l00251"></a><a class="code" href="classipl_1_1CFloatImage.html#a14">00251</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* CFloatImage::GetFileName()
00252 {
00253         <span class="keywordflow">return</span> m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>;
00254 }
00255 
<a name="l00256"></a><a class="code" href="classipl_1_1CFloatImage.html#a15">00256</a> <span class="keywordtype">bool</span> CFloatImage::GetPathName(string&amp; Str)
00257 {
00258         Str.erase();
00259         <span class="keywordflow">if</span> (m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>!=NULL)
00260         {
00261                 Str.append(m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>);
00262                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00263         }
00264         <span class="keywordflow">else</span>
00265                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00266 }
00267 
<a name="l00268"></a><a class="code" href="classipl_1_1CFloatImage.html#a16">00268</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* CFloatImage::GetPathName()
00269 {
00270         <span class="keywordflow">return</span> m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>;
00271 }
00272 
<a name="l00273"></a><a class="code" href="classipl_1_1CFloatImage.html#a17">00273</a> <span class="keywordtype">bool</span> CFloatImage::GetPathAndFileName(string&amp; Str)
00274 {
00275         Str.erase();
00276         <span class="keywordflow">if</span> (m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>!=NULL)
00277         {
00278                 Str.append(m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>);
00279                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00280         }
00281         <span class="keywordflow">else</span>
00282                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00283 }
00284 
<a name="l00285"></a><a class="code" href="classipl_1_1CFloatImage.html#a18">00285</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* CFloatImage::GetPathAndFileName()
00286 {
00287         <span class="keywordflow">return</span> m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>;
00288 }
00289 
<a name="l00290"></a><a class="code" href="classipl_1_1CFloatImage.html#a19">00290</a> <span class="keywordtype">bool</span> CFloatImage::Flush(FLOAT32 Color)
00291 {
00292 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00293 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00294         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00295         k_InitString(&amp;History);
00296         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::Flush(Color=%d)"</span>,ipl_HistoryIndent,Color);
00297         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00298         k_EmptyString(&amp;History);
00299         k_IplStartHistoryMacro();
00300 <span class="preprocessor">#endif</span>
00301 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00302         <span class="keywordtype">bool</span> ReturnValue=kF_FlushImage(Color,&amp;m_Image);
00303         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00304         {
00305                 ostringstream ost;
00306                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::Flush() Flush failed - image is empty"</span> &lt;&lt; IPLAddFileAndLine;
00307                 CError::ShowMessage(IPL_WARNING,ost.str().c_str());
00308 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00309 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00310                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00311 <span class="preprocessor">#endif</span>
00312 <span class="preprocessor"></span>        }
00313 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00314 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00315         k_IplStopHistoryMacro();
00316 <span class="preprocessor">#endif</span>
00317 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00318 }
00319 
<a name="l00320"></a><a class="code" href="classipl_1_1CFloatImage.html#a35">00320</a> <span class="keywordtype">bool</span> CFloatImage::SetBorder(UINT16 Size, FLOAT32 Color)
00321 {
00322         <span class="comment">// Set the size of image border</span>
00323         <span class="keywordflow">if</span> (kF_SetBorder(Size,Color,&amp;m_Image)==<span class="keyword">false</span>)
00324         {
00325                 ostringstream ost;
00326                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::SetBorder() Setting border failed"</span> &lt;&lt; IPLAddFileAndLine;
00327                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00328                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00329         }
00330         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00331 }
00332 
<a name="l00333"></a><a class="code" href="classipl_1_1CFloatImage.html#a36">00333</a> <span class="keywordtype">bool</span> CFloatImage::SetBorderSize(UINT16 Size)
00334 {
00335         <span class="keywordflow">if</span> (kF_SetBorderSize(Size, &amp;m_Image)==<span class="keyword">false</span>)
00336         {
00337                 ostringstream ost;
00338                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::SetBorderSize() Failed setting size and color of border"</span> &lt;&lt; IPLAddFileAndLine;
00339                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00340                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00341         }
00342         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00343 }
00344 
<a name="l00345"></a><a class="code" href="classipl_1_1CFloatImage.html#a37">00345</a> <span class="keywordtype">bool</span> CFloatImage::SetBorderColor(FLOAT32 Color)
00346 {
00347         <span class="comment">// Set the color of image border</span>
00348         <span class="keywordflow">if</span> (kF_SetBorderColor(Color,&amp;m_Image)==<span class="keyword">false</span>)
00349         {
00350                 ostringstream ost;
00351                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::SetBorderColor() Failed setting color of border"</span> &lt;&lt; IPLAddFileAndLine;
00352                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00353                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00354         }
00355         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00356 }
00357 
<a name="l00358"></a><a class="code" href="classipl_1_1CFloatImage.html#a38">00358</a> <span class="keywordtype">bool</span> CFloatImage::CopySubImage(<a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a>&amp; SourceImage,<span class="keywordtype">int</span> xmin,<span class="keywordtype">int</span> ymin,
00359                   <span class="keywordtype">int</span> xmax,<span class="keywordtype">int</span> ymax)
00360 {
00361 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00362 <span class="preprocessor"></span>        <span class="comment">/* add comment to history, done by adding to source and removing later (hack) */</span>
00363         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00364         k_InitString(&amp;History);
00365         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::CopySubImage(xmin=%d,ymin=%d,xmax=%d,ymax=%d) Source image file info: %s"</span>,
00366                 ipl_HistoryIndent,xmin,ymin,xmax,ymax,SourceImage.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>()-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>);
00367         SourceImage.<a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00368         k_EmptyString(&amp;History);
00369         k_IplStartHistoryMacro();
00370 <span class="preprocessor">#endif</span>
00371 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00372         <span class="keywordtype">bool</span> ReturnValue=kF_CopySubImage(xmin,ymin,xmax,ymax,&amp;m_Image,&amp;(SourceImage.<a class="code" href="classipl_1_1CFloatImage.html#n0">m_Image</a>));
00373         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00374         {
00375                 ostringstream ost;
00376                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::CopySubImage() Failed copying subimage"</span> &lt;&lt; IPLAddFileAndLine;
00377                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00378         }
00379         <span class="keywordflow">else</span>
00380                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00381 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00382 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (&amp;SourceImage!=<span class="keyword">this</span>)
00383         {
00384                 <span class="comment">/* remove the history just added to the source image */</span>
00385                 SourceImage.<a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00386         }
00387         <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00388         k_IplStopHistoryMacro();
00389 <span class="preprocessor">#endif</span>
00390 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00391 }
00392 
<a name="l00393"></a><a class="code" href="classipl_1_1CFloatImage.html#a39">00393</a> <span class="keywordtype">bool</span> CFloatImage::CopySubImage(<a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a>&amp; SourceImage,<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; UpperLeft,
00394                   <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; LowerRight)
00395 {
00396 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00397 <span class="preprocessor"></span>        <span class="comment">/* add comment to history, done by adding to source and removing later (hack) */</span>
00398         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00399         k_InitString(&amp;History);
00400         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::CopySubImage(UpperLeft=(%d,%d),LowerLeft=(%d,%d)) Source image file info: %s"</span>,
00401                 ipl_HistoryIndent,UpperLeft.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),UpperLeft.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),LowerRight.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),LowerRight.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),SourceImage.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>()-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>);
00402         SourceImage.<a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00403         k_EmptyString(&amp;History);
00404         k_IplStartHistoryMacro();
00405 <span class="preprocessor">#endif</span>
00406 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00407         <span class="keywordtype">bool</span> ReturnValue=kF_CopySubImage(UpperLeft.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),UpperLeft.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),LowerRight.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),
00408                                         LowerRight.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),&amp;m_Image,&amp;(SourceImage.<a class="code" href="classipl_1_1CFloatImage.html#n0">m_Image</a>));
00409         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00410         {
00411                 ostringstream ost;
00412                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::CopySubImage() Failed copying subimage"</span> &lt;&lt; IPLAddFileAndLine;
00413                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00414         }
00415         <span class="keywordflow">else</span>
00416                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00417 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00418 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (&amp;SourceImage!=<span class="keyword">this</span>)
00419         {
00420                 <span class="comment">/* remove the history just added to the source image */</span>
00421                 SourceImage.<a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00422         }
00423         <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00424         k_IplStopHistoryMacro();
00425 <span class="preprocessor">#endif</span>
00426 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00427 }
00428 
<a name="l00429"></a><a class="code" href="classipl_1_1CFloatImage.html#a40">00429</a> UINT16 CFloatImage::GetLineByteWidth()<span class="keyword"> const</span>
00430 <span class="keyword"></span>{
00431         <span class="comment">// get byte width of a scanline</span>
00432         <span class="keywordflow">return</span> m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m6">ByteWidth</a>;
00433 }
00434 
<a name="l00435"></a><a class="code" href="classipl_1_1CFloatImage.html#a41">00435</a> FLOAT32* CFloatImage::GetImageDataPtr()
00436 {
00437         <span class="keywordflow">return</span> m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html#m10">pPixelStream</a>;
00438 }
00439 
<a name="l00440"></a><a class="code" href="classipl_1_1CFloatImage.html#a42">00440</a> <span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html">TFloatImage</a>* CFloatImage::GetConstTFloatImagePtr()<span class="keyword"> const</span>
00441 <span class="keyword"></span>{
00442         <span class="comment">// get pointer to image data</span>
00443         <span class="keywordflow">return</span> &amp;m_Image;
00444 }
00445 
<a name="l00446"></a><a class="code" href="classipl_1_1CFloatImage.html#a43">00446</a> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFloatImage.html">TFloatImage</a>* CFloatImage::GetTFloatImagePtr()
00447 {
00448         <span class="comment">// get pointer to image data</span>
00449         <span class="keywordflow">return</span> &amp;m_Image;
00450 }
00451 
<a name="l00452"></a><a class="code" href="classipl_1_1CFloatImage.html#a50">00452</a> <span class="keywordtype">void</span> CFloatImage::Rotate90(<span class="keywordtype">int</span> Steps)
00453 {
00454 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00455 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00456         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00457         k_InitString(&amp;History);
00458         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::Rotate90(Steps=%d)"</span>,ipl_HistoryIndent,Steps);
00459         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00460         k_EmptyString(&amp;History);
00461         k_IplStartHistoryMacro();
00462 <span class="preprocessor">#endif</span>
00463 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00464         kF_Rotate90(Steps,&amp;m_Image);
00465 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00466 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00467         k_IplStopHistoryMacro();
00468 <span class="preprocessor">#endif</span>
00469 <span class="preprocessor"></span>}
00470 
<a name="l00471"></a><a class="code" href="classipl_1_1CFloatImage.html#a51">00471</a> <span class="keywordtype">void</span> CFloatImage::FlipHorisontal()
00472 {
00473 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00474 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00475         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00476         k_InitString(&amp;History);
00477         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::FlipHorisontal()"</span>,ipl_HistoryIndent);
00478         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00479         k_EmptyString(&amp;History);
00480         k_IplStartHistoryMacro();
00481 <span class="preprocessor">#endif</span>
00482 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00483         kF_FlipHorisontal(&amp;m_Image);
00484 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00485 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00486         k_IplStopHistoryMacro();
00487 <span class="preprocessor">#endif</span>
00488 <span class="preprocessor"></span>}
00489 
<a name="l00490"></a><a class="code" href="classipl_1_1CFloatImage.html#a52">00490</a> <span class="keywordtype">void</span> CFloatImage::FlipVertical()
00491 {
00492 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00493 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00494         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00495         k_InitString(&amp;History);
00496         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::FlipVertical()"</span>,ipl_HistoryIndent);
00497         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00498         k_EmptyString(&amp;History);
00499         k_IplStartHistoryMacro();
00500 <span class="preprocessor">#endif</span>
00501 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00502         kF_FlipVertical(&amp;m_Image);
00503 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00504 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00505         k_IplStopHistoryMacro();
00506 <span class="preprocessor">#endif</span>
00507 <span class="preprocessor"></span>}
00508 
<a name="l00509"></a><a class="code" href="classipl_1_1CFloatImage.html#a56">00509</a> <span class="keywordtype">void</span> CFloatImage::PrintInfo()<span class="keyword"> const</span>
00510 <span class="keyword"></span>{
00511         kF_PrintImageInfo(&amp;m_Image);
00512         <span class="comment">// write ROI information</span>
00513         <span class="keywordflow">if</span> (ROIActive()==<span class="keyword">true</span>)
00514         {
00515                 cout &lt;&lt; <span class="stringliteral">" ROI: "</span> &lt;&lt; <a class="code" href="classipl_1_1CGenericImage.html#z30_3">GetROIUpperLeft</a>() &lt;&lt; <span class="stringliteral">" -&gt; "</span> &lt;&lt; <a class="code" href="classipl_1_1CGenericImage.html#z30_4">GetROILowerRight</a>() &lt;&lt; endl;
00516         }
00517         <span class="keywordflow">else</span>
00518                 cout &lt;&lt; <span class="stringliteral">" ROI inactive"</span> &lt;&lt; endl;
00519 }
00520 
<a name="l00521"></a><a class="code" href="classipl_1_1CFloatImage.html#a16">00521</a> ostream&amp; <a class="code" href="namespaceipl.html#a3">operator&lt;&lt;</a>(ostream&amp; s,<span class="keyword">const</span> <a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a>&amp; Img)
00522 {
00523         s &lt;&lt; <span class="stringliteral">"*************** IntImage info ******************\n"</span> &lt;&lt; 
00524                 <span class="stringliteral">" Width="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CFloatImage.html#a32">GetWidth</a>() &lt;&lt; <span class="stringliteral">" Height="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CFloatImage.html#a33">GetHeight</a>() &lt;&lt;
00525                 <span class="stringliteral">" ByteWidth="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CFloatImage.html#a40">GetLineByteWidth</a>() &lt;&lt; <span class="stringliteral">" SizeImage="</span> &lt;&lt;
00526                 (Img.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>())-&gt;TotalSize &lt;&lt; endl &lt;&lt; <span class="stringliteral">" BorderSize="</span> &lt;&lt;
00527                 Img.<a class="code" href="classipl_1_1CFloatImage.html#a34">GetBorderSize</a>() &lt;&lt; <span class="stringliteral">" Origo="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CFloatImage.html#a48">GetOrigo</a>() &lt;&lt; <span class="stringliteral">" Origin="</span>;
00528         
00529         <span class="keywordtype">char</span>* OriginStr;
00530         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/group__abstract.html#a35">k_GetOriginString</a>((Img.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>())-&gt;Origin,&amp;OriginStr);
00531 
00532         s &lt;&lt; OriginStr &lt;&lt; endl;
00533         free(OriginStr);
00534         <span class="comment">// write ROI information</span>
00535         <span class="keywordflow">if</span> (Img.<a class="code" href="classipl_1_1CGenericImage.html#z30_0">ROIActive</a>()==<span class="keyword">true</span>)
00536         {
00537                 s &lt;&lt; <span class="stringliteral">" ROI: "</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CGenericImage.html#z30_3">GetROIUpperLeft</a>() &lt;&lt; <span class="stringliteral">" -&gt; "</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CGenericImage.html#z30_4">GetROILowerRight</a>() &lt;&lt; endl;
00538         }
00539         <span class="keywordflow">else</span>
00540                 s &lt;&lt; <span class="stringliteral">" ROI inactive"</span> &lt;&lt; endl;
00541 
00542         <span class="comment">// write file information</span>
00543         <span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html">TFileInfo</a>* FileInfo=&amp;(Img.<a class="code" href="classipl_1_1CFloatImage.html#a42">GetConstTFloatImagePtr</a>())-&gt;FileInfo;
00544         <span class="keywordflow">if</span> (FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>!=NULL)
00545         {
00546                 s &lt;&lt; <span class="stringliteral">" File name: "</span> &lt;&lt; FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>;
00547         }
00548         <span class="keywordflow">else</span>
00549         {
00550                 s &lt;&lt; <span class="stringliteral">" File name: Not available"</span>;
00551         }
00552         <span class="keywordflow">if</span> (FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>!=NULL)
00553         {
00554                 s &lt;&lt; <span class="stringliteral">" File path: "</span> &lt;&lt; FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>;
00555         }
00556         <span class="keywordflow">else</span>
00557         {
00558                 s &lt;&lt; <span class="stringliteral">" File path: Not available"</span>;
00559         }
00560 
00561         <span class="keywordflow">return</span> s;
00562 }
00563 
<a name="l00564"></a><a class="code" href="classipl_1_1CFloatImage.html#a57">00564</a> <span class="keywordtype">bool</span> CFloatImage::ApplyBias(<span class="keywordtype">float</span> Bias)
00565 {
00566 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00567 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00568         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00569         k_InitString(&amp;History);
00570         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::ApplyBias() Bias=%g"</span>,ipl_HistoryIndent,Bias);
00571         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00572         k_EmptyString(&amp;History);
00573         k_IplStartHistoryMacro();
00574 <span class="preprocessor">#endif</span>
00575 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kF_ApplyBias(Bias,<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00576         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00577         {
00578                 ostringstream ost;
00579                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::ApplyBias() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00580                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00581 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00582 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00583                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00584 <span class="preprocessor">#endif</span>
00585 <span class="preprocessor"></span>        }
00586 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00587 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00588         k_IplStopHistoryMacro();
00589 <span class="preprocessor">#endif</span>
00590 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00591 }
00592 
<a name="l00593"></a><a class="code" href="classipl_1_1CFloatImage.html#a58">00593</a> <span class="keywordtype">bool</span> CFloatImage::ScaleIntensity(<span class="keywordtype">float</span> Prefactor)
00594 {
00595 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00596 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00597         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00598         k_InitString(&amp;History);
00599         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::ScaleIntensity() Prefactor=%g"</span>,ipl_HistoryIndent,Prefactor);
00600         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00601         k_EmptyString(&amp;History);
00602         k_IplStartHistoryMacro();
00603 <span class="preprocessor">#endif</span>
00604 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kF_ScaleIntensity(Prefactor,<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00605         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00606         {
00607                 ostringstream ost;
00608                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::ScaleIntensity() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00609                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00610 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00611 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00612                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00613 <span class="preprocessor">#endif</span>
00614 <span class="preprocessor"></span>        }
00615 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00616 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00617         k_IplStopHistoryMacro();
00618 <span class="preprocessor">#endif</span>
00619 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00620 }
00621 
<a name="l00622"></a><a class="code" href="classipl_1_1CFloatImage.html#a59">00622</a> <span class="keywordtype">bool</span> CFloatImage::Add(<a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Addend)
00623 {
00624 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00625 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00626         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00627         k_InitString(&amp;History);
00628         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::Add() adding a CFloatImage"</span>,ipl_HistoryIndent);
00629         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00630         k_EmptyString(&amp;History);
00631         k_IplStartHistoryMacro();
00632 <span class="preprocessor">#endif</span>
00633 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kF_Add(<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>(),Addend.<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00634         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00635         {
00636                 ostringstream ost;
00637                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::Add() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00638                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00639 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00640 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00641                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00642 <span class="preprocessor">#endif</span>
00643 <span class="preprocessor"></span>        }
00644 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00645 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00646         k_IplStopHistoryMacro();
00647 <span class="preprocessor">#endif</span>
00648 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00649 }
00650 
<a name="l00651"></a><a class="code" href="classipl_1_1CFloatImage.html#a60">00651</a> <span class="keywordtype">bool</span> CFloatImage::Subtract(<a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Subtrahend)
00652 {
00653 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00654 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00655         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00656         k_InitString(&amp;History);
00657         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::Subtract() subtracting a CFloatImage"</span>,ipl_HistoryIndent);
00658         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00659         k_EmptyString(&amp;History);
00660         k_IplStartHistoryMacro();
00661 <span class="preprocessor">#endif</span>
00662 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kF_Subtract(<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>(),Subtrahend.<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00663         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00664         {
00665                 ostringstream ost;
00666                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::Subtract() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00667                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00668 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00669 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00670                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00671 <span class="preprocessor">#endif</span>
00672 <span class="preprocessor"></span>        }
00673 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00674 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00675         k_IplStopHistoryMacro();
00676 <span class="preprocessor">#endif</span>
00677 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00678 }
00679 
<a name="l00680"></a><a class="code" href="classipl_1_1CFloatImage.html#a61">00680</a> <span class="keywordtype">bool</span> CFloatImage::Multiply(<a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Factor)
00681 {
00682 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00683 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00684         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00685         k_InitString(&amp;History);
00686         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::Multiply() multiplying a CFloatImage"</span>,ipl_HistoryIndent);
00687         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00688         k_EmptyString(&amp;History);
00689         k_IplStartHistoryMacro();
00690 <span class="preprocessor">#endif</span>
00691 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kF_Multiply(<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>(),Factor.<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00692         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00693         {
00694                 ostringstream ost;
00695                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::Multiply() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00696                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00697 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00698 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00699                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00700 <span class="preprocessor">#endif</span>
00701 <span class="preprocessor"></span>        }
00702 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00703 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00704         k_IplStopHistoryMacro();
00705 <span class="preprocessor">#endif</span>
00706 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00707 }
00708 
<a name="l00709"></a><a class="code" href="classipl_1_1CFloatImage.html#a62">00709</a> <span class="keywordtype">bool</span> CFloatImage::CopyDisplace(<span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy)
00710 {
00711 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00712 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00713         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00714         k_InitString(&amp;History);
00715         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::CopyDisplace() dx=%d dy=%d"</span>,ipl_HistoryIndent,dx,dy);
00716         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00717         k_EmptyString(&amp;History);
00718         k_IplStartHistoryMacro();
00719 <span class="preprocessor">#endif</span>
00720 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kF_CopyDisplace(dx,dy,<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00721         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00722         {
00723                 ostringstream ost;
00724                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::CopyDisplace() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00725                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00726 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00727 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00728                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00729 <span class="preprocessor">#endif</span>
00730 <span class="preprocessor"></span>        }
00731 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00732 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00733         k_IplStopHistoryMacro();
00734 <span class="preprocessor">#endif</span>
00735 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00736 }
00737 
<a name="l00738"></a><a class="code" href="classipl_1_1CFloatImage.html#a63">00738</a> <span class="keywordtype">bool</span> CFloatImage::CutOrZeroPad(<a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Source)
00739 {
00740 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00741 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00742         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00743         k_InitString(&amp;History);
00744         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::CutOrZeroPad() Source image file info: %s"</span>,
00745                 ipl_HistoryIndent,Source.<a class="code" href="classipl_1_1CFloatImage.html#a17">GetPathAndFileName</a>());
00746         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00747         k_EmptyString(&amp;History);
00748         k_IplStartHistoryMacro();
00749 <span class="preprocessor">#endif</span>
00750 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kF_CutOrZeroPad(<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>(),Source.<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00751         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00752         {
00753                 ostringstream ost;
00754                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::CutOrZeroPad() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00755                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00756 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00757 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00758                 <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00759 <span class="preprocessor">#endif</span>
00760 <span class="preprocessor"></span>        }
00761 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00762 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00763         k_IplStopHistoryMacro();
00764 <span class="preprocessor">#endif</span>
00765 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00766 }
00767 
<a name="l00768"></a><a class="code" href="classipl_1_1CFloatImage.html#a64">00768</a> <span class="keywordtype">bool</span> CFloatImage::Copy(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Source)
00769 {
00770 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00771 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00772         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00773         k_InitString(&amp;History);
00774         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::Copy() source: CStdImage"</span>,ipl_HistoryIndent);
00775         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00776         k_EmptyString(&amp;History);
00777         k_IplStartHistoryMacro();
00778 <span class="preprocessor">#endif</span>
00779 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kF_CopyFromByte(<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>(),Source.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>());
00780         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00781         {
00782                 ostringstream ost;
00783                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::Copy() Failed copying CStdImage"</span> &lt;&lt; IPLAddFileAndLine;
00784                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00785         }
00786         <span class="keywordflow">else</span>
00787                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00788 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00789 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00790         k_IplStopHistoryMacro();
00791         <span class="comment">/* remove the history line added above */</span>
00792         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00793 <span class="preprocessor">#endif</span>
00794 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00795 }
00796 
<a name="l00797"></a><a class="code" href="classipl_1_1CFloatImage.html#a65">00797</a> <span class="keywordtype">bool</span> CFloatImage::Copy(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Source)
00798 {
00799 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00800 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00801         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00802         k_InitString(&amp;History);
00803         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::Copy() source: CIntImage"</span>,ipl_HistoryIndent);
00804         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00805         k_EmptyString(&amp;History);
00806         k_IplStartHistoryMacro();
00807 <span class="preprocessor">#endif</span>
00808 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kF_CopyFromInt(<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>(),Source.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00809         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00810         {
00811                 ostringstream ost;
00812                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::Copy() Failed copying CIntImage"</span> &lt;&lt; IPLAddFileAndLine;
00813                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00814         }
00815         <span class="keywordflow">else</span>
00816                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00817 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00818 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00819         k_IplStopHistoryMacro();
00820         <span class="comment">/* remove the history line added above */</span>
00821         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00822 <span class="preprocessor">#endif</span>
00823 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00824 }
00825 
<a name="l00826"></a><a class="code" href="classipl_1_1CFloatImage.html#a66">00826</a> <span class="keywordtype">bool</span> CFloatImage::Copy(COMPLEXCHOISE mode, <a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a> &amp;Source)
00827 {
00828 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00829 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00830         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00831         k_InitString(&amp;History);
00832         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::Copy() source: CComplexImage"</span>,ipl_HistoryIndent);
00833         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00834         k_EmptyString(&amp;History);
00835         k_IplStartHistoryMacro();
00836 <span class="preprocessor">#endif</span>
00837 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kF_CopyFromComplex(mode,<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>(),Source.<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00838         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00839         {
00840                 ostringstream ost;
00841                 ost &lt;&lt; <span class="stringliteral">"CFloatImage::Copy() Failed copying CComplexImage"</span> &lt;&lt; IPLAddFileAndLine;
00842                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00843         }
00844         <span class="keywordflow">else</span>
00845                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00846 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00847 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00848         k_IplStopHistoryMacro();
00849         <span class="comment">/* remove the history line added above */</span>
00850         <a class="code" href="classipl_1_1CFloatImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00851 <span class="preprocessor">#endif</span>
00852 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00853 }
00854 
<a name="l00855"></a><a class="code" href="classipl_1_1CFloatImage.html#a67">00855</a> <span class="keywordtype">bool</span> CFloatImage::DrawLine(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; Start, <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; End, FLOAT32 Value)
00856 {
00857         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html">T2DInt</a> P1,P2;
00858         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m0">x</a>=Start.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00859         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m1">y</a>=Start.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00860         P2.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m0">x</a>=End.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00861         P2.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m1">y</a>=End.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00862         <span class="keywordflow">return</span> kF_DrawLine(P1,P2,Value,<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00863 }
00864 
<a name="l00865"></a><a class="code" href="classipl_1_1CFloatImage.html#a68">00865</a> <span class="keywordtype">bool</span> CFloatImage::DrawCircle(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; Center, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Radius, FLOAT32 Value)
00866 {
00867         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html">T2DInt</a> P1;
00868         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m0">x</a>=Center.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00869         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m1">y</a>=Center.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00870         <span class="keywordflow">return</span> kF_DrawCircle(P1,Radius,Value,<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00871 }
00872 
00873 } <span class="comment">// end ipl namespace</span>
</pre></div><!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Tag</title>
<base target="_top">
</head>

<body bgcolor="#FFFFFF">

<hr>

<p align="right"><font size="2"><em>Updated <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d. %B %Y %H:%M" startspan -->21. juli 2002 12:29<!--webbot bot="Timestamp" endspan i-checksum="38834" --> by
<a href="http://www.mip.sdu.dk/~edr/">René Dencker
Eriksen</a>(<a href="mailto:edr@mip.sdu.dk">edr@mip.sdu.dk</a>)</em></font></p>
</body>
</html>
