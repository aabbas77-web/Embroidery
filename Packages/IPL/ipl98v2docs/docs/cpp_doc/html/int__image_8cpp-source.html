<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link type="text/css" href="../../doxygen.css" rel="stylesheet">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Image Processing Library 98</title>
</head>

<body>
<h2 align="center"><a href="http://www.mip.sdu.dk/ipl98" target="_blank"><img border="0" src="ipl_doc_header.gif" width="694" height="55"></a></h2>

</body>

</html>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/ipl98/cpp/int_image.cpp</h1><div class="fragment"><pre>00001 <span class="comment">/********************************************************************</span>
00002 <span class="comment">   The Image Processing Library 98 - IPL98</span>
00003 <span class="comment">   Copyright (C) by René Dencker Eriksen - edr@mip.sdu.dk</span>
00004 <span class="comment"></span>
00005 <span class="comment">   This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation. Only</span>
00008 <span class="comment">   addition is, that if the library is used in proprietary software</span>
00009 <span class="comment">   it must be stated that IPL98 was used.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   This library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   More details can be found in the file licence.txt distributed</span>
00016 <span class="comment">   with this library.</span>
00017 <span class="comment">*********************************************************************/</span>
00018 
00019 <span class="preprocessor">#include "int_image.h"</span>
00020 <span class="preprocessor">#include "std_image.h"</span>
00021 <span class="preprocessor">#include "float_image.h"</span>
00022 <span class="preprocessor">#include "complex_image.h"</span>
00023 <span class="preprocessor">#include "../kernel_c/kernel_history.h"</span>
00024 
00025 <span class="keyword">namespace </span>ipl{
00026 
<a name="l00027"></a><a class="code" href="classipl_1_1CIntImage.html#a0">00027</a> CIntImage::CIntImage()
00028 : m_History(&amp;m_Image.History)
00029 {
00030         <span class="comment">// default constructor</span>
00031         kI_InitImage(&amp;m_Image); <span class="comment">// always initialise m_Image in constr.</span>
00032         kI_EmptyImage(&amp;m_Image); <span class="comment">// start with empty</span>
00033         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00034 }
00035 
<a name="l00036"></a><a class="code" href="classipl_1_1CIntImage.html#a1">00036</a> CIntImage::CIntImage(UINT32 Width, UINT32 Height, UINT32 Color)
00037 : m_History(&amp;m_Image.History)
00038 {
00039         <span class="comment">//constr. for empty image</span>
00040         kI_InitImage(&amp;m_Image); <span class="comment">// always initialise m_Image in constr.</span>
00041         kI_AllocImage(Width,Height,&amp;m_Image);
00042         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00043         <span class="keywordflow">if</span> (Color!=0)
00044                 <a class="code" href="classipl_1_1CIntImage.html#a19">Flush</a>(Color);
00045 }
00046 
<a name="l00047"></a><a class="code" href="classipl_1_1CIntImage.html#a2">00047</a> CIntImage::CIntImage(<span class="keyword">const</span> <a class="code" href="classipl_1_1CIntImage.html">CIntImage</a>&amp; SourceImage)
00048 : m_History(&amp;m_Image.History)
00049 {       <span class="comment">// copy constructor</span>
00050         kI_InitImage(&amp;m_Image); <span class="comment">// always initialise m_Image in constr.</span>
00051         *<span class="keyword">this</span>=SourceImage; <span class="comment">// use assignment operator</span>
00052 }
00053 
<a name="l00054"></a><a class="code" href="classipl_1_1CIntImage.html#a3">00054</a> <a class="code" href="classipl_1_1CIntImage.html">CIntImage</a>&amp; CIntImage::operator=(<span class="keyword">const</span> <a class="code" href="classipl_1_1CIntImage.html">CIntImage</a>&amp; SourceImage)
00055 {
00056         <span class="comment">// overloading of assignment operator</span>
00057         <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;SourceImage)
00058         {
00059                 <span class="comment">// ok to do assignment</span>
00060                 <span class="comment">// no copying if source is empty</span>
00061                 <span class="keywordflow">if</span> (SourceImage.<a class="code" href="classipl_1_1CIntImage.html#a49">GetOrigin</a>()!=EMPTY)
00062                 {
00063 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00064 <span class="preprocessor"></span>                        k_IplStartHistoryMacro();
00065 <span class="preprocessor">#endif</span>
00066 <span class="preprocessor"></span>                        <span class="comment">/* call kernel function */</span>
00067                         kI_CopyImage(&amp;m_Image,SourceImage.<a class="code" href="classipl_1_1CIntImage.html#a42">GetConstTIntImagePtr</a>());
00068                         <span class="comment">/* set pointers */</span>
00069                         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a4">SetTextPtr</a>(&amp;m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m1">History</a>);
00070                         <span class="comment">/* copy ROI */</span>
00071                         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=SourceImage.<a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>;
00072                         <span class="keywordflow">if</span> (<a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>==<span class="keyword">true</span>)
00073                         {
00074                                 <a class="code" href="classipl_1_1CGenericImage.html#n1">m_ROIUpperLeft</a>=SourceImage.<a class="code" href="classipl_1_1CGenericImage.html#n1">m_ROIUpperLeft</a>;
00075                                 <a class="code" href="classipl_1_1CGenericImage.html#n2">m_ROILowerRight</a>=SourceImage.<a class="code" href="classipl_1_1CGenericImage.html#n2">m_ROILowerRight</a>;
00076                         }
00077 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00078 <span class="preprocessor"></span>                        <span class="comment">/* this is a really bad hack! Removing the last line added by the C code from</span>
00079 <span class="comment">                           this objects history, inserting the C++ line and appending the just removed</span>
00080 <span class="comment">                           line again. This assumes that only one line is added by the C code. */</span>
00081                         string HistoryTemp;
00082                         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00083                         k_InitString(&amp;History);
00084                         <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00085                         k_IplStopHistoryMacro();
00086                         k_SprintfString(&amp;History,<span class="stringliteral">"%sCFloatImage::operator="</span>,ipl_HistoryIndent);
00087                         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a12">GetItem</a>(<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a13">TotalItems</a>()-1,HistoryTemp);
00088                         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00089                         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00090                         <span class="keywordtype">int</span> k=HistoryTemp.find_first_of(<span class="stringliteral">"\t"</span>);
00091                         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(HistoryTemp.substr(k,HistoryTemp.size()-1-k));
00092                         k_EmptyString(&amp;History);
00093 <span class="preprocessor">#endif</span>
00094 <span class="preprocessor"></span>                }
00095                 <span class="keywordflow">else</span>
00096                 {
00097                         kI_EmptyImage(&amp;m_Image); <span class="comment">// empty image in all cases</span>
00098                 }
00099         }
00100         <span class="keywordflow">else</span>
00101         {
00102                 ostringstream ost;
00103                 ost &lt;&lt; <span class="stringliteral">"CIntImage::operator=() Cannot assign CIntImage to itself"</span> &lt;&lt; IPLAddFileAndLine;
00104                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00105         }
00106         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00107 }
00108 
<a name="l00109"></a><a class="code" href="classipl_1_1CIntImage.html#a4">00109</a> CIntImage::~CIntImage()
00110 {
00111         <span class="comment">//destructor</span>
00112         kI_EmptyImage(&amp;m_Image);
00113 }
00114 
<a name="l00115"></a><a class="code" href="classipl_1_1CIntImage.html#a5">00115</a> <span class="keywordtype">bool</span> CIntImage::Alloc(UINT32 Width, UINT32 Height, UINT32 Color)
00116 {
00117         <span class="keywordtype">bool</span> result=kI_AllocImage(Width,Height,&amp;m_Image);
00118         <span class="keywordflow">if</span> (result==<span class="keyword">false</span>)
00119         {
00120                 ostringstream ost;
00121                 ost &lt;&lt; <span class="stringliteral">"CIntImage::Alloc() Failed allocating image"</span> &lt;&lt; IPLAddFileAndLine;
00122                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00123         }
00124         <span class="keywordflow">else</span>
00125         {
00126                 <span class="keywordflow">if</span> (Color!=0)
00127                         <a class="code" href="classipl_1_1CIntImage.html#a19">Flush</a>(Color);
00128         }
00129         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00130         <span class="keywordflow">return</span> result;
00131 }
00132 
<a name="l00133"></a><a class="code" href="classipl_1_1CIntImage.html#a6">00133</a> <span class="keywordtype">bool</span> CIntImage::AllocFast(UINT32 Width, UINT32 Height)
00134 {
00135         <span class="keywordtype">bool</span> result=kI_AllocImageFast(Width,Height,&amp;m_Image);
00136         <span class="keywordflow">if</span> (result==<span class="keyword">false</span>)
00137         {
00138                 ostringstream ost;
00139                 ost &lt;&lt; <span class="stringliteral">"CIntImage::AllocFast() Failed allocating image"</span> &lt;&lt; IPLAddFileAndLine;
00140                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00141         }
00142         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00143         <span class="keywordflow">return</span> result;
00144 }
00145 
<a name="l00146"></a><a class="code" href="classipl_1_1CIntImage.html#a7">00146</a> <span class="keywordtype">bool</span> CIntImage::Load(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName)
00147 {
00148 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00149 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00150         <a class="code" href="classipl_1_1CText.html">CText</a> TempHistory;
00151         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00152         k_InitString(&amp;History);
00153         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::Load(%s)"</span>,ipl_HistoryIndent,pPathAndFileName);
00154         TempHistory.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00155         k_EmptyString(&amp;History);
00156         k_IplStartHistoryMacro();
00157 <span class="preprocessor">#endif</span>
00158 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00159         <span class="keywordtype">bool</span> ReturnValue=kI_Load(pPathAndFileName,&amp;m_Image);
00160         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">true</span>)
00161         {
00162                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00163 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00164 <span class="preprocessor"></span>                <span class="comment">/* append the new created history in kI_Load to the temporary history and</span>
00165 <span class="comment">                   copy the temporary history back to this objects history */</span>
00166                 TempHistory.<a class="code" href="classipl_1_1CText.html#a15">AddDate</a>(<span class="keyword">false</span>);
00167                 TempHistory.<a class="code" href="classipl_1_1CText.html#a14">AddTime</a>(<span class="keyword">false</span>);
00168                 <span class="keywordtype">bool</span> AddDate=<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a15">AddDate</a>(<span class="keyword">false</span>);
00169                 <span class="keywordtype">bool</span> AddTime=<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a14">AddTime</a>(<span class="keyword">false</span>);
00170                 TempHistory.<a class="code" href="classipl_1_1CText.html#a24">AppendCText</a>(<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>);
00171                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>=TempHistory;
00172                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a15">AddDate</a>(AddDate);
00173                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a14">AddTime</a>(AddTime);
00174 <span class="preprocessor">#endif</span>
00175 <span class="preprocessor"></span>        }
00176         <span class="keywordflow">else</span>
00177         {
00178                 <span class="comment">// load failed</span>
00179                 ostringstream ost;
00180                 ost &lt;&lt; <span class="stringliteral">"CIntImage::Load() Loading failed"</span> &lt;&lt; IPLAddFileAndLine;
00181                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00182         }
00183 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00184 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00185         k_IplStopHistoryMacro();
00186 <span class="preprocessor">#endif</span>
00187 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00188 }
00189 
<a name="l00190"></a><a class="code" href="classipl_1_1CIntImage.html#a8">00190</a> <span class="keywordtype">bool</span> CIntImage::Load(<span class="keyword">const</span> string&amp; PathAndFileName)
00191 {
00192         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CIntImage.html#a7">Load</a>(PathAndFileName.c_str());
00193 }
00194 
<a name="l00195"></a><a class="code" href="classipl_1_1CIntImage.html#a9">00195</a> <span class="keywordtype">bool</span> CIntImage::Save(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName)
00196 {
00197 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00198 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00199         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00200         k_InitString(&amp;History);
00201         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::Save(%s)"</span>,ipl_HistoryIndent,pPathAndFileName);
00202         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00203         k_EmptyString(&amp;History);
00204         k_IplStartHistoryMacro();
00205 <span class="preprocessor">#endif</span>
00206 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00207         <span class="keywordtype">bool</span> ReturnValue=kI_Save(pPathAndFileName,&amp;m_Image);
00208         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00209         {       
00210                 <span class="comment">// load failed</span>
00211                 ostringstream ost;
00212                 ost &lt;&lt; <span class="stringliteral">"CIntImage::Save() Saving failed"</span> &lt;&lt; IPLAddFileAndLine;
00213                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00214 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00215 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00216                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00217 <span class="preprocessor">#endif</span>
00218 <span class="preprocessor"></span>        }
00219 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00220 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00221         k_IplStopHistoryMacro();
00222 <span class="preprocessor">#endif</span>
00223 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00224 }
00225 
<a name="l00226"></a><a class="code" href="classipl_1_1CIntImage.html#a10">00226</a> <span class="keywordtype">bool</span> CIntImage::Save(<span class="keyword">const</span> string&amp; PathAndFileName)
00227 {
00228         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CIntImage.html#a9">Save</a>(PathAndFileName.c_str());
00229 }
00230 
<a name="l00231"></a><a class="code" href="classipl_1_1CIntImage.html#a11">00231</a> <span class="keywordtype">void</span> CIntImage::Empty()
00232 {
00233         <span class="comment">// Deletes all allocated memory for image</span>
00234         <span class="comment">// and resets variables</span>
00235         kI_EmptyImage(&amp;m_Image);
00236         <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00237 }
00238 
<a name="l00239"></a><a class="code" href="classipl_1_1CIntImage.html#a13">00239</a> <span class="keywordtype">bool</span> CIntImage::GetFileName(string&amp; Str)
00240 {
00241         Str.erase();
00242         <span class="keywordflow">if</span> (m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>!=NULL)
00243         {
00244                 Str.append(m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>);
00245                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00246         }
00247         <span class="keywordflow">else</span>
00248                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00249 }
00250 
<a name="l00251"></a><a class="code" href="classipl_1_1CIntImage.html#a14">00251</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* CIntImage::GetFileName()
00252 {
00253         <span class="keywordflow">return</span> m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>;
00254 }
00255 
<a name="l00256"></a><a class="code" href="classipl_1_1CIntImage.html#a15">00256</a> <span class="keywordtype">bool</span> CIntImage::GetPathName(string&amp; Str)
00257 {
00258         Str.erase();
00259         <span class="keywordflow">if</span> (m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>!=NULL)
00260         {
00261                 Str.append(m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>);
00262                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00263         }
00264         <span class="keywordflow">else</span>
00265                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00266 }
00267 
<a name="l00268"></a><a class="code" href="classipl_1_1CIntImage.html#a16">00268</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* CIntImage::GetPathName()
00269 {
00270         <span class="keywordflow">return</span> m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>;
00271 }
00272 
<a name="l00273"></a><a class="code" href="classipl_1_1CIntImage.html#a17">00273</a> <span class="keywordtype">bool</span> CIntImage::GetPathAndFileName(string&amp; Str)
00274 {
00275         Str.erase();
00276         <span class="keywordflow">if</span> (m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>!=NULL)
00277         {
00278                 Str.append(m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>);
00279                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00280         }
00281         <span class="keywordflow">else</span>
00282                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00283 }
00284 
<a name="l00285"></a><a class="code" href="classipl_1_1CIntImage.html#a18">00285</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* CIntImage::GetPathAndFileName()
00286 {
00287         <span class="keywordflow">return</span> m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>;
00288 }
00289 
<a name="l00290"></a><a class="code" href="classipl_1_1CIntImage.html#a19">00290</a> <span class="keywordtype">bool</span> CIntImage::Flush(INT16 Color)
00291 {
00292 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00293 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00294         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00295         k_InitString(&amp;History);
00296         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::Flush(Color=%d)"</span>,ipl_HistoryIndent,Color);
00297         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00298         k_EmptyString(&amp;History);
00299         k_IplStartHistoryMacro();
00300 <span class="preprocessor">#endif</span>
00301 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00302         <span class="keywordtype">bool</span> ReturnValue=kI_FlushImage(Color,&amp;m_Image);
00303         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00304         {
00305                 ostringstream ost;
00306                 ost &lt;&lt; <span class="stringliteral">"CIntImage::Flush() Flush failed - image is empty"</span> &lt;&lt; IPLAddFileAndLine;
00307                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00308 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00309 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00310                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00311 <span class="preprocessor">#endif</span>
00312 <span class="preprocessor"></span>        }
00313 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00314 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00315         k_IplStopHistoryMacro();
00316 <span class="preprocessor">#endif</span>
00317 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00318 }
00319 
<a name="l00320"></a><a class="code" href="classipl_1_1CIntImage.html#a35">00320</a> <span class="keywordtype">bool</span> CIntImage::SetBorder(UINT16 Size, INT16 Color)
00321 {
00322         <span class="comment">// Set the size of image border</span>
00323         <span class="keywordflow">if</span> (kI_SetBorder(Size,Color,&amp;m_Image)==<span class="keyword">false</span>)
00324         {
00325                 ostringstream ost;
00326                 ost &lt;&lt; <span class="stringliteral">"CIntImage::SetBorder() Setting border failed"</span> &lt;&lt; IPLAddFileAndLine;
00327                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00328                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00329         }
00330         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00331 }
00332 
<a name="l00333"></a><a class="code" href="classipl_1_1CIntImage.html#a36">00333</a> <span class="keywordtype">bool</span> CIntImage::SetBorderSize(UINT16 Size)
00334 {
00335         <span class="keywordflow">if</span> (kI_SetBorderSize(Size, &amp;m_Image)==<span class="keyword">false</span>)
00336         {
00337                 ostringstream ost;
00338                 ost &lt;&lt; <span class="stringliteral">"CIntImage::SetBorderSize() Failed setting size and color of border"</span> &lt;&lt; IPLAddFileAndLine;
00339                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00340                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00341         }
00342         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00343 }
00344 
<a name="l00345"></a><a class="code" href="classipl_1_1CIntImage.html#a37">00345</a> <span class="keywordtype">bool</span> CIntImage::SetBorderColor(INT16 Color)
00346 {
00347         <span class="comment">// Set the color of image border</span>
00348         <span class="keywordflow">if</span> (kI_SetBorderColor(Color,&amp;m_Image)==<span class="keyword">false</span>)
00349         {
00350                 ostringstream ost;
00351                 ost &lt;&lt; <span class="stringliteral">"CIntImage::SetBorderColor() Failed setting color of border"</span> &lt;&lt; IPLAddFileAndLine;
00352                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00353                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00354         }
00355         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00356 }
00357 
<a name="l00358"></a><a class="code" href="classipl_1_1CIntImage.html#a38">00358</a> <span class="keywordtype">bool</span> CIntImage::CopySubImage(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a>&amp; SourceImage,<span class="keywordtype">int</span> xmin,<span class="keywordtype">int</span> ymin,
00359                   <span class="keywordtype">int</span> xmax,<span class="keywordtype">int</span> ymax)
00360 {
00361 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00362 <span class="preprocessor"></span>        <span class="comment">/* add comment to history, done by adding to source and removing later (hack) */</span>
00363         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00364         k_InitString(&amp;History);
00365         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::CopySubImage(xmin=%d,ymin=%d,xmax=%d,ymax=%d) Source image file info: %s"</span>,
00366                 ipl_HistoryIndent,xmin,ymin,xmax,ymax,SourceImage.<a class="code" href="classipl_1_1CIntImage.html#a42">GetConstTIntImagePtr</a>()-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>);
00367         SourceImage.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00368         k_EmptyString(&amp;History);
00369         k_IplStartHistoryMacro();
00370 <span class="preprocessor">#endif</span>
00371 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00372         <span class="keywordtype">bool</span> ReturnValue=kI_CopySubImage(xmin,ymin,xmax,ymax,&amp;m_Image,&amp;(SourceImage.<a class="code" href="classipl_1_1CIntImage.html#n0">m_Image</a>));
00373         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00374         {
00375                 ostringstream ost;
00376                 ost &lt;&lt; <span class="stringliteral">"CIntImage::CopySubImage() Failed copying subimage"</span> &lt;&lt; IPLAddFileAndLine;
00377                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00378         }
00379         <span class="keywordflow">else</span>
00380                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00381 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00382 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (&amp;SourceImage!=<span class="keyword">this</span>)
00383         {
00384                 <span class="comment">/* remove the history just added to the source image */</span>
00385                 SourceImage.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00386         }
00387         <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00388         k_IplStopHistoryMacro();
00389 <span class="preprocessor">#endif</span>
00390 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00391 }
00392 
<a name="l00393"></a><a class="code" href="classipl_1_1CIntImage.html#a39">00393</a> <span class="keywordtype">bool</span> CIntImage::CopySubImage(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a>&amp; SourceImage,<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; UpperLeft,
00394                   <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; LowerRight)
00395 {
00396 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00397 <span class="preprocessor"></span>        <span class="comment">/* add comment to history, done by adding to source and removing later (hack) */</span>
00398         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00399         k_InitString(&amp;History);
00400         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::CopySubImage(UpperLeft=(%d,%d),LowerLeft=(%d,%d)) Source image file info: %s"</span>,
00401                 ipl_HistoryIndent,UpperLeft.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),UpperLeft.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),LowerRight.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),LowerRight.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),SourceImage.<a class="code" href="classipl_1_1CIntImage.html#a42">GetConstTIntImagePtr</a>()-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m0">FileInfo</a>.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m2">PathAndFileName</a>);
00402         SourceImage.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00403         k_EmptyString(&amp;History);
00404         k_IplStartHistoryMacro();
00405 <span class="preprocessor">#endif</span>
00406 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00407         <span class="keywordtype">bool</span> ReturnValue=kI_CopySubImage(UpperLeft.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),UpperLeft.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),LowerRight.<a class="code" href="classCPoint2D.html#a13">GetX</a>(),
00408                                         LowerRight.<a class="code" href="classCPoint2D.html#a14">GetY</a>(),&amp;m_Image,&amp;(SourceImage.<a class="code" href="classipl_1_1CIntImage.html#n0">m_Image</a>));
00409         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00410         {
00411                 ostringstream ost;
00412                 ost &lt;&lt; <span class="stringliteral">"CIntImage::CopySubImage() Failed copying subimage"</span> &lt;&lt; IPLAddFileAndLine;
00413                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00414         }
00415         <span class="keywordflow">else</span>
00416                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00417 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00418 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (&amp;SourceImage!=<span class="keyword">this</span>)
00419         {
00420                 <span class="comment">/* remove the history just added to the source image */</span>
00421                 SourceImage.<a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00422         }
00423         <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00424         k_IplStopHistoryMacro();
00425 <span class="preprocessor">#endif</span>
00426 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00427 }
00428 
<a name="l00429"></a><a class="code" href="classipl_1_1CIntImage.html#a40">00429</a> UINT16 CIntImage::GetLineByteWidth()<span class="keyword"> const</span>
00430 <span class="keyword"></span>{
00431         <span class="comment">// get byte width of a scanline</span>
00432         <span class="keywordflow">return</span> m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m6">ByteWidth</a>;
00433 }
00434 
<a name="l00435"></a><a class="code" href="classipl_1_1CIntImage.html#a41">00435</a> INT16* CIntImage::GetImageDataPtr()
00436 {
00437         <span class="keywordflow">return</span> m_Image.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html#m10">pPixelStream</a>;
00438 }
00439 
<a name="l00440"></a><a class="code" href="classipl_1_1CIntImage.html#a42">00440</a> <span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html">TIntImage</a>* CIntImage::GetConstTIntImagePtr()<span class="keyword"> const</span>
00441 <span class="keyword"></span>{
00442         <span class="comment">// get pointer to image data</span>
00443         <span class="keywordflow">return</span> &amp;m_Image;
00444 }
00445 
<a name="l00446"></a><a class="code" href="classipl_1_1CIntImage.html#a43">00446</a> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTIntImage.html">TIntImage</a>* CIntImage::GetTIntImagePtr()
00447 {
00448         <span class="comment">// get pointer to image data</span>
00449         <span class="keywordflow">return</span> &amp;m_Image;
00450 }
00451 
<a name="l00452"></a><a class="code" href="classipl_1_1CIntImage.html#a50">00452</a> <span class="keywordtype">void</span> CIntImage::Rotate90(<span class="keywordtype">int</span> Steps)
00453 {
00454 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00455 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00456         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00457         k_InitString(&amp;History);
00458         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::Rotate90(Steps=%d)"</span>,ipl_HistoryIndent,Steps);
00459         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00460         k_EmptyString(&amp;History);
00461         k_IplStartHistoryMacro();
00462 <span class="preprocessor">#endif</span>
00463 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00464         kI_Rotate90(Steps,&amp;m_Image);
00465         <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00466 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00467 <span class="preprocessor"></span>        k_IplStopHistoryMacro();
00468 <span class="preprocessor">#endif</span>
00469 <span class="preprocessor"></span>}
00470 
<a name="l00471"></a><a class="code" href="classipl_1_1CIntImage.html#a51">00471</a> <span class="keywordtype">void</span> CIntImage::FlipHorisontal()
00472 {
00473 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00474 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00475         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00476         k_InitString(&amp;History);
00477         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::FlipHorisontal()"</span>,ipl_HistoryIndent);
00478         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00479         k_EmptyString(&amp;History);
00480         k_IplStartHistoryMacro();
00481 <span class="preprocessor">#endif</span>
00482 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00483         kI_FlipHorisontal(&amp;m_Image);
00484 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00485 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00486         k_IplStopHistoryMacro();
00487 <span class="preprocessor">#endif</span>
00488 <span class="preprocessor"></span>}
00489 
<a name="l00490"></a><a class="code" href="classipl_1_1CIntImage.html#a52">00490</a> <span class="keywordtype">void</span> CIntImage::FlipVertical()
00491 {
00492 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00493 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00494         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00495         k_InitString(&amp;History);
00496         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::FlipVertical()"</span>,ipl_HistoryIndent);
00497         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00498         k_EmptyString(&amp;History);
00499         k_IplStartHistoryMacro();
00500 <span class="preprocessor">#endif</span>
00501 <span class="preprocessor"></span>        <span class="comment">/* call kernel function */</span>
00502         kI_FlipVertical(&amp;m_Image);
00503 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00504 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00505         k_IplStopHistoryMacro();
00506 <span class="preprocessor">#endif</span>
00507 <span class="preprocessor"></span>}
00508 
<a name="l00509"></a><a class="code" href="classipl_1_1CIntImage.html#a56">00509</a> <span class="keywordtype">void</span> CIntImage::PrintInfo()<span class="keyword"> const</span>
00510 <span class="keyword"></span>{
00511         kI_PrintImageInfo(&amp;m_Image);
00512         <span class="comment">// write ROI information</span>
00513         <span class="keywordflow">if</span> (ROIActive()==<span class="keyword">true</span>)
00514         {
00515                 cout &lt;&lt; <span class="stringliteral">" ROI: "</span> &lt;&lt; <a class="code" href="classipl_1_1CGenericImage.html#z30_3">GetROIUpperLeft</a>() &lt;&lt; <span class="stringliteral">" -&gt; "</span> &lt;&lt; <a class="code" href="classipl_1_1CGenericImage.html#z30_4">GetROILowerRight</a>() &lt;&lt; endl;
00516         }
00517         <span class="keywordflow">else</span>
00518                 cout &lt;&lt; <span class="stringliteral">" ROI inactive"</span> &lt;&lt; endl;
00519 }
00520 
<a name="l00521"></a><a class="code" href="classipl_1_1CIntImage.html#a54">00521</a> ostream&amp; <a class="code" href="namespaceipl.html#a3">operator&lt;&lt;</a>(ostream&amp; s,<span class="keyword">const</span> <a class="code" href="classipl_1_1CIntImage.html">CIntImage</a>&amp; Img)
00522 {
00523         s &lt;&lt; <span class="stringliteral">"*************** IntImage info ******************\n"</span> &lt;&lt; 
00524                 <span class="stringliteral">" Width="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CIntImage.html#a32">GetWidth</a>() &lt;&lt; <span class="stringliteral">" Height="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CIntImage.html#a33">GetHeight</a>() &lt;&lt;
00525                 <span class="stringliteral">" ByteWidth="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CIntImage.html#a40">GetLineByteWidth</a>() &lt;&lt; <span class="stringliteral">" SizeImage="</span> &lt;&lt;
00526                 (Img.<a class="code" href="classipl_1_1CIntImage.html#a42">GetConstTIntImagePtr</a>())-&gt;TotalSize &lt;&lt; endl &lt;&lt; <span class="stringliteral">" BorderSize="</span> &lt;&lt;
00527                 Img.<a class="code" href="classipl_1_1CIntImage.html#a34">GetBorderSize</a>() &lt;&lt; <span class="stringliteral">" Origo="</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CIntImage.html#a48">GetOrigo</a>() &lt;&lt; <span class="stringliteral">" Origin="</span>;
00528         
00529         <span class="keywordtype">char</span>* OriginStr;
00530         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/group__abstract.html#a35">k_GetOriginString</a>((Img.<a class="code" href="classipl_1_1CIntImage.html#a42">GetConstTIntImagePtr</a>())-&gt;Origin,&amp;OriginStr);
00531 
00532         s &lt;&lt; OriginStr &lt;&lt; endl;
00533         free(OriginStr);
00534         <span class="comment">// write ROI information</span>
00535         <span class="keywordflow">if</span> (Img.<a class="code" href="classipl_1_1CGenericImage.html#z30_0">ROIActive</a>()==<span class="keyword">true</span>)
00536         {
00537                 s &lt;&lt; <span class="stringliteral">" ROI: "</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CGenericImage.html#z30_3">GetROIUpperLeft</a>() &lt;&lt; <span class="stringliteral">" -&gt; "</span> &lt;&lt; Img.<a class="code" href="classipl_1_1CGenericImage.html#z30_4">GetROILowerRight</a>() &lt;&lt; endl;
00538         }
00539         <span class="keywordflow">else</span>
00540                 s &lt;&lt; <span class="stringliteral">" ROI inactive"</span> &lt;&lt; endl;
00541 
00542         <span class="comment">// write file information</span>
00543         <span class="keyword">const</span> <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html">TFileInfo</a>* FileInfo=&amp;(Img.<a class="code" href="classipl_1_1CIntImage.html#a42">GetConstTIntImagePtr</a>())-&gt;FileInfo;
00544         <span class="keywordflow">if</span> (FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>!=NULL)
00545         {
00546                 s &lt;&lt; <span class="stringliteral">" File name: "</span> &lt;&lt; FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m0">FileName</a>;
00547         }
00548         <span class="keywordflow">else</span>
00549         {
00550                 s &lt;&lt; <span class="stringliteral">" File name: Not available"</span>;
00551         }
00552         <span class="keywordflow">if</span> (FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>!=NULL)
00553         {
00554                 s &lt;&lt; <span class="stringliteral">" File path: "</span> &lt;&lt; FileInfo-&gt;<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTFileInfo.html#m1">PathName</a>;
00555         }
00556         <span class="keywordflow">else</span>
00557         {
00558                 s &lt;&lt; <span class="stringliteral">" File path: Not available"</span>;
00559         }
00560         <span class="keywordflow">return</span> s;
00561 }
00562 
<a name="l00563"></a><a class="code" href="classipl_1_1CIntImage.html#a57">00563</a> <span class="keywordtype">bool</span> CIntImage::ApplyBias(<span class="keywordtype">int</span> Bias)
00564 {
00565 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00566 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00567         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00568         k_InitString(&amp;History);
00569         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::ApplyBias() Bias=%d"</span>,ipl_HistoryIndent,Bias);
00570         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00571         k_EmptyString(&amp;History);
00572         k_IplStartHistoryMacro();
00573 <span class="preprocessor">#endif</span>
00574 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kI_ApplyBias(Bias,<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00575         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00576         {
00577                 ostringstream ost;
00578                 ost &lt;&lt; <span class="stringliteral">"CIntImage::ApplyBias() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00579                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00580 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00581 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00582                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00583 <span class="preprocessor">#endif</span>
00584 <span class="preprocessor"></span>        }
00585 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00586 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00587         k_IplStopHistoryMacro();
00588 <span class="preprocessor">#endif</span>
00589 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00590 }
00591 
<a name="l00592"></a><a class="code" href="classipl_1_1CIntImage.html#a58">00592</a> <span class="keywordtype">bool</span> CIntImage::ScaleIntensity(<span class="keywordtype">float</span> Prefactor)
00593 {
00594 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00595 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00596         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00597         k_InitString(&amp;History);
00598         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::ScaleIntensity() Prefactor=%g"</span>,ipl_HistoryIndent,Prefactor);
00599         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00600         k_EmptyString(&amp;History);
00601         k_IplStartHistoryMacro();
00602 <span class="preprocessor">#endif</span>
00603 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kI_ScaleIntensity(Prefactor,<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00604         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00605         {
00606                 ostringstream ost;
00607                 ost &lt;&lt; <span class="stringliteral">"CIntImage::ScaleIntensity() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00608                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00609 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00610 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00611                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00612 <span class="preprocessor">#endif</span>
00613 <span class="preprocessor"></span>        }
00614 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00615 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00616         k_IplStopHistoryMacro();
00617 <span class="preprocessor">#endif</span>
00618 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00619 }
00620 
<a name="l00621"></a><a class="code" href="classipl_1_1CIntImage.html#a59">00621</a> <span class="keywordtype">bool</span> CIntImage::Add(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Addend)
00622 {
00623 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00624 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00625         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00626         k_InitString(&amp;History);
00627         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::Add() adding a CIntImage"</span>,ipl_HistoryIndent);
00628         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00629         k_EmptyString(&amp;History);
00630         k_IplStartHistoryMacro();
00631 <span class="preprocessor">#endif</span>
00632 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kI_Add(<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),Addend.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00633         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00634         {
00635                 ostringstream ost;
00636                 ost &lt;&lt; <span class="stringliteral">"CIntImage::Add() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00637                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00638 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00639 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00640                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00641 <span class="preprocessor">#endif</span>
00642 <span class="preprocessor"></span>        }
00643 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00644 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00645         k_IplStopHistoryMacro();
00646 <span class="preprocessor">#endif</span>
00647 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00648 }
00649 
<a name="l00650"></a><a class="code" href="classipl_1_1CIntImage.html#a60">00650</a> <span class="keywordtype">bool</span> CIntImage::Subtract(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Subtrahend)
00651 {
00652 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00653 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00654         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00655         k_InitString(&amp;History);
00656         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::Subtract() subtracting a CIntImage"</span>,ipl_HistoryIndent);
00657         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00658         k_EmptyString(&amp;History);
00659         k_IplStartHistoryMacro();
00660 <span class="preprocessor">#endif</span>
00661 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kI_Subtract(<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),Subtrahend.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00662         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00663         {
00664                 ostringstream ost;
00665                 ost &lt;&lt; <span class="stringliteral">"CIntImage::Subtract() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00666                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00667 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00668 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00669                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00670 <span class="preprocessor">#endif</span>
00671 <span class="preprocessor"></span>        }
00672 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00673 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00674         k_IplStopHistoryMacro();
00675 <span class="preprocessor">#endif</span>
00676 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00677 }
00678 
<a name="l00679"></a><a class="code" href="classipl_1_1CIntImage.html#a61">00679</a> <span class="keywordtype">bool</span> CIntImage::Multiply(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Factor)
00680 {
00681 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00682 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00683         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00684         k_InitString(&amp;History);
00685         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::Multiply() multiplying a CIntImage"</span>,ipl_HistoryIndent);
00686         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00687         k_EmptyString(&amp;History);
00688         k_IplStartHistoryMacro();
00689 <span class="preprocessor">#endif</span>
00690 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kI_Multiply(<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),Factor.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00691         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00692         {
00693                 ostringstream ost;
00694                 ost &lt;&lt; <span class="stringliteral">"CIntImage::Multiply() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00695                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00696 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00697 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00698                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00699 <span class="preprocessor">#endif</span>
00700 <span class="preprocessor"></span>        }
00701 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00702 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00703         k_IplStopHistoryMacro();
00704 <span class="preprocessor">#endif</span>
00705 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00706 }
00707 
<a name="l00708"></a><a class="code" href="classipl_1_1CIntImage.html#a62">00708</a> <span class="keywordtype">bool</span> CIntImage::CopyDisplace(<span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy)
00709 {
00710 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00711 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00712         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00713         k_InitString(&amp;History);
00714         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::CopyDisplace() dx=%d dy=%d"</span>,ipl_HistoryIndent,dx,dy);
00715         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00716         k_EmptyString(&amp;History);
00717         k_IplStartHistoryMacro();
00718 <span class="preprocessor">#endif</span>
00719 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kI_CopyDisplace(dx,dy,<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00720         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00721         {
00722                 ostringstream ost;
00723                 ost &lt;&lt; <span class="stringliteral">"CIntImage::CopyDisplace() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00724                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00725 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00726 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00727                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00728 <span class="preprocessor">#endif</span>
00729 <span class="preprocessor"></span>        }
00730 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00731 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00732         k_IplStopHistoryMacro();
00733 <span class="preprocessor">#endif</span>
00734 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00735 }
00736 
<a name="l00737"></a><a class="code" href="classipl_1_1CIntImage.html#a63">00737</a> <span class="keywordtype">bool</span> CIntImage::CutOrZeroPad(<a class="code" href="classipl_1_1CIntImage.html">CIntImage</a> &amp;Source)
00738 {
00739 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00740 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00741         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00742         k_InitString(&amp;History);
00743         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::CutOrZeroPad() Source image file info: %s"</span>,
00744                 ipl_HistoryIndent,Source.<a class="code" href="classipl_1_1CIntImage.html#a17">GetPathAndFileName</a>());
00745         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00746         k_EmptyString(&amp;History);
00747         k_IplStartHistoryMacro();
00748 <span class="preprocessor">#endif</span>
00749 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kI_CutOrZeroPad(<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),Source.<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00750         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00751         {
00752                 ostringstream ost;
00753                 ost &lt;&lt; <span class="stringliteral">"CIntImage::CutOrZeroPad() Failed"</span> &lt;&lt; IPLAddFileAndLine;
00754                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00755 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00756 <span class="preprocessor"></span>                <span class="comment">/* remove the history line added above */</span>
00757                 <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00758 <span class="preprocessor">#endif</span>
00759 <span class="preprocessor"></span>        }
00760 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00761 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00762         k_IplStopHistoryMacro();
00763 <span class="preprocessor">#endif</span>
00764 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00765 }
00766 
<a name="l00767"></a><a class="code" href="classipl_1_1CIntImage.html#a64">00767</a> <span class="keywordtype">bool</span> CIntImage::Copy(<a class="code" href="classipl_1_1CStdImage.html">CStdImage</a> &amp;Source)
00768 {
00769 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00770 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00771         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00772         k_InitString(&amp;History);
00773         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::Copy() source: CStdImage"</span>,ipl_HistoryIndent);
00774         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00775         k_EmptyString(&amp;History);
00776         k_IplStartHistoryMacro();
00777 <span class="preprocessor">#endif</span>
00778 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kI_CopyFromByte(<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),Source.<a class="code" href="classipl_1_1CStdImage.html#a62">GetTImagePtr</a>());
00779         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00780         {
00781                 ostringstream ost;
00782                 ost &lt;&lt; <span class="stringliteral">"CIntImage::Copy() Failed copying CStdImage"</span> &lt;&lt; IPLAddFileAndLine;
00783                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00784         }
00785         <span class="keywordflow">else</span>
00786                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00787 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00788 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00789         k_IplStopHistoryMacro();
00790         <span class="comment">/* remove the history line added above */</span>
00791         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00792 <span class="preprocessor">#endif</span>
00793 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00794 }
00795 
<a name="l00796"></a><a class="code" href="classipl_1_1CIntImage.html#a65">00796</a> <span class="keywordtype">bool</span> CIntImage::Copy(<a class="code" href="classipl_1_1CFloatImage.html">CFloatImage</a> &amp;Source)
00797 {
00798 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00799 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00800         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00801         k_InitString(&amp;History);
00802         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::Copy() source: CFloatImage"</span>,ipl_HistoryIndent);
00803         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00804         k_EmptyString(&amp;History);
00805         k_IplStartHistoryMacro();
00806 <span class="preprocessor">#endif</span>
00807 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kI_CopyFromFloat(<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),Source.<a class="code" href="classipl_1_1CFloatImage.html#a43">GetTFloatImagePtr</a>());
00808         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00809         {
00810                 ostringstream ost;
00811                 ost &lt;&lt; <span class="stringliteral">"CIntImage::Copy() Failed copying CIntImage"</span> &lt;&lt; IPLAddFileAndLine;
00812                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00813         }
00814         <span class="keywordflow">else</span>
00815                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00816 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00817 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00818         k_IplStopHistoryMacro();
00819         <span class="comment">/* remove the history line added above */</span>
00820         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00821 <span class="preprocessor">#endif</span>
00822 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00823 }
00824 
<a name="l00825"></a><a class="code" href="classipl_1_1CIntImage.html#a66">00825</a> <span class="keywordtype">bool</span> CIntImage::Copy(COMPLEXCHOISE mode, <a class="code" href="classipl_1_1CComplexImage.html">CComplexImage</a> &amp;Source)
00826 {
00827 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00828 <span class="preprocessor"></span>        <span class="comment">/* add comment to history */</span>
00829         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html">TString</a> History;
00830         k_InitString(&amp;History);
00831         k_SprintfString(&amp;History,<span class="stringliteral">"%sCIntImage::Copy() source: CComplexImage"</span>,ipl_HistoryIndent);
00832         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a7">AppendIPL</a>(History.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structTString.html#m2">pChars</a>);
00833         k_EmptyString(&amp;History);
00834         k_IplStartHistoryMacro();
00835 <span class="preprocessor">#endif</span>
00836 <span class="preprocessor"></span>        <span class="keywordtype">bool</span> ReturnValue=kI_CopyFromComplex(mode,<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>(),Source.<a class="code" href="classipl_1_1CComplexImage.html#a52">GetTComplexImagePtr</a>());
00837         <span class="keywordflow">if</span> (ReturnValue==<span class="keyword">false</span>)
00838         {
00839                 ostringstream ost;
00840                 ost &lt;&lt; <span class="stringliteral">"CIntImage::Copy() Failed copying CComplexImage"</span> &lt;&lt; IPLAddFileAndLine;
00841                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00842         }
00843         <span class="keywordflow">else</span>
00844                 <a class="code" href="classipl_1_1CGenericImage.html#n0">m_ROIActive</a>=<span class="keyword">false</span>;
00845 <span class="preprocessor">#ifdef IPL_ADD_HISTORY</span>
00846 <span class="preprocessor"></span>        <span class="comment">/* end history appending (remove a leading '\t' character) */</span>
00847         k_IplStopHistoryMacro();
00848         <span class="comment">/* remove the history line added above */</span>
00849         <a class="code" href="classipl_1_1CIntImage.html#m0">m_History</a>.<a class="code" href="classipl_1_1CText.html#a23">RemoveLastLine</a>();
00850 <span class="preprocessor">#endif</span>
00851 <span class="preprocessor"></span>        <span class="keywordflow">return</span> ReturnValue;
00852 }
00853 
<a name="l00854"></a><a class="code" href="classipl_1_1CIntImage.html#a67">00854</a> <span class="keywordtype">bool</span> CIntImage::DrawLine(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; Start, <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; End, INT16 Value)
00855 {
00856         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html">T2DInt</a> P1,P2;
00857         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m0">x</a>=Start.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00858         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m1">y</a>=Start.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00859         P2.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m0">x</a>=End.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00860         P2.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m1">y</a>=End.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00861         <span class="keywordflow">return</span> kI_DrawLine(P1,P2,Value,<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00862 }
00863 
<a name="l00864"></a><a class="code" href="classipl_1_1CIntImage.html#a68">00864</a> <span class="keywordtype">bool</span> CIntImage::DrawCircle(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a>&amp; Center, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Radius, INT16 Value)
00865 {
00866         <a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html">T2DInt</a> P1;
00867         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m0">x</a>=Center.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00868         P1.<a class="codeRef" doxygen="ipl98_tag.cfg:../../c_doc/html/" href="../../c_doc/html/structT2DInt.html#m1">y</a>=Center.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00869         <span class="keywordflow">return</span> kI_DrawCircle(P1,Radius,Value,<a class="code" href="classipl_1_1CIntImage.html#a43">GetTIntImagePtr</a>());
00870 }
00871 
00872 } <span class="comment">// end ipl namespace</span>
</pre></div><!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Tag</title>
<base target="_top">
</head>

<body bgcolor="#FFFFFF">

<hr>

<p align="right"><font size="2"><em>Updated <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d. %B %Y %H:%M" startspan -->21. juli 2002 12:29<!--webbot bot="Timestamp" endspan i-checksum="38834" --> by
<a href="http://www.mip.sdu.dk/~edr/">René Dencker
Eriksen</a>(<a href="mailto:edr@mip.sdu.dk">edr@mip.sdu.dk</a>)</em></font></p>
</body>
</html>
