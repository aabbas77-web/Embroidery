<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link type="text/css" href="../../doxygen.css" rel="stylesheet">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Image Processing Library 98</title>
</head>

<body>
<h2 align="center"><a href="http://www.mip.sdu.dk/ipl98" target="_blank"><img border="0" src="ipl_doc_header.gif" width="694" height="55"></a></h2>

</body>

</html>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/ipl98/cpp/positiongroup2d.h</h1><div class="fragment"><pre>00001 <span class="comment">/********************************************************************</span>
00002 <span class="comment">   The Image Processing Library 98 - IPL98</span>
00003 <span class="comment">   Copyright (C) by René Dencker Eriksen - edr@mip.sdu.dk</span>
00004 <span class="comment"></span>
00005 <span class="comment">   This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation. Only</span>
00008 <span class="comment">   addition is, that if the library is used in proprietary software</span>
00009 <span class="comment">   it must be stated that IPL98 was used.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   This library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   More details can be found in the file licence.txt distributed</span>
00016 <span class="comment">   with this library.</span>
00017 <span class="comment">*********************************************************************/</span>
00018 
00019 <span class="preprocessor">#ifndef _IPL98_POSITIONGROUP2D_H</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#define _IPL98_POSITIONGROUP2D_H</span>
00021 <span class="preprocessor"></span>
00022 <span class="preprocessor">#include "positiongroup2d_const_it.h"</span>
00023 <span class="preprocessor">#include "positiongroup2d_it.h"</span>
00024 <span class="preprocessor">#include "error.h"</span>
00025 <span class="preprocessor">#include "../kernel_c/ipl98_types.h"</span>
00026 <span class="preprocessor">#include &lt;ios&gt;</span>
00027 <span class="preprocessor">#include &lt;iomanip&gt;</span>
00028 <span class="preprocessor">#include &lt;vector&gt;</span>
00029 <span class="preprocessor">#include &lt;sstream&gt;</span>
00030 
00031 <span class="keyword">namespace </span>ipl{ <span class="comment">// use namespace ipl</span>
00032 
00033 <span class="keyword">using</span> std::ifstream;
00034 <span class="keyword">using</span> std::ostream;
00035 <span class="keyword">using</span> std::vector;
00036 <span class="keyword">using</span> std::ostringstream;
00037 <span class="comment">// external definitions</span>
00038 <span class="keyword">class </span>CImage;
00039 
00094 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00095"></a><a class="code" href="classipl_1_1CPositionGroup2D.html">00095</a> <span class="keyword">class </span><a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D</a> {
00096         <span class="keyword">protected</span>: <span class="comment">// attributes</span>
00097                 vector&lt; T &gt; m_Positions;
<a name="l00099"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#n1">00099</a>                 T <a class="code" href="classipl_1_1CPositionGroup2D.html#n1">m_Top</a>;
<a name="l00101"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#n2">00101</a>                 T <a class="code" href="classipl_1_1CPositionGroup2D.html#n2">m_Bottom</a>;
<a name="l00103"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#n3">00103</a>                 T <a class="code" href="classipl_1_1CPositionGroup2D.html#n3">m_Left</a>;
<a name="l00105"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#n4">00105</a>                 T <a class="code" href="classipl_1_1CPositionGroup2D.html#n4">m_Right</a>;
00106         <span class="keyword">public</span>: <span class="comment">// methods</span>
00110 <span class="comment"></span>                <a class="code" href="classipl_1_1CPositionGroup2D.html#a0">CPositionGroup2D</a>(<span class="keyword">const</span> T&amp; InitBoundaryVal=T());
00115                 <a class="code" href="classipl_1_1CPositionGroup2D.html#a0">CPositionGroup2D</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> InitialSize);
00118                 <a class="code" href="classipl_1_1CPositionGroup2D.html#a0">CPositionGroup2D</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D</a>&amp; SourceGroup);
00121                 <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D</a>&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html#a3">operator=</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D</a>&amp; SourceGroup);
00125                 <span class="keyword">inline</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html#a4">operator[]</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index);
00129                 <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html#a4">operator[]</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index) <span class="keyword">const</span>;
00131                 <a class="code" href="classipl_1_1CPositionGroup2D.html#a6">~CPositionGroup2D</a>();
00134                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a7">Empty</a>();
00139                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a8">EmptyNoDeallocation</a>();
<a name="l00146"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#s0">00146</a>                 <span class="keyword">typedef</span> <a class="code" href="classipl_1_1CPositionGroup2DIterator.html">CPositionGroup2DIterator&lt;T&gt;</a> <a class="code" href="classipl_1_1CPositionGroup2D.html#s0">Iterator</a>;
<a name="l00153"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#s1">00153</a>                 <span class="keyword">typedef</span> <a class="code" href="classipl_1_1CPositionGroup2DConstIterator.html">CPositionGroup2DConstIterator&lt;T&gt;</a> <a class="code" href="classipl_1_1CPositionGroup2D.html#s1">ConstIterator</a>;
<a name="l00156"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a9">00156</a>                 <span class="keyword">inline</span> Iterator <a class="code" href="classipl_1_1CPositionGroup2D.html#a9">End</a>(){<span class="keywordflow">return</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#s0">Iterator</a>(m_Positions.end());}
<a name="l00159"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a10">00159</a>                 <span class="keyword">inline</span> Iterator <a class="code" href="classipl_1_1CPositionGroup2D.html#a10">Begin</a>(){<span class="keywordflow">return</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#s0">Iterator</a>(m_Positions.begin());}
00162                 <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html#a11">GetTop</a>() <span class="keyword">const</span>;
00165                 <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html#a12">GetBottom</a>() <span class="keyword">const</span>;
00168                 <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html#a13">GetLeft</a>() <span class="keyword">const</span>;
00171                 <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html#a14">GetRight</a>() <span class="keyword">const</span>;
00175                 <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a15">GetTotalPositions</a>() <span class="keyword">const</span>;
00180                 <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a16">GetWidth</a>() <span class="keyword">const</span>;
00185                 <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a17">GetHeight</a>() <span class="keyword">const</span>;
00191                 <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a18">GetAllocatedPositions</a>() <span class="keyword">const</span>;
00195                 <span class="keyword">inline</span> T <a class="code" href="classipl_1_1CPositionGroup2D.html#a19">GetPosition</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index) <span class="keyword">const</span>;
<a name="l00199"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a20">00199</a>                 <span class="keyword">const</span> vector&lt;T&gt;&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html#a20">GetDataReference</a>()<span class="keyword"> const</span>{<span class="keywordflow">return</span> m_Positions;}
<a name="l00205"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a21">00205</a>                 vector&lt;T&gt;&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html#a20">GetDataReference</a>() {<span class="keywordflow">return</span> m_Positions;}
00211                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a22">ReAllocPositions</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NewSize);
00217                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a23">AdjustSizeOfPositions</a>();
00222                 <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a24">AddPosition</a>(<span class="keyword">const</span> T&amp; Pos);
00231                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a25">InsertPosition</a>(T Pos, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index);
00254                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a26">RemovePosition</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index);
00261                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a27">RemovePositionSlow</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index);
00268                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a28">RemoveDuplicates</a>();
00276                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a29">PosInGroup</a>(<span class="keyword">const</span> T&amp; Pos,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; Index);
00286                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a30">Load</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName);
00304                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a31">Save</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName);
00318                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a32">CopyToImage</a>(COLORTYPE BackGround, CImage&amp; Dest, <span class="keywordtype">bool</span> Absolute=<span class="keyword">false</span>);
00328                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a33">PrintInfo</a>(<span class="keywordtype">bool</span> PrintPositions,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> PosPrLine=5, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Precision=4);
00330                 <span class="keyword">friend</span> ostream&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html#a0">operator&lt;&lt;</a>(ostream&amp; s,<span class="keyword">const</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a0">CPositionGroup2D</a>&amp; Group);
00331                 
00335                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a34">UpdateBoundaries</a>();
00336 
00342                 <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a35">RemovePositionFast</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index);
00343                 
00347                 <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a36">AddPositionFast</a>(<span class="keyword">const</span> T&amp; Pos);
00348 
00355                 <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a37">InsertPositionFast</a>(T Pos, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index);
00356 
00360                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a38">AddOffset</a>(<span class="keyword">const</span> T&amp; Offset);
00361 
00370                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a39">Sort</a>();
00371         <span class="keyword">private</span>: <span class="comment">// methods</span>
00372                 <span class="comment">// if used positions is equal to capacity, it reserves double of the</span>
00373                 <span class="comment">// current capacity in m_Positions,</span>
00374                 <span class="comment">// if capacity is 0, a new capacity of 2 is allocated.</span>
00375                 <span class="keyword">inline</span> <span class="keywordtype">void</span> DoubleCapacity();
00376                 <span class="comment">// updates the boundaries according to given Pos, used </span>
00377                 <span class="comment">// by the add and insert methods</span>
00378                 <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#a34">UpdateBoundaries</a>(<span class="keyword">const</span> T&amp; Pos);
00379         <span class="keyword">protected</span>: <span class="comment">// methods</span>
00382 <span class="comment"></span>                <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#b0">SkipSpaceAndComments</a>(ifstream&amp; s);
00383 };
00384 
00388 
00389 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00390"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a4">00390</a> <span class="keyword">inline</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::operator[]</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index)
00391 {
00392         <span class="keywordflow">return</span> m_Positions[Index];
00393 }
00394 
00395 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00396"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a5">00396</a> <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::operator[]</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index)<span class="keyword"> const</span>
00397 <span class="keyword"></span>{
00398         <span class="keywordflow">return</span> m_Positions[Index];
00399 }
00400 
00401 
00402 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00403"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a11">00403</a> <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::GetTop</a>()<span class="keyword"> const</span>
00404 <span class="keyword"></span>{
00405         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#n1">m_Top</a>;
00406 }
00407 
00408 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00409"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a12">00409</a> <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::GetBottom</a>()<span class="keyword"> const</span>
00410 <span class="keyword"></span>{
00411         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#n2">m_Bottom</a>;
00412 }
00413 
00414 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00415"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a13">00415</a> <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::GetLeft</a>()<span class="keyword"> const</span>
00416 <span class="keyword"></span>{
00417         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#n3">m_Left</a>;
00418 }
00419 
00420 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00421"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a14">00421</a> <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::GetRight</a>()<span class="keyword"> const</span>
00422 <span class="keyword"></span>{
00423         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#n4">m_Right</a>;
00424 }
00425 
00426 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00427"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a15">00427</a> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::GetTotalPositions</a>()<span class="keyword"> const</span>
00428 <span class="keyword"></span>{
00429         <span class="keywordflow">return</span> m_Positions.size();
00430 }
00431 
00432 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00433"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a16">00433</a> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::GetWidth</a>()<span class="keyword"> const</span>
00434 <span class="keyword"></span>{
00435         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#n4">m_Right</a>.GetX()-<a class="code" href="classipl_1_1CPositionGroup2D.html#n3">m_Left</a>.GetX()+1;
00436 }
00437 
00438 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00439"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a17">00439</a> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::GetHeight</a>()<span class="keyword"> const</span>
00440 <span class="keyword"></span>{
00441         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CPositionGroup2D.html#n2">m_Bottom</a>.GetY()-<a class="code" href="classipl_1_1CPositionGroup2D.html#n1">m_Top</a>.GetY()+1;
00442 }
00443 
00444 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00445"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a18">00445</a> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::GetAllocatedPositions</a>()<span class="keyword"> const</span>
00446 <span class="keyword"></span>{
00447         <span class="keywordflow">return</span> m_Positions.capacity();
00448 }
00449 
00450 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00451"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a19">00451</a> <span class="keyword">inline</span> T <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::GetPosition</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index)<span class="keyword"> const</span>
00452 <span class="keyword"></span>{
00453         <span class="keywordflow">if</span> (Index&lt;m_Positions.size())
00454                 <span class="keywordflow">return</span> m_Positions[Index];
00455         <span class="keywordflow">else</span>
00456         {
00457                 ostringstream ost;
00458                 ost &lt;&lt; <span class="stringliteral">"CPositionGroup2D::GetPosition() Index("</span> &lt;&lt; Index &lt;&lt; <span class="stringliteral">") out of range"</span> &lt;&lt; IPLAddFileAndLine;
00459                 CError::ShowMessage(IPL_ERROR,ost.str().c_str());
00460                 <span class="keywordflow">return</span> T(0,0);
00461         }
00462 }
00463 
00464 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00465"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a24">00465</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::AddPosition</a>(<span class="keyword">const</span> T&amp; Pos)
00466 {
00467         DoubleCapacity(); <span class="comment">// doubles the capacity if necessary</span>
00468         m_Positions.push_back(Pos);
00469         <a class="code" href="classipl_1_1CPositionGroup2D.html#a34">UpdateBoundaries</a>(Pos);
00470 }
00471 
00472 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00473"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a35">00473</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::RemovePositionFast</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index)
00474 {
00475         m_Positions[Index]=m_Positions[<a class="code" href="classipl_1_1CPositionGroup2D.html#a15">GetTotalPositions</a>()-1];
00476         m_Positions.resize(<a class="code" href="classipl_1_1CPositionGroup2D.html#a15">GetTotalPositions</a>()-1);
00477         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00478 }
00479 
00480 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00481"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a36">00481</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::AddPositionFast</a>(<span class="keyword">const</span> T&amp; Pos)
00482 {
00483         DoubleCapacity(); <span class="comment">// doubles the capacity if necessary</span>
00484         m_Positions.push_back(Pos);
00485 }
00486 
00487 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00488"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#a37">00488</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CPositionGroup2D.html">CPositionGroup2D&lt;T&gt;::InsertPositionFast</a>(T Pos, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index)
00489 {
00490         vector&lt; T &gt; v;
00491         v.assign(m_Positions.begin()+Index,m_Positions.end());
00492         m_Positions[Index]=Pos;
00493         m_Positions.resize(Index+1);
00494         std::vector&lt; T &gt;::const_iterator it;
00495         <span class="keywordflow">for</span>(it=v.begin(); it!=v.end(); ++it)
00496         {
00497                 m_Positions.push_back(*it);
00498         }
00499         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00500 }
00501 
00502 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
00503 <span class="keyword">inline</span> <span class="keywordtype">void</span> CPositionGroup2D&lt;T&gt;::DoubleCapacity()
00504 {
00505         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c=<a class="code" href="classipl_1_1CPositionGroup2D.html#a18">GetAllocatedPositions</a>();
00506         <span class="keywordflow">if</span> (c==<a class="code" href="classipl_1_1CPositionGroup2D.html#a15">GetTotalPositions</a>())
00507                 c==0 ? m_Positions.reserve(2) : m_Positions.reserve(2*c);
00508 }
00509 
00510 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
00511 <span class="keyword">inline</span> <span class="keywordtype">void</span> CPositionGroup2D&lt;T&gt;::UpdateBoundaries(<span class="keyword">const</span> T&amp; Pos)
00512 {
00513         <span class="keywordflow">if</span> (m_Positions.size()==1)
00514         {
00515                 <span class="comment">// first time, set all boundaries to first inserted position</span>
00516                 <a class="code" href="classipl_1_1CPositionGroup2D.html#n4">m_Right</a>=Pos;
00517                 <a class="code" href="classipl_1_1CPositionGroup2D.html#n3">m_Left</a>=Pos;
00518                 <a class="code" href="classipl_1_1CPositionGroup2D.html#n2">m_Bottom</a>=Pos;
00519                 <a class="code" href="classipl_1_1CPositionGroup2D.html#n1">m_Top</a>=Pos;
00520         }
00521         <span class="keywordflow">else</span>
00522         {
00523                 <span class="keywordflow">if</span> (Pos.GetX()&gt;<a class="code" href="classipl_1_1CPositionGroup2D.html#n4">m_Right</a>.GetX())
00524                         <a class="code" href="classipl_1_1CPositionGroup2D.html#n4">m_Right</a>=Pos;
00525                 <span class="keywordflow">if</span> (Pos.GetX()&lt;<a class="code" href="classipl_1_1CPositionGroup2D.html#n3">m_Left</a>.GetX())
00526                         <a class="code" href="classipl_1_1CPositionGroup2D.html#n3">m_Left</a>=Pos;
00527                 <span class="keywordflow">if</span> (Pos.GetY()&gt;<a class="code" href="classipl_1_1CPositionGroup2D.html#n2">m_Bottom</a>.GetY())
00528                         <a class="code" href="classipl_1_1CPositionGroup2D.html#n2">m_Bottom</a>=Pos;
00529                 <span class="keywordflow">if</span> (Pos.GetY()&lt;<a class="code" href="classipl_1_1CPositionGroup2D.html#n1">m_Top</a>.GetY())
00530                         <a class="code" href="classipl_1_1CPositionGroup2D.html#n1">m_Top</a>=Pos;
00531         }
00532 }
00533 
00534 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00535"></a><a class="code" href="classipl_1_1CPositionGroup2D.html#b0">00535</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group__cpp__globals.html#a5">CPositionGroup2D&lt;T&gt;::SkipSpaceAndComments</a>(ifstream&amp; s)
00536 {
00537         <span class="keywordflow">while</span>(isspace(s.peek()))
00538                 s.get();
00539         <span class="keywordflow">while</span> (s.peek()==<span class="charliteral">'#'</span>)
00540         {
00541                 s.ignore(std::numeric_limits&lt;int&gt;::max(),<span class="charliteral">'\n'</span>);
00542                 <span class="keywordflow">while</span> (isspace(s.peek()))
00543                         s.get();
00544         }
00545 }
00546 
00547 <span class="preprocessor">#include "positiongroup2d.cpp"</span>
00548 
00549 } <span class="comment">// end namespace ipl</span>
00550 
00551 <span class="preprocessor">#endif //_IPL98_POSITIONGROUP2D_H</span>
</pre></div><!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Tag</title>
<base target="_top">
</head>

<body bgcolor="#FFFFFF">

<hr>

<p align="right"><font size="2"><em>Updated <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d. %B %Y %H:%M" startspan -->21. juli 2002 12:29<!--webbot bot="Timestamp" endspan i-checksum="38834" --> by
<a href="http://www.mip.sdu.dk/~edr/">René Dencker
Eriksen</a>(<a href="mailto:edr@mip.sdu.dk">edr@mip.sdu.dk</a>)</em></font></p>
</body>
</html>
