<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link type="text/css" href="../../doxygen.css" rel="stylesheet">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Image Processing Library 98</title>
</head>

<body>
<h2 align="center"><a href="http://www.mip.sdu.dk/ipl98" target="_blank"><img border="0" src="ipl_doc_header.gif" width="694" height="55"></a></h2>

</body>

</html>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/ipl98/cpp/arrays/arrayos2d.h</h1><div class="fragment"><pre>00001 <span class="comment">/********************************************************************</span>
00002 <span class="comment">   The Image Processing Library 98 - IPL98</span>
00003 <span class="comment">   Copyright (C) by René Dencker Eriksen - edr@mip.sdu.dk</span>
00004 <span class="comment"></span>
00005 <span class="comment">   This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation. Only</span>
00008 <span class="comment">   addition is, that if the library is used in proprietary software</span>
00009 <span class="comment">   it must be stated that IPL98 was used.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   This library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   More details can be found in the file licence.txt distributed</span>
00016 <span class="comment">   with this library.</span>
00017 <span class="comment">*********************************************************************/</span>
00018 
00019 <span class="preprocessor">#ifndef _IPL98_ARRAYOS2D_H</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#define _IPL98_ARRAYOS2D_H</span>
00021 <span class="preprocessor"></span>
00022 <span class="preprocessor">#include "array2d.h"</span>
00023 <span class="preprocessor">#include "arrayos2d_it.h"</span>
00024 <span class="preprocessor">#include "arrayos2d_const_it.h"</span>
00025 <span class="preprocessor">#include "../ipl98_general_functions.h"</span>
00026 
00027 <span class="keyword">namespace </span>ipl{ <span class="comment">// use namespace if C++</span>
00028 
00068 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00069"></a><a class="code" href="classipl_1_1CArrayOS2D.html">00069</a> <span class="keyword">class </span><a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D</a> : <span class="keyword">public</span> <a class="code" href="classipl_1_1CArray2D.html">CArray2D</a>&lt;T&gt;
00070 {
00071 <span class="keyword">protected</span>: <span class="comment">// attributes</span>
<a name="l00075"></a><a class="code" href="classipl_1_1CArrayOS2D.html#n0">00075</a> <span class="comment"></span>        <a class="code" href="classCPoint2D.html">CPoint2D&lt;int&gt;</a> <a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>;
<a name="l00077"></a><a class="code" href="classipl_1_1CArrayOS2D.html#n1">00077</a>         <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a> <a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>;
<a name="l00084"></a><a class="code" href="classipl_1_1CArrayOS2D.html#n2">00084</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>;
<a name="l00087"></a><a class="code" href="classipl_1_1CArrayOS2D.html#n3">00087</a>         <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html#n3">m_SubStep</a>;
00088 
00089 <span class="keyword">public</span>:
00091         <a class="code" href="classipl_1_1CArrayOS2D.html#a0">CArrayOS2D</a>();
00097         <a class="code" href="classipl_1_1CArrayOS2D.html#a0">CArrayOS2D</a>(UINT32 x, UINT32 y, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> SubIndexing=0);
00099                 <a class="code" href="classipl_1_1CArrayOS2D.html#a0">CArrayOS2D</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;</a>&amp; M);
00101                 <span class="keyword">inline</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D</a>&amp; <a class="code" href="classipl_1_1CArrayOS2D.html#a3">operator=</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D</a>&amp; M);
00104                 <span class="keyword">inline</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D</a>&amp; <a class="code" href="classipl_1_1CArrayOS2D.html#a3">operator=</a>(<span class="keyword">const</span> T&amp; M);
00107                 <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a5">Empty</a>();
00118                 <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a6">Alloc</a>(UINT32 x, UINT32 y, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> SubIndexing=0);
00123         <span class="keyword">inline</span> UINT32 <a class="code" href="classipl_1_1CArrayOS2D.html#a7">GetWidth</a>() <span class="keyword">const</span>;
00128         <span class="keyword">inline</span> UINT32 <a class="code" href="classipl_1_1CArrayOS2D.html#a8">GetHeight</a>() <span class="keyword">const</span>;
00134         <span class="keyword">inline</span> UINT32 <a class="code" href="classipl_1_1CArrayOS2D.html#a9">GetWidthCells</a>() <span class="keyword">const</span>;
00140         <span class="keyword">inline</span> UINT32 <a class="code" href="classipl_1_1CArrayOS2D.html#a10">GetHeightCells</a>() <span class="keyword">const</span>;
00144                 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a> <a class="code" href="classipl_1_1CArrayOS2D.html#a11">GetOrigo</a>() <span class="keyword">const</span>;
00147                 <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a12">SetOrigo</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; Origo);
00150                 <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a12">SetOrigo</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y);
00156                 <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a14">InRange</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) <span class="keyword">const</span>;
00158                 <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a14">InRange</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P) <span class="keyword">const</span>;
00162                 <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a16">GetMinX</a>() <span class="keyword">const</span>;
00166                 <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a17">GetMinY</a>() <span class="keyword">const</span>;
00170                 <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a18">GetMaxX</a>() <span class="keyword">const</span>;
00174                 <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a19">GetMaxY</a>() <span class="keyword">const</span>;
<a name="l00181"></a><a class="code" href="classipl_1_1CArrayOS2D.html#s0">00181</a>                 <span class="keyword">typedef</span> <a class="code" href="classipl_1_1CArrayOS2DIterator.html">CArrayOS2DIterator&lt;T&gt;</a> <a class="code" href="classipl_1_1CArrayOS2D.html#s0">Iterator</a>;
<a name="l00188"></a><a class="code" href="classipl_1_1CArrayOS2D.html#s1">00188</a>                 <span class="keyword">typedef</span> <a class="code" href="classipl_1_1CArrayOS2DConstIterator.html">CArrayOS2DConstIterator&lt;T&gt;</a> <a class="code" href="classipl_1_1CArrayOS2D.html#s1">ConstIterator</a>;
00193         <span class="keyword">inline</span> Iterator <a class="code" href="classipl_1_1CArrayOS2D.html#a20">Row</a>(<span class="keywordtype">double</span> i);
00198         <span class="keyword">inline</span> ConstIterator <a class="code" href="classipl_1_1CArrayOS2D.html#a21">ConstRow</a>(<span class="keywordtype">double</span> i) <span class="keyword">const</span>;
00203         <span class="keyword">inline</span> Iterator <a class="code" href="classipl_1_1CArrayOS2D.html#a22">Column</a>(<span class="keywordtype">double</span> i);
00208         <span class="keyword">inline</span> ConstIterator <a class="code" href="classipl_1_1CArrayOS2D.html#a23">ConstColumn</a>(<span class="keywordtype">double</span> i) <span class="keyword">const</span>;
00211                 <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html#a24">operator()</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P) <span class="keyword">const</span>;
00214                 <span class="keyword">inline</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html#a24">operator()</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P);
<a name="l00222"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a26">00222</a>         <span class="keyword">inline</span> Iterator <a class="code" href="classipl_1_1CArrayOS2D.html#a26">operator[]</a>(<span class="keywordtype">double</span> i) { <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArrayOS2D.html#s0">Iterator</a>(<a class="code" href="classipl_1_1CArray2D.html#n0">m_pData</a>,slice((i+m_Origo.<a class="code" href="classCPoint2D.html#a13">GetX</a>())*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>*<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>,<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>,1),<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>,&amp;m_Origo); }   <span class="comment">// C-style subscript</span>
<a name="l00230"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a27">00230</a> <span class="comment"></span>        <span class="keyword">inline</span> ConstIterator <a class="code" href="classipl_1_1CArrayOS2D.html#a26">operator[]</a>(<span class="keywordtype">double</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArrayOS2D.html#s1">ConstIterator</a>(<a class="code" href="classipl_1_1CArray2D.html#n0">m_pData</a>,slice((i+m_Origo.<a class="code" href="classCPoint2D.html#a13">GetX</a>())*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>*<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>,<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>,1),<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>,&amp;m_Origo); }
00238                 <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html#a28">Get</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) <span class="keyword">const</span>;
00240                 <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html#a28">Get</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P) <span class="keyword">const</span>;
00247                 <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html#a30">GetFast</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) <span class="keyword">const</span>;
00249                 <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html#a30">GetFast</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P) <span class="keyword">const</span>;
00257                 <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a32">Set</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keyword">const</span> T&amp; Val);
00259                 <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a32">Set</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P, <span class="keyword">const</span> T&amp; Val);
00266                 <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a34">SetFast</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keyword">const</span> T&amp; Val);
00268                 <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a34">SetFast</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P, <span class="keyword">const</span> T&amp; Val);
00274                 <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a36">GetSubIndexing</a>() <span class="keyword">const</span>;
00280                 <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a37">GetSubStep</a>() <span class="keyword">const</span>;
00287                 <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a38">RoundToSubValue</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; Val) <span class="keyword">const</span>;
00292                 <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; Val) <span class="keyword">const</span>;
00305                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a40">Load</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName);
00318                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a41">Save</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* pPathAndFileName);
00331                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a42">CopySubArray</a>(<span class="keyword">const</span> CArrayOS2D&lt;T&gt;&amp; Source,<span class="keywordtype">double</span> xmin,<span class="keywordtype">double</span> ymin,<span class="keywordtype">double</span> xmax,<span class="keywordtype">double</span> ymax);
00343                 <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a42">CopySubArray</a>(<span class="keyword">const</span> CArrayOS2D&lt;T&gt;&amp; Source,<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; UpperLeft,
00344                                   <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; LowerRight);
00346                 <span class="keyword">friend</span> ostream&amp; operator&lt;&lt;(ostream&amp; s,const CArrayOS2D&lt;T&gt;&amp; TS);
00362                 <span class="keyword">friend</span> ostream&amp; operator&lt;&lt;(ostream&amp; s, const CArrayOS2D&lt;T&gt;&amp; <a class="code" href="classipl_1_1CArray2D.html#a27">Array</a>);
00363 <span class="comment">//              {</span>
00364 <span class="comment">//                      s &lt;&lt; "Dimensions: " &lt;&lt; Array.GetWidth() &lt;&lt; " " &lt;&lt; Array.GetHeight() &lt;&lt; endl;</span>
00365 <span class="comment">//                      s &lt;&lt; "Origo: " &lt;&lt; Array.GetOrigo() &lt;&lt; endl;</span>
00366 <span class="comment">//                      s &lt;&lt; "SubIndexing: " &lt;&lt; Array.GetSubIndexing() &lt;&lt; endl;</span>
00367 <span class="comment">//                      for(double y=0; y&lt;Array.GetHeight(); y+=Array.GetSubStep())</span>
00368 <span class="comment">//                      {</span>
00369 <span class="comment">//                              for(double x=0; x&lt;Array.GetWidth(); x+=Array.GetSubStep())</span>
00370 <span class="comment">//                              {</span>
00371 <span class="comment">//                                      s &lt;&lt; Array[x][y] &lt;&lt; " ";</span>
00372 <span class="comment">//                              }</span>
00373 <span class="comment">//                              s &lt;&lt; "\n";</span>
00374 <span class="comment">//                      }</span>
00375 <span class="comment">//                      return s;</span>
00376 <span class="comment">//              }</span>
<a name="l00383"></a><a class="code" href="classipl_1_1CArrayOS2D.html#l2">00383</a> <span class="comment"></span>                <span class="keyword">friend</span> istream&amp; <a class="code" href="classipl_1_1CArrayOS2D.html#l2">operator&gt;&gt;</a>(istream&amp; is, <a class="code" href="classipl_1_1CArrayOS2D.html">ipl::CArrayOS2D&lt;T&gt;</a>&amp; <a class="code" href="classipl_1_1CArray2D.html#a27">Array</a>)
00384                 {
00385                         UINT32 w,h;
00386                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> SubIndexing;
00387                         is.ignore(std::numeric_limits&lt;int&gt;::max(),std::char_traits&lt;char&gt;::to_int_type(<span class="charliteral">':'</span>)); <span class="comment">// ignore 'Dimensions:'</span>
00388                         <a class="code" href="group__cpp__globals.html#a5">SkipSpaceAndComments</a>(is);
00389                         is &gt;&gt; w;
00390                         <a class="code" href="group__cpp__globals.html#a5">SkipSpaceAndComments</a>(is);
00391                         is &gt;&gt; h;
00392                         <a class="code" href="group__cpp__globals.html#a5">SkipSpaceAndComments</a>(is);
00393                         is.ignore(std::numeric_limits&lt;int&gt;::max(),std::char_traits&lt;char&gt;::to_int_type(<span class="charliteral">':'</span>)); <span class="comment">// ignore 'Origo:'</span>
00394                         <a class="code" href="group__cpp__globals.html#a5">SkipSpaceAndComments</a>(is);
00395 
00396                         <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a> Origo;
00397                         is &gt;&gt; Origo;
00398                         <a class="code" href="group__cpp__globals.html#a5">SkipSpaceAndComments</a>(is);
00399                         is.ignore(std::numeric_limits&lt;int&gt;::max(),std::char_traits&lt;char&gt;::to_int_type(<span class="charliteral">':'</span>)); <span class="comment">// ignore 'SubIndexing:'</span>
00400                         <a class="code" href="group__cpp__globals.html#a5">SkipSpaceAndComments</a>(is);
00401                         is &gt;&gt; SubIndexing;
00402                         Array.<a class="code" href="classipl_1_1CArrayOS2D.html#a6">Alloc</a>(w,h,SubIndexing);
00403                         Array.<a class="code" href="classipl_1_1CArrayOS2D.html#a12">SetOrigo</a>(Origo);
00404                         <span class="keywordflow">for</span>(<span class="keywordtype">double</span> y=Array.<a class="code" href="classipl_1_1CArrayOS2D.html#a17">GetMinY</a>(); y&lt;Array.<a class="code" href="classipl_1_1CArrayOS2D.html#a19">GetMaxY</a>(); y+=Array.<a class="code" href="classipl_1_1CArrayOS2D.html#a37">GetSubStep</a>())
00405                         {
00406                                 <span class="keywordflow">for</span>(<span class="keywordtype">double</span> x=Array.<a class="code" href="classipl_1_1CArrayOS2D.html#a16">GetMinX</a>(); x&lt;Array.<a class="code" href="classipl_1_1CArrayOS2D.html#a18">GetMaxX</a>(); x+=Array.<a class="code" href="classipl_1_1CArrayOS2D.html#a37">GetSubStep</a>())
00407                                 {
00408                                         <a class="code" href="group__cpp__globals.html#a5">SkipSpaceAndComments</a>(is);
00409                                         Array.operator[](x)[y] &lt;&lt; is;
00410                                 }
00411                         }
00412                         <span class="keywordflow">return</span> is;
00413                 }
00414 <span class="keyword">protected</span>:
00418                 <span class="keyword">inline</span> <span class="keywordtype">bool</span> SetSubIndexing(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> SubIndexing);
00419 };
00420 
00424 
00425 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00426"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a3">00426</a> <span class="keyword">inline</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;</a>&amp; <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::operator=</a>(<span class="keyword">const</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;</a>&amp; M)
00427 {
00428         <span class="keywordflow">if</span> (<a class="code" href="classipl_1_1CArray2D.html#n0">m_pData</a>!=NULL)
00429                 <span class="keyword">delete</span> <a class="code" href="classipl_1_1CArray2D.html#n0">m_pData</a>;
00430         <span class="keywordflow">if</span> ((M.<a class="code" href="classipl_1_1CArrayOS2D.html#a7">GetWidth</a>()!=0) &amp;&amp; (M.<a class="code" href="classipl_1_1CArrayOS2D.html#a8">GetHeight</a>()!=0))
00431         {
00432                 SetSubIndexing(M.<a class="code" href="classipl_1_1CArrayOS2D.html#a36">GetSubIndexing</a>());
00433                 <a class="code" href="classipl_1_1CArrayOS2D.html#a12">SetOrigo</a>(M.<a class="code" href="classipl_1_1CArrayOS2D.html#a11">GetOrigo</a>());
00434 
00435                 <a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a> = M.<a class="code" href="classipl_1_1CArrayOS2D.html#a7">GetWidth</a>();
00436                 <a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a> = M.<a class="code" href="classipl_1_1CArrayOS2D.html#a8">GetHeight</a>();
00437                 <a class="code" href="classipl_1_1CArray2D.html#n0">m_pData</a> = <span class="keyword">new</span> valarray&lt;T&gt;(<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>*<a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>*<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>);
00438                 *<a class="code" href="classipl_1_1CArray2D.html#n0">m_pData</a>=M.<a class="code" href="classipl_1_1CArray2D.html#a27">Array</a>();
00439         }
00440         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00441 }
00442 
00443 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00444"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a4">00444</a> <span class="keyword">inline</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;</a>&amp; <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::operator=</a>(<span class="keyword">const</span> T&amp; M)
00445 {
00446         <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator=</a>(M);
00447         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00448 }
00449 
00450 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00451"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a7">00451</a> <span class="keyword">inline</span> UINT32 <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetWidth</a>()<span class="keyword"> const</span>
00452 <span class="keyword"></span>{
00453         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>/<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>;
00454 }
00455 
00456 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00457"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a8">00457</a> <span class="keyword">inline</span> UINT32 <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetHeight</a>()<span class="keyword"> const</span>
00458 <span class="keyword"></span>{
00459         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>/<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>;
00460 }
00461 
00462 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00463"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a9">00463</a> <span class="keyword">inline</span> UINT32 <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetWidthCells</a>()<span class="keyword"> const</span>
00464 <span class="keyword"></span>{
00465         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::GetWidth</a>();
00466 }
00467 
00468 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00469"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a10">00469</a> <span class="keyword">inline</span> UINT32 <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetHeightCells</a>()<span class="keyword"> const</span>
00470 <span class="keyword"></span>{
00471         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::GetHeight</a>();
00472 }
00473 
00474 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00475"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a11">00475</a> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetOrigo</a>()<span class="keyword"> const</span>
00476 <span class="keyword"></span>{
00477         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>;
00478 }
00479 
00480 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00481"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a12">00481</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::SetOrigo</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; Origo)
00482 {
00483         <span class="keywordtype">double</span> x=<a class="code" href="classipl_1_1CArrayOS2D.html#a38">RoundToSubValue</a>(Origo.<a class="code" href="classCPoint2D.html#a13">GetX</a>());
00484         <span class="keywordtype">double</span> y=<a class="code" href="classipl_1_1CArrayOS2D.html#a38">RoundToSubValue</a>(Origo.<a class="code" href="classCPoint2D.html#a14">GetY</a>());
00485         <a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a16">SetX</a>(x*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>);
00486         <a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a17">SetY</a>(y*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>);
00487         <a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>.<a class="code" href="classCPoint2D.html#a15">Set</a>(x,y);
00488 }
00489 
00490 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00491"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a13">00491</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::SetOrigo</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)
00492 {
00493         <a class="code" href="classipl_1_1CArrayOS2D.html#a12">SetOrigo</a>(<a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>(x,y));
00494 }
00495 
00496 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00497"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a16">00497</a> <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetMinX</a>()<span class="keyword"> const</span>
00498 <span class="keyword"></span>{
00499         <span class="keywordflow">return</span> -<a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00500 }
00501 
00502 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00503"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a17">00503</a> <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetMinY</a>()<span class="keyword"> const</span>
00504 <span class="keyword"></span>{
00505         <span class="keywordflow">return</span> -<a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00506 }
00507 
00508 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00509"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a18">00509</a> <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetMaxX</a>()<span class="keyword"> const</span>
00510 <span class="keyword"></span>{
00511         <span class="keywordflow">return</span> ((double)<a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>-<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>())/(double)<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>;
00512 }
00513 
00514 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00515"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a19">00515</a> <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetMaxY</a>()<span class="keyword"> const</span>
00516 <span class="keyword"></span>{
00517         <span class="keywordflow">return</span> ((double)<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>-<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>())/(double)<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>;
00518 }
00519 
00520 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l00521"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a14">00521</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::InRange</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)<span class="keyword"> const</span>
00522 <span class="keyword"></span>{
00523         <span class="keywordtype">int</span> ix=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(x)+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00524         <span class="keywordtype">int</span> iy=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(y)+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00525         <span class="keywordflow">return</span> ((ix&gt;=0) &amp;&amp; (ix&lt;=<a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>-1) &amp;&amp; (iy&gt;=0) &amp;&amp; (iy&lt;=<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>-1));
00526 <span class="comment">//      x = x*m_SubIndexing + m_OrigoCells.GetX();</span>
00527 <span class="comment">//      y = y*m_SubIndexing + m_OrigoCells.GetY();</span>
00528 <span class="comment">//      return ((x&gt;=0) &amp;&amp; (x&lt;m_Width) &amp;&amp; (y&gt;=0) &amp;&amp; (y&lt;m_Height));</span>
00529 }
00530 
00531 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00532"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a15">00532</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::InRange</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P)<span class="keyword"> const</span>
00533 <span class="keyword"></span>{
00534         <span class="keywordtype">int</span> ix=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(P.<a class="code" href="classCPoint2D.html#a13">GetX</a>())+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00535         <span class="keywordtype">int</span> iy=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(P.<a class="code" href="classCPoint2D.html#a14">GetY</a>())+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00536         <span class="keywordflow">return</span> ((ix&gt;=0) &amp;&amp; (ix&lt;=<a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>-1) &amp;&amp; (iy&gt;=0) &amp;&amp; (iy&lt;=<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>-1));
00537 <span class="comment">//      double x = P.GetX()*m_SubIndexing + m_OrigoCells.GetX();</span>
00538 <span class="comment">//      double y = P.GetY()*m_SubIndexing + m_OrigoCells.GetY();</span>
00539 <span class="comment">//      return ((x&gt;=0) &amp;&amp; (x&lt;m_Width) &amp;&amp; (y&gt;=0) &amp;&amp; (y&lt;m_Height));</span>
00540 }
00541 
00542 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00543"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a20">00543</a> <span class="keyword">inline</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;</a>::Iterator <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::Row</a>(<span class="keywordtype">double</span> i)
00544 {
00545         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArrayOS2D.html#s0">Iterator</a>(<a class="code" href="classipl_1_1CArray2D.html#n0">m_pData</a>,slice((i+<a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>())*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>,<a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>,<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>),<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>,&amp;<a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>);
00546 }
00547 
00548 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00549"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a21">00549</a> <span class="keyword">inline</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;</a>::ConstIterator <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::ConstRow</a>(<span class="keywordtype">double</span> i)<span class="keyword"> const</span>
00550 <span class="keyword"></span>{
00551         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArrayOS2D.html#s1">ConstIterator</a>(<a class="code" href="classipl_1_1CArray2D.html#n0">m_pData</a>,slice((i+<a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>())*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>,<a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>,<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>),<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>,&amp;<a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>);
00552 }
00553 
00554 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00555"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a22">00555</a> <span class="keyword">inline</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;</a>::Iterator <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::Column</a>(<span class="keywordtype">double</span> i)
00556 {
00557         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArrayOS2D.html#s0">Iterator</a>(<a class="code" href="classipl_1_1CArray2D.html#n0">m_pData</a>,slice((i+<a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>())*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>*<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>,<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>,1),<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>,&amp;<a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>);
00558 }
00559 
00560 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00561"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a23">00561</a> <span class="keyword">inline</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;</a>::ConstIterator <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::ConstColumn</a>(<span class="keywordtype">double</span> i)<span class="keyword"> const</span>
00562 <span class="keyword"></span>{
00563         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArrayOS2D.html#s1">ConstIterator</a>(<a class="code" href="classipl_1_1CArray2D.html#n0">m_pData</a>,slice((i+<a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>())*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>*<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>,<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>,1),<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>,&amp;<a class="code" href="classipl_1_1CArrayOS2D.html#n1">m_Origo</a>);
00564 }
00565 
00566 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00567"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a28">00567</a> <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::Get</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)<span class="keyword"> const</span>
00568 <span class="keyword"></span>{
00569         <span class="keywordtype">int</span> ix=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(x)+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00570         <span class="keywordtype">int</span> iy=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(y)+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00571         <span class="keywordflow">if</span> ((ix&gt;=0) &amp;&amp; (ix&lt;=<a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>-1) &amp;&amp; (iy&gt;=0) &amp;&amp; (iy&lt;=<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>-1))
00572                 <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator[]</a>(ix)[iy];
00573         <span class="keywordflow">else</span>
00574                 <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator[]</a>(<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>())[<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>()];;
00575 }
00576 
00577 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00578"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a29">00578</a> <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::Get</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P)<span class="keyword"> const</span>
00579 <span class="keyword"></span>{
00580         <span class="keywordtype">int</span> ix=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(P.<a class="code" href="classCPoint2D.html#a13">GetX</a>())+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00581         <span class="keywordtype">int</span> iy=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(P.<a class="code" href="classCPoint2D.html#a14">GetY</a>())+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00582         <span class="keywordflow">if</span> ((ix&gt;=0) &amp;&amp; (ix&lt;=<a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>-1) &amp;&amp; (iy&gt;=0) &amp;&amp; (iy&lt;=<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>-1))
00583                 <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator[]</a>(ix)[iy];
00584         <span class="keywordflow">else</span>
00585                 <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator[]</a>(<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>())[<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>()];;
00586 }
00587 
00588 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00589"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a30">00589</a> <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetFast</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)<span class="keyword"> const</span>
00590 <span class="keyword"></span>{
00591         <span class="keywordtype">int</span> ix=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(x)+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00592         <span class="keywordtype">int</span> iy=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(y)+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00593         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator[]</a>(ix)[iy];
00594 }
00595 
00596 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00597"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a31">00597</a> <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetFast</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P)<span class="keyword"> const</span>
00598 <span class="keyword"></span>{
00599         <span class="keywordtype">int</span> ix=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(P.<a class="code" href="classCPoint2D.html#a13">GetX</a>())+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00600         <span class="keywordtype">int</span> iy=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(P.<a class="code" href="classCPoint2D.html#a14">GetY</a>())+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00601         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator[]</a>(ix)[iy];
00602 }
00603 
00604 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00605"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a32">00605</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::Set</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keyword">const</span> T&amp; Val)
00606 {
00607         <span class="keywordtype">int</span> ix=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(x)+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00608         <span class="keywordtype">int</span> iy=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(y)+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00609         <span class="keywordflow">if</span> ((ix&gt;=0) &amp;&amp; (ix&lt;=<a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>-1) &amp;&amp; (iy&gt;=0) &amp;&amp; (iy&lt;=<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>-1))
00610         {
00611                 <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator[]</a>(ix)[iy]=Val;
00612                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00613         }
00614         <span class="keywordflow">else</span>
00615                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00616 }
00617 
00618 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00619"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a33">00619</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::Set</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P, <span class="keyword">const</span> T&amp; Val)
00620 {
00621         <span class="keywordtype">int</span> ix=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(P.<a class="code" href="classCPoint2D.html#a13">GetX</a>())+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00622         <span class="keywordtype">int</span> iy=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(P.<a class="code" href="classCPoint2D.html#a14">GetY</a>())+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00623         <span class="keywordflow">if</span> ((ix&gt;=0) &amp;&amp; (ix&lt;=<a class="code" href="classipl_1_1CArray2D.html#n1">m_Width</a>-1) &amp;&amp; (iy&gt;=0) &amp;&amp; (iy&lt;=<a class="code" href="classipl_1_1CArray2D.html#n2">m_Height</a>-1))
00624         {
00625                 <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator[]</a>(ix)[iy]=Val;
00626                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00627         }
00628         <span class="keywordflow">else</span>
00629                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00630 }
00631 
00632 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00633"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a34">00633</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::SetFast</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keyword">const</span> T&amp; Val)
00634 {
00635         <span class="keywordtype">int</span> ix=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(x)+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00636         <span class="keywordtype">int</span> iy=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(y)+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00637         <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator[]</a>(ix)[iy]=Val;
00638 }
00639 
00640 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00641"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a35">00641</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::SetFast</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P, <span class="keyword">const</span> T&amp; Val)
00642 {
00643         <span class="keywordtype">int</span> ix=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(P.<a class="code" href="classCPoint2D.html#a13">GetX</a>())+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a13">GetX</a>();
00644         <span class="keywordtype">int</span> iy=<a class="code" href="classipl_1_1CArrayOS2D.html#a39">GetNearestSubIndex</a>(P.<a class="code" href="classCPoint2D.html#a14">GetY</a>())+<a class="code" href="classipl_1_1CArrayOS2D.html#n0">m_OrigoCells</a>.<a class="code" href="classCPoint2D.html#a14">GetY</a>();
00645         <a class="code" href="classipl_1_1CArray2D.html">CArray2D&lt;T&gt;::operator[]</a>(ix)[iy]=Val;
00646 }
00647 
00648 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00649"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a38">00649</a> <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::RoundToSubValue</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; Val)<span class="keyword"> const</span>
00650 <span class="keyword"></span>{
00651         <span class="keywordtype">double</span> n = Val*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>;
00652         n &gt; 0 ? n+=0.5 : n-=0.5;
00653         <span class="keywordflow">return</span> ((int)n)*<a class="code" href="classipl_1_1CArrayOS2D.html#n3">m_SubStep</a>;
00654 }
00655 
00656 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00657"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a36">00657</a> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetSubIndexing</a>()<span class="keyword"> const</span>
00658 <span class="keyword"></span>{
00659         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>-1;
00660 }
00661 
00662 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00663"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a39">00663</a> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::GetNearestSubIndex</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; Val)<span class="keyword"> const</span>
00664 <span class="keyword"></span>{
00665         <span class="keywordtype">double</span> n = Val*<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>;
00666         n &gt; 0 ? n+=0.5 : n-=0.5;
00667         <span class="keywordflow">return</span> (int)n;
00668 }
00669 
00670 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
00671 <span class="keyword">inline</span> <span class="keywordtype">bool</span> CArrayOS2D&lt;T&gt;::SetSubIndexing(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> SubIndexing)
00672 {
00673         SubIndexing++; <span class="comment">// internal stored value is added one to avoid some calculation later on</span>
00674         <a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>=SubIndexing;
00675         <a class="code" href="classipl_1_1CArrayOS2D.html#n3">m_SubStep</a>=1.0/(double)<a class="code" href="classipl_1_1CArrayOS2D.html#n2">m_SubIndexing</a>;
00676         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00677 }
00678 
00679 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00680"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a24">00680</a> <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::operator()</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P)<span class="keyword"> const</span>
00681 <span class="keyword"></span>{
00682         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a26">operator[]</a>(P.<a class="code" href="classCPoint2D.html#a13">GetX</a>())[P.<a class="code" href="classCPoint2D.html#a14">GetY</a>()];
00683 }
00684 
00685 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00686"></a><a class="code" href="classipl_1_1CArrayOS2D.html#a25">00686</a> <span class="keyword">inline</span> T&amp; <a class="code" href="classipl_1_1CArrayOS2D.html">CArrayOS2D&lt;T&gt;::operator()</a>(<span class="keyword">const</span> <a class="code" href="classCPoint2D.html">CPoint2D&lt;double&gt;</a>&amp; P)
00687 {
00688         <span class="keywordflow">return</span> <a class="code" href="classipl_1_1CArrayOS2D.html#a26">operator[]</a>(P.<a class="code" href="classCPoint2D.html#a13">GetX</a>())[P.<a class="code" href="classCPoint2D.html#a14">GetY</a>()];
00689 }
00690 
00691 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
00692 std::ostream&amp; operator&lt;&lt;(std::ostream&amp; s, const CArrayOS2D&lt;T&gt;&amp; Array)
00693 {
00694         s &lt;&lt; <span class="stringliteral">"Dimensions: "</span> &lt;&lt; Array.GetWidth() &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; Array.GetHeight() &lt;&lt; endl;
00695         s &lt;&lt; <span class="stringliteral">"Origo: "</span> &lt;&lt; Array.GetOrigo() &lt;&lt; endl;
00696         s &lt;&lt; <span class="stringliteral">"SubIndexing: "</span> &lt;&lt; Array.GetSubIndexing() &lt;&lt; endl;
00697         <span class="keywordflow">for</span>(<span class="keywordtype">double</span> y=0; y&lt;Array.GetHeight(); y+=Array.GetSubStep())
00698         {
00699                 <span class="keywordflow">for</span>(<span class="keywordtype">double</span> x=0; x&lt;Array.GetWidth(); x+=Array.GetSubStep())
00700                 {
00701                         s &lt;&lt; Array[x][y] &lt;&lt; <span class="stringliteral">" "</span>;
00702                 }
00703                 s &lt;&lt; <span class="stringliteral">"\n"</span>;
00704         }
00705         <span class="keywordflow">return</span> s;
00706 }
00707 
00708 <span class="preprocessor">#include "arrayos2d.cpp"</span>
00709 
00710 } <span class="comment">// end namespace ipl</span>
00711 
00712 <span class="preprocessor">#endif //_IPL98_ARRAYOS2D_H</span>
</pre></div><!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Tag</title>
<base target="_top">
</head>

<body bgcolor="#FFFFFF">

<hr>

<p align="right"><font size="2"><em>Updated <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d. %B %Y %H:%M" startspan -->21. juli 2002 12:29<!--webbot bot="Timestamp" endspan i-checksum="38834" --> by
<a href="http://www.mip.sdu.dk/~edr/">René Dencker
Eriksen</a>(<a href="mailto:edr@mip.sdu.dk">edr@mip.sdu.dk</a>)</em></font></p>
</body>
</html>
