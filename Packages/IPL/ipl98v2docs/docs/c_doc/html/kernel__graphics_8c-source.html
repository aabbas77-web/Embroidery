<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link type="text/css" href="../../doxygen.css" rel="stylesheet">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Image Processing Library 98</title>
</head>

<body>
<h2 align="center"><a href="http://www.mip.sdu.dk/ipl98" target="_blank"><img border="0" src="ipl_doc_header.gif" width="694" height="55"></a></h2>

</body>

</html>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; </center>
<hr><h1>kernel_graphics.c</h1><div class="fragment"><pre>00001 <span class="comment">/********************************************************************</span>
00002 <span class="comment">   The Image Processing Library 98 - IPL98</span>
00003 <span class="comment">   Copyright (C) by René Dencker Eriksen - edr@mip.sdu.dk</span>
00004 <span class="comment"></span>
00005 <span class="comment">   This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation. Only</span>
00008 <span class="comment">   addition is, that if the library is used in proprietary software</span>
00009 <span class="comment">   it must be stated that IPL98 was used.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   This library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   More details can be found in the file licence.txt distributed</span>
00016 <span class="comment">   with this library.</span>
00017 <span class="comment">*********************************************************************/</span>
00018 
00019 <span class="preprocessor">#include "kernel_graphics.h"</span>
00020 <span class="preprocessor">#include "../kernel_error.h"</span>
00021 <span class="preprocessor">#include "../general_functions/ipl_general_functions_c_only.h"</span>
00022 <span class="preprocessor">#include &lt;math.h&gt;</span>
00023 
00024 <span class="preprocessor">#ifdef _IPL98_USING_CPP</span>
00025 <span class="preprocessor"></span><span class="keyword">namespace </span>ipl{ <span class="comment">/* use namespace if C++ */</span>
00026 <span class="keyword">extern</span> <span class="stringliteral">"C"</span> { <span class="comment">/* prevent name mangling for C functions */</span>
00027 <span class="preprocessor">#endif</span>
00028 <span class="preprocessor"></span>
00029 <span class="comment">/************************************************/</span>
00030 <span class="comment">/********        Public functions        ********/</span>
00031 <span class="comment">/************************************************/</span>
00032 
<a name="l00033"></a><a class="code" href="group__graphics.html#a0">00033</a> <span class="keywordtype">bool</span> <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Start, <a class="code" href="structT2DInt.html">T2DInt</a> End, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00034 {
00035         <span class="keyword">const</span> <a class="code" href="group__valuetypes.html#a2">INT16</a> dx = abs(Start.<a class="code" href="structT2DInt.html#m0">x</a> - End.<a class="code" href="structT2DInt.html#m0">x</a>); 
00036         <span class="keyword">const</span> <a class="code" href="group__valuetypes.html#a2">INT16</a> dy = abs(Start.<a class="code" href="structT2DInt.html#m1">y</a> - End.<a class="code" href="structT2DInt.html#m1">y</a>); 
00037         <span class="keyword">const</span> <a class="code" href="group__valuetypes.html#a2">INT16</a> diffx = (End.<a class="code" href="structT2DInt.html#m0">x</a> - Start.<a class="code" href="structT2DInt.html#m0">x</a>);
00038         <span class="keyword">const</span> <a class="code" href="group__valuetypes.html#a2">INT16</a> diffy = (End.<a class="code" href="structT2DInt.html#m1">y</a> - Start.<a class="code" href="structT2DInt.html#m1">y</a>);
00039         <a class="code" href="group__valuetypes.html#a2">INT16</a> const1, const2, p, x, y, step; 
00040         <span class="keywordflow">if</span> (pPixelGroup==NULL)
00041         {
00042                 <a class="code" href="structTString.html">TString</a> str;
00043                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00044                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00045                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateLine() PixelGroup is NULL"</span>);
00046             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00047                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00048         }
00049 
00050         <span class="comment">/* generate line points */</span>
00051         x = Start.<a class="code" href="structT2DInt.html#m0">x</a>; 
00052         y = Start.<a class="code" href="structT2DInt.html#m1">y</a>; 
00053         <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>(x,y,pPixelGroup);
00054         <span class="keywordflow">if</span> (dx &gt;= dy)
00055         { 
00056                 const1 = 2 * dy;
00057                 const2 = 2 * (dy - dx);
00058                 p = 2 * dy - dx;
00059                 step = (Start.<a class="code" href="structT2DInt.html#m1">y</a> &lt;= End.<a class="code" href="structT2DInt.html#m1">y</a>) ? (1) : (-1); 
00060                 <span class="keywordflow">if</span> (diffx&gt;0) <span class="comment">/* increment x */</span>
00061                 {
00062                         <span class="keywordflow">while</span> (x != End.<a class="code" href="structT2DInt.html#m0">x</a>) 
00063                         { 
00064                                 <span class="keywordflow">if</span> (p &lt; 0)
00065                                         p += const1; 
00066                                 <span class="keywordflow">else</span> 
00067                                 { 
00068                                         y += step; 
00069                                         p += const2; 
00070                                 } 
00071                                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>(++x,y,pPixelGroup);
00072                         }
00073                 }
00074                 <span class="keywordflow">else</span> <span class="comment">/* decrement x */</span>
00075                 {
00076                         <span class="keywordflow">while</span> (x != End.<a class="code" href="structT2DInt.html#m0">x</a>) 
00077                         { 
00078                                 <span class="keywordflow">if</span> (p &lt; 0)
00079                                         p += const1; 
00080                                 <span class="keywordflow">else</span> 
00081                                 { 
00082                                         y += step; 
00083                                         p += const2; 
00084                                 } 
00085                                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>(--x,y,pPixelGroup);
00086                         }
00087                 }
00088         } 
00089         <span class="keywordflow">else</span> <span class="comment">/* dx &lt; dy is true */</span>
00090         { 
00091                 const1 = 2 * dx;
00092                 const2 = 2 * (dx - dy);
00093                 p = 2 * dx - dy;
00094                 step = (Start.<a class="code" href="structT2DInt.html#m0">x</a> &lt;= End.<a class="code" href="structT2DInt.html#m0">x</a>) ? (1) : (-1); 
00095                 <span class="keywordflow">if</span> (diffy&gt;0) <span class="comment">/* increment y */</span>
00096                 {
00097                         <span class="keywordflow">while</span> (y != End.<a class="code" href="structT2DInt.html#m1">y</a>) 
00098                         { 
00099                                 <span class="keywordflow">if</span> (p &lt; 0)
00100                                         p += const1; 
00101                                 <span class="keywordflow">else</span> 
00102                                 { 
00103                                         x += step; 
00104                                         p += const2; 
00105                                 } 
00106                                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>(x,++y,pPixelGroup);
00107                         }
00108                 }
00109                 <span class="keywordflow">else</span> <span class="comment">/* decrement y */</span>
00110                 {
00111                         <span class="keywordflow">while</span> (y != End.<a class="code" href="structT2DInt.html#m1">y</a>) 
00112                         { 
00113                                 <span class="keywordflow">if</span> (p &lt; 0)
00114                                         p += const1; 
00115                                 <span class="keywordflow">else</span> 
00116                                 { 
00117                                         x += step; 
00118                                         p += const2; 
00119                                 } 
00120                                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>(x,--y,pPixelGroup);
00121                         }
00122                 }
00123         } 
00124         <a class="code" href="group__pixelgroup.html#a36">k_GroupUpdateBoundaries</a>(pPixelGroup);
00125         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00126 }
00127 
<a name="l00128"></a><a class="code" href="group__graphics.html#a1">00128</a> <span class="keywordtype">bool</span> <a class="code" href="group__graphics.html#a1">k_GraphicsGenerateLineThick</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Start, <a class="code" href="structT2DInt.html">T2DInt</a> End, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Width, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00129 {
00130         <span class="keywordtype">double</span> Angle;
00131         <span class="keywordtype">int</span> i;
00132         <a class="code" href="structT2DInt.html">T2DInt</a> P1,P2;
00133         <span class="keywordflow">if</span> (pPixelGroup==NULL)
00134         {
00135                 <a class="code" href="structTString.html">TString</a> str;
00136                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00137                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00138                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateLineThick() PixelGroup is NULL"</span>);
00139             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00140                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00141         }
00142         <span class="keywordflow">if</span> (Width==0)
00143         {
00144                 <a class="code" href="structTString.html">TString</a> str;
00145                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00146                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00147                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateLineThick() Width is 0"</span>);
00148             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00149                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00150         }
00151         Angle=fabs(atan2(End.<a class="code" href="structT2DInt.html#m1">y</a>-Start.<a class="code" href="structT2DInt.html#m1">y</a>,End.<a class="code" href="structT2DInt.html#m0">x</a>-Start.<a class="code" href="structT2DInt.html#m0">x</a>));
00152         <span class="keywordflow">if</span> ((Angle&lt;=(<a class="code" href="group__c__globals.html#a0">PI</a>/4.0)) || (Angle&gt;=((3.0*<a class="code" href="group__c__globals.html#a0">PI</a>)/4.0)))
00153         {
00154                 <span class="comment">/* line is closest to horisontal - use vertical ends */</span>
00155                 <span class="keywordflow">for</span>(i=<a class="code" href="group__c__globals.html#a5">k_Round</a>((-(<span class="keywordtype">double</span>)Width/2.0))+1; i&lt;=(int)(Width/2); i++)
00156                 {
00157                         P1.<a class="code" href="structT2DInt.html#m0">x</a>=Start.<a class="code" href="structT2DInt.html#m0">x</a>;
00158                         P1.<a class="code" href="structT2DInt.html#m1">y</a>=Start.<a class="code" href="structT2DInt.html#m1">y</a>+i;
00159                         P2.<a class="code" href="structT2DInt.html#m0">x</a>=End.<a class="code" href="structT2DInt.html#m0">x</a>;
00160                         P2.<a class="code" href="structT2DInt.html#m1">y</a>=End.<a class="code" href="structT2DInt.html#m1">y</a>+i;
00161                         <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(P1,P2,pPixelGroup);
00162                 }
00163         }
00164         <span class="keywordflow">else</span>
00165         {
00166                 <span class="comment">/* line is closest to vertical - use horisontal ends */</span>
00167                 <span class="keywordflow">for</span>(i=<a class="code" href="group__c__globals.html#a5">k_Round</a>((-(<span class="keywordtype">double</span>)Width/2.0))+1; i&lt;=(int)(Width/2); i++)
00168                 {
00169                         P1.<a class="code" href="structT2DInt.html#m0">x</a>=Start.<a class="code" href="structT2DInt.html#m0">x</a>+i;
00170                         P1.<a class="code" href="structT2DInt.html#m1">y</a>=Start.<a class="code" href="structT2DInt.html#m1">y</a>;
00171                         P2.<a class="code" href="structT2DInt.html#m0">x</a>=End.<a class="code" href="structT2DInt.html#m0">x</a>+i;
00172                         P2.<a class="code" href="structT2DInt.html#m1">y</a>=End.<a class="code" href="structT2DInt.html#m1">y</a>;
00173                         <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(P1,P2,pPixelGroup);
00174                 }
00175         }
00176         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00177 }
00178 
<a name="l00179"></a><a class="code" href="group__graphics.html#a2">00179</a> <span class="keywordtype">bool</span> <a class="code" href="group__graphics.html#a2">k_GraphicsGenerateCircle</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Center, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Radius, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00180 {
00181         <a class="code" href="group__valuetypes.html#a2">INT16</a> x = 0;
00182         <a class="code" href="group__valuetypes.html#a2">INT16</a> y = Radius;
00183         <span class="keywordtype">int</span> p = 3 - 2 * Radius;
00184         <span class="keywordflow">if</span> (pPixelGroup==NULL)
00185         {
00186                 <a class="code" href="structTString.html">TString</a> str;
00187                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00188                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00189                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateCircle() PixelGroup is NULL"</span>);
00190             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00191                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00192         }
00193         <span class="keywordflow">while</span> (x &lt;= y)
00194         {
00195                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m0">x</a> + x), (<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m1">y</a> + y),pPixelGroup);
00196                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m0">x</a> - x), (<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m1">y</a> + y),pPixelGroup);
00197                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m0">x</a> + x), (<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m1">y</a> - y),pPixelGroup);
00198                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m0">x</a> - x), (<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m1">y</a> - y),pPixelGroup);
00199                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m0">x</a> + y), (<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m1">y</a> + x),pPixelGroup);
00200                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m0">x</a> - y), (<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m1">y</a> + x),pPixelGroup);
00201                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m0">x</a> + y), (<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m1">y</a> - x),pPixelGroup);
00202                 <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m0">x</a> - y), (<a class="code" href="group__valuetypes.html#a2">INT16</a>)(Center.<a class="code" href="structT2DInt.html#m1">y</a> - x),pPixelGroup);
00203                 <span class="keywordflow">if</span> (p &lt; 0)
00204                         p += 4 * x++ + 6;
00205                 <span class="keywordflow">else</span>
00206                         p += 4 * (x++ - y--) + 10;
00207         }
00208         <a class="code" href="group__pixelgroup.html#a36">k_GroupUpdateBoundaries</a>(pPixelGroup);
00209         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00210 }
00211 
<a name="l00212"></a><a class="code" href="group__graphics.html#a3">00212</a> <span class="keywordtype">bool</span> <a class="code" href="group__graphics.html#a3">k_GraphicsGenerateCircleRing</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Center, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Radius1, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Radius2, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00213 {
00214         <span class="keywordtype">int</span> x1 = 0, x2 = 0, k=0;
00215         <span class="keywordtype">int</span> y1 = Radius1, y2 = Radius2;
00216         <span class="keywordtype">int</span> p1 = 3 - 2 * Radius1;
00217         <span class="keywordtype">int</span> p2 = 3 - 2 * Radius2;
00218         <a class="code" href="structT2DInt.html">T2DInt</a> Pnt1,Pnt2;
00219         <span class="keywordflow">if</span> (pPixelGroup==NULL)
00220         {
00221                 <a class="code" href="structTString.html">TString</a> str;
00222                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00223                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00224                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateCircleRing() PixelGroup is NULL"</span>);
00225             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00226                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00227         }
00228         <span class="keywordflow">if</span> (Radius1&gt;Radius2)
00229         {
00230                 <a class="code" href="structTString.html">TString</a> str;
00231                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00232                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00233                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateCircleRing() Radius1&gt;Radius2"</span>);
00234             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00235                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00236         }
00237         <span class="keywordflow">while</span> (x1 &lt;= y1)
00238         {
00239                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + x1; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + y1;
00240                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + x2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + y2;
00241                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00242                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - x1; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + y1;
00243                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - x2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + y2;
00244                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00245                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + x1; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - y1;
00246                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + x2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - y2;
00247                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00248                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - x1; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - y1;
00249                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - x2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - y2;
00250                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00251                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + y1; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + x1;
00252                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + y2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + x2;
00253                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00254                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - y1; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + x1;
00255                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - y2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + x2;
00256                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00257                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + y1; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - x1;
00258                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + y2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - x2;
00259                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00260                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - y1; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - x1;
00261                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - y2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - x2;
00262                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00263                 <span class="keywordflow">if</span> (p1 &lt; 0)
00264                         p1 += 4 * x1++ + 6;
00265                 <span class="keywordflow">else</span>
00266                         p1 += 4 * (x1++ - y1--) + 10;
00267                 <span class="keywordflow">if</span> (p2 &lt; 0)
00268                         p2 += 4 * x2++ + 6;
00269                 <span class="keywordflow">else</span>
00270                         p2 += 4 * (x2++ - y2--) + 10;
00271         }
00272         y1=x1;
00273         <span class="keywordflow">while</span> (x2 &lt;= y2)
00274         {
00275                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a>+x2; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a>+y1+k;
00276                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + x2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + y2;
00277                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00278                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a>-x2; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a>+y1+k;
00279                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - x2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + y2;
00280                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00281                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a>+x2; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a>-y1-k;
00282                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + x2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - y2;
00283                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00284                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a>-x2; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a>-y1-k;
00285                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - x2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - y2;
00286                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00287                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a>+y1+k; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a>+x2;
00288                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + y2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + x2;
00289                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00290                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a>-y1-k; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a>+x2;
00291                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - y2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> + x2;
00292                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00293                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a>+y1+k; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a>-x2;
00294                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> + y2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - x2;
00295                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00296                 Pnt1.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a>-y1-k; Pnt1.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a>-x2;
00297                 Pnt2.<a class="code" href="structT2DInt.html#m0">x</a>=Center.<a class="code" href="structT2DInt.html#m0">x</a> - y2; Pnt2.<a class="code" href="structT2DInt.html#m1">y</a>=Center.<a class="code" href="structT2DInt.html#m1">y</a> - x2;
00298                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Pnt2,Pnt1,pPixelGroup);
00299                 ++k;
00300                 <span class="keywordflow">if</span> (p2 &lt; 0)
00301                         p2 += 4 * x2++ + 6;
00302                 <span class="keywordflow">else</span>
00303                         p2 += 4 * (x2++ - y2--) + 10;
00304         }
00305         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00306 }
00307 
<a name="l00308"></a><a class="code" href="group__graphics.html#a4">00308</a> <span class="keywordtype">bool</span> <a class="code" href="group__graphics.html#a4">k_GraphicsGenerateCircleRingW</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Center, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Radius, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Width, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00309 {
00310         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Radius1, Radius2;
00311         <span class="keywordflow">if</span> (Width==0)
00312         {
00313                 <a class="code" href="structTString.html">TString</a> str;
00314                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00315                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00316                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateCircleRingW() Width is 0"</span>);
00317             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00318                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00319         }
00320         Radius1=Radius+<a class="code" href="group__c__globals.html#a5">k_Round</a>((-(<span class="keywordtype">double</span>)Width/2.0))+1;
00321         Radius2=Radius+(int)(Width/2);
00322         <span class="keywordflow">return</span> <a class="code" href="group__graphics.html#a3">k_GraphicsGenerateCircleRing</a>(Center, Radius1, Radius2,pPixelGroup);
00323 }
00324 
<a name="l00325"></a><a class="code" href="group__graphics.html#a5">00325</a> <span class="keywordtype">bool</span> <a class="code" href="group__graphics.html#a5">k_GraphicsGenerateEllipse</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Center, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> RadiusX, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> RadiusY, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00326 {
00327         <span class="keywordflow">if</span> ((RadiusX==0) || (RadiusY==0))
00328         {
00329                 <a class="code" href="structTString.html">TString</a> str;
00330                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00331                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00332                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateEllipse() One of the main axises (RadiusX or RadiusY) is 0"</span>);
00333             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00334                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00335         }
00336         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pPixelGroup==NULL)
00337         {
00338                 <a class="code" href="structTString.html">TString</a> str;
00339                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00340                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00341                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateEllipse() PixelGroup is NULL"</span>);
00342             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00343                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00344         }
00345         <span class="keywordflow">else</span>
00346         {
00347                 <span class="keywordtype">int</span> a=RadiusX;
00348                 <span class="keywordtype">int</span> b=RadiusY;
00349                 <span class="keywordtype">int</span> x,y;
00350                 <span class="keywordtype">double</span> bsq=b*b;
00351                 <span class="keywordtype">double</span> asq=a*a;
00352                 <span class="keywordtype">double</span> ratio=bsq/asq;
00353                 <span class="keywordtype">double</span> xf,yf,dx,dy;
00354                 y=b;
00355                 x=0;
00356                 dy=0;
00357                 <span class="keywordflow">while</span> (dy&lt;=1)
00358                 { 
00359                         <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(x+Center.<a class="code" href="structT2DInt.html#m0">x</a>),(<a class="code" href="group__valuetypes.html#a2">INT16</a>)(y+Center.<a class="code" href="structT2DInt.html#m1">y</a>),pPixelGroup);
00360                         x--;
00361                         yf=b*sqrt(1-(x*x)/asq);
00362                         dy=-x*ratio/yf;
00363                         y=(int)(yf+0.5);
00364                 }
00365                 dx=0;
00366                 <span class="keywordflow">while</span> (dx&lt;1)
00367                 {
00368                         <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(x+Center.<a class="code" href="structT2DInt.html#m0">x</a>),(<a class="code" href="group__valuetypes.html#a2">INT16</a>)(y+Center.<a class="code" href="structT2DInt.html#m1">y</a>),pPixelGroup);
00369                         y--;
00370                         xf=-a*sqrt(1-(y*y)/bsq);
00371                         dx=y/xf/ratio;
00372                         x=(int)(xf-0.5);
00373                 }
00374                 dy=0;
00375                 <span class="keywordflow">while</span> (dy&lt;=1)
00376                 {
00377                         <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(x+Center.<a class="code" href="structT2DInt.html#m0">x</a>),(<a class="code" href="group__valuetypes.html#a2">INT16</a>)(y+Center.<a class="code" href="structT2DInt.html#m1">y</a>),pPixelGroup);
00378                         x++;
00379                         yf=-b*sqrt(1-(x*x)/asq);
00380                         dy=-x*ratio/yf;
00381                         y=(int)(yf-0.5);
00382                 }
00383                 dx=0;
00384                 <span class="keywordflow">while</span> (dx&lt;=1)
00385                 {
00386                         <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(x+Center.<a class="code" href="structT2DInt.html#m0">x</a>),(<a class="code" href="group__valuetypes.html#a2">INT16</a>)(y+Center.<a class="code" href="structT2DInt.html#m1">y</a>),pPixelGroup);
00387                         y++;
00388                         xf=a*sqrt(1-(y*y)/bsq);
00389                         dx=y/xf/ratio;
00390                         x=(int)(xf+0.5);
00391                 }
00392                 <span class="keywordflow">while</span> (x&gt;0)
00393                 {
00394                         <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>((<a class="code" href="group__valuetypes.html#a2">INT16</a>)(x+Center.<a class="code" href="structT2DInt.html#m0">x</a>),(<a class="code" href="group__valuetypes.html#a2">INT16</a>)(y+Center.<a class="code" href="structT2DInt.html#m1">y</a>),pPixelGroup);
00395                         x--;
00396                         y=(int)(b*sqrt(1-(x*x)/asq)+0.5);
00397                 }
00398         }
00399         <a class="code" href="group__pixelgroup.html#a36">k_GroupUpdateBoundaries</a>(pPixelGroup);
00400         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00401 }
00402 
<a name="l00403"></a><a class="code" href="group__graphics.html#a6">00403</a> <span class="keywordtype">bool</span> <a class="code" href="group__graphics.html#a6">k_GraphicsGenerateCross</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Center, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Size, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00404 {
00405         <span class="keywordtype">int</span> Half1 = (int)(Size/2);
00406         <span class="keywordtype">int</span> Half2 = (int)((Size/2.0)+0.5)-1;
00407         <a class="code" href="structT2DInt.html">T2DInt</a> Start, End;
00408         <span class="keywordflow">if</span> (pPixelGroup==NULL)
00409         {
00410                 <a class="code" href="structTString.html">TString</a> str;
00411                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00412                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00413                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateCross() PixelGroup is NULL"</span>);
00414             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00415                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00416         }
00417         Start.<a class="code" href="structT2DInt.html#m0">x</a> = Center.<a class="code" href="structT2DInt.html#m0">x</a> - Half1;
00418         Start.<a class="code" href="structT2DInt.html#m1">y</a> = Center.<a class="code" href="structT2DInt.html#m1">y</a> - Half1;
00419         End.<a class="code" href="structT2DInt.html#m0">x</a>   = Center.<a class="code" href="structT2DInt.html#m0">x</a> + Half2;
00420         End.<a class="code" href="structT2DInt.html#m1">y</a>   = Center.<a class="code" href="structT2DInt.html#m1">y</a> + Half2;
00421         <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Start,End,pPixelGroup);
00422         Start.<a class="code" href="structT2DInt.html#m0">x</a> = Center.<a class="code" href="structT2DInt.html#m0">x</a> + Half1;
00423         Start.<a class="code" href="structT2DInt.html#m1">y</a> = Center.<a class="code" href="structT2DInt.html#m1">y</a> - Half1;
00424         End.<a class="code" href="structT2DInt.html#m0">x</a>   = Center.<a class="code" href="structT2DInt.html#m0">x</a> - Half2;
00425         End.<a class="code" href="structT2DInt.html#m1">y</a>   = Center.<a class="code" href="structT2DInt.html#m1">y</a> + Half2;
00426         <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Start,End,pPixelGroup);
00427         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00428 }
00429 
<a name="l00430"></a><a class="code" href="group__graphics.html#a7">00430</a> <span class="keywordtype">bool</span> <a class="code" href="group__graphics.html#a7">k_GraphicsGeneratePlus</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Center, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Size, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00431 {
00432         <span class="keywordtype">int</span> Half1 = (int)(Size/2);
00433         <span class="keywordtype">int</span> Half2 = (int)((Size/2.0)+0.5)-1;
00434         <a class="code" href="structT2DInt.html">T2DInt</a> Start, End;
00435         <span class="keywordflow">if</span> (pPixelGroup==NULL)
00436         {
00437                 <a class="code" href="structTString.html">TString</a> str;
00438                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00439                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00440                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateCross() PixelGroup is NULL"</span>);
00441             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00442                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00443         }
00444         Start.<a class="code" href="structT2DInt.html#m0">x</a> = Center.<a class="code" href="structT2DInt.html#m0">x</a> - Half1;
00445         Start.<a class="code" href="structT2DInt.html#m1">y</a> = Center.<a class="code" href="structT2DInt.html#m1">y</a>;
00446         End.<a class="code" href="structT2DInt.html#m0">x</a>   = Center.<a class="code" href="structT2DInt.html#m0">x</a> + Half2;
00447         End.<a class="code" href="structT2DInt.html#m1">y</a>   = Center.<a class="code" href="structT2DInt.html#m1">y</a>;
00448         <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Start,End,pPixelGroup);
00449         Start.<a class="code" href="structT2DInt.html#m0">x</a> = Center.<a class="code" href="structT2DInt.html#m0">x</a>;
00450         Start.<a class="code" href="structT2DInt.html#m1">y</a> = Center.<a class="code" href="structT2DInt.html#m1">y</a> - Half1;
00451         End.<a class="code" href="structT2DInt.html#m0">x</a>   = Center.<a class="code" href="structT2DInt.html#m0">x</a>;
00452         End.<a class="code" href="structT2DInt.html#m1">y</a>   = Center.<a class="code" href="structT2DInt.html#m1">y</a> + Half2;
00453         <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Start,End,pPixelGroup);
00454         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00455 }
00456 
<a name="l00457"></a><a class="code" href="group__graphics.html#a8">00457</a> <span class="keywordtype">bool</span> <a class="code" href="group__graphics.html#a8">k_GraphicsGenerateRectangle</a>(<a class="code" href="structT2DInt.html">T2DInt</a> TopLeft, <a class="code" href="structT2DInt.html">T2DInt</a> BottumRight, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00458 {
00459         <a class="code" href="structT2DInt.html">T2DInt</a> Start, End;
00460         <span class="keywordflow">if</span> (pPixelGroup==NULL)
00461         {
00462                 <a class="code" href="structTString.html">TString</a> str;
00463                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00464                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00465                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateRectangle() PixelGroup is NULL"</span>);
00466             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00467                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00468         }
00469         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((TopLeft.<a class="code" href="structT2DInt.html#m0">x</a>&gt;=BottumRight.<a class="code" href="structT2DInt.html#m0">x</a>) || (TopLeft.<a class="code" href="structT2DInt.html#m1">y</a>&gt;=BottumRight.<a class="code" href="structT2DInt.html#m1">y</a>))
00470         {
00471                 <a class="code" href="structTString.html">TString</a> str;
00472                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00473                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00474                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GraphicsGenerateRectangle() TopLeft and BottumRight not correct positioned"</span>);
00475             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00476                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00477         }
00478         <span class="comment">/* upper horisontal line */</span>
00479         Start = TopLeft;
00480         End.<a class="code" href="structT2DInt.html#m0">x</a> = BottumRight.<a class="code" href="structT2DInt.html#m0">x</a>;
00481         End.<a class="code" href="structT2DInt.html#m1">y</a> = TopLeft.<a class="code" href="structT2DInt.html#m1">y</a>;
00482         <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Start,End,pPixelGroup);
00483         <span class="comment">/* right vertical line */</span>
00484         Start.<a class="code" href="structT2DInt.html#m0">x</a> = BottumRight.<a class="code" href="structT2DInt.html#m0">x</a>;
00485         Start.<a class="code" href="structT2DInt.html#m1">y</a> = TopLeft.<a class="code" href="structT2DInt.html#m1">y</a> + 1;
00486         End = BottumRight;
00487         <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Start,End,pPixelGroup);
00488         <span class="comment">/* bottum horisontal line */</span>
00489         Start.<a class="code" href="structT2DInt.html#m0">x</a> = BottumRight.<a class="code" href="structT2DInt.html#m0">x</a> - 1;
00490         Start.<a class="code" href="structT2DInt.html#m1">y</a> = BottumRight.<a class="code" href="structT2DInt.html#m1">y</a>;
00491         End.<a class="code" href="structT2DInt.html#m0">x</a> = TopLeft.<a class="code" href="structT2DInt.html#m0">x</a>;
00492         End.<a class="code" href="structT2DInt.html#m1">y</a> = BottumRight.<a class="code" href="structT2DInt.html#m1">y</a>;
00493         <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Start,End,pPixelGroup);
00494         <span class="comment">/* right vertical line */</span>
00495         Start.<a class="code" href="structT2DInt.html#m0">x</a> = TopLeft.<a class="code" href="structT2DInt.html#m0">x</a>;
00496         Start.<a class="code" href="structT2DInt.html#m1">y</a> = BottumRight.<a class="code" href="structT2DInt.html#m1">y</a> - 1;
00497         End.<a class="code" href="structT2DInt.html#m0">x</a> = TopLeft.<a class="code" href="structT2DInt.html#m0">x</a>;
00498         End.<a class="code" href="structT2DInt.html#m1">y</a> = TopLeft.<a class="code" href="structT2DInt.html#m1">y</a>+1;
00499         <span class="comment">/* special cases */</span>
00500         <span class="keywordflow">if</span> (Start.<a class="code" href="structT2DInt.html#m1">y</a>&gt;=End.<a class="code" href="structT2DInt.html#m1">y</a>) 
00501                 <a class="code" href="group__graphics.html#a0">k_GraphicsGenerateLine</a>(Start,End,pPixelGroup);
00502         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00503 }
00504 
00505 
00506 
00507 <span class="comment">/************************************************/</span>
00508 <span class="comment">/********        Private functions       ********/</span>
00509 <span class="comment">/************************************************/</span>
00510 
00511 
00512 
00513 <span class="preprocessor">#ifdef _IPL98_USING_CPP</span>
00514 <span class="preprocessor"></span>} <span class="comment">/* end of extern "C" */</span>
00515 } <span class="comment">/* end namespace ipl */</span>
00516 <span class="preprocessor">#endif</span>
</pre></div><!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Tag</title>
<base target="_top">
</head>

<body bgcolor="#FFFFFF">

<hr>

<p align="right"><font size="2"><em>Updated <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d. %B %Y %H:%M" startspan -->21. juli 2002 12:29<!--webbot bot="Timestamp" endspan i-checksum="38834" --> by
<a href="http://www.mip.sdu.dk/~edr/">René Dencker
Eriksen</a>(<a href="mailto:edr@mip.sdu.dk">edr@mip.sdu.dk</a>)</em></font></p>
</body>
</html>
