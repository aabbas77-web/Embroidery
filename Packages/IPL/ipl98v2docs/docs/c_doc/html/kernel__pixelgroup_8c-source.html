<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link type="text/css" href="../../doxygen.css" rel="stylesheet">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Image Processing Library 98</title>
</head>

<body>
<h2 align="center"><a href="http://www.mip.sdu.dk/ipl98" target="_blank"><img border="0" src="ipl_doc_header.gif" width="694" height="55"></a></h2>

</body>

</html>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; </center>
<hr><h1>kernel_pixelgroup.c</h1><div class="fragment"><pre>00001 <span class="comment">/********************************************************************</span>
00002 <span class="comment">   The Image Processing Library 98 - IPL98</span>
00003 <span class="comment">   Copyright (C) by René Dencker Eriksen - edr@mip.sdu.dk</span>
00004 <span class="comment"></span>
00005 <span class="comment">   This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation. Only</span>
00008 <span class="comment">   addition is, that if the library is used in proprietary software</span>
00009 <span class="comment">   it must be stated that IPL98 was used.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   This library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   More details can be found in the file licence.txt distributed</span>
00016 <span class="comment">   with this library.</span>
00017 <span class="comment">*********************************************************************/</span>
00018 
00019 <span class="preprocessor">#include "kernel_pixelgroup.h"</span>
00020 <span class="preprocessor">#include "kernel_error.h"</span>
00021 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00022 <span class="preprocessor">#include &lt;string.h&gt;</span>
00023 
00024 <span class="preprocessor">#ifdef _IPL98_USING_CPP</span>
00025 <span class="preprocessor"></span><span class="keyword">namespace </span>ipl{ <span class="comment">/* use namespace if C++ */</span>
00026 <span class="keyword">extern</span> <span class="stringliteral">"C"</span> { <span class="comment">/* prevent name mangling for C functions */</span>
00027 <span class="preprocessor">#endif</span>
00028 <span class="preprocessor"></span>
00029 <span class="comment">/************************************************/</span>
00030 <span class="comment">/********        Private functions       ********/</span>
00031 <span class="comment">/************************************************/</span>
00032 
00036 <span class="keywordtype">void</span> k_UpdateBoundaries(<a class="code" href="structT2DInt.html">T2DInt</a> RemovedPos,<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup);
00037 
00042 <span class="keywordtype">bool</span> k_AddGroupToImageFast(<a class="code" href="structTImage.html">TImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup, <span class="keyword">const</span> <a class="code" href="group__valuetypes.html#a5">UINT32</a>* pColor);
00043 <span class="keywordtype">bool</span> k_AddGroupToComplexImageFast(<a class="code" href="structTComplexImage.html">TComplexImage</a>* pDest,<span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<a class="code" href="group__valuetypes.html#a6">FLOAT32</a> Value);
00044 <span class="keywordtype">bool</span> k_AddGroupToFloatImageFast(<a class="code" href="structTFloatImage.html">TFloatImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup, <a class="code" href="group__valuetypes.html#a6">FLOAT32</a> Value);
00045 <span class="keywordtype">bool</span> k_AddGroupToIntImageFast(<a class="code" href="structTIntImage.html">TIntImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup, <a class="code" href="group__valuetypes.html#a2">INT16</a> Value);
00046 
00047 
00048 <span class="comment">/************************************************/</span>
00049 <span class="comment">/********        Public functions        ********/</span>
00050 <span class="comment">/************************************************/</span>
00051 
<a name="l00052"></a><a class="code" href="group__pixelgroup.html#a0">00052</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroup.html#a0">k_InitGroup</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00053 {
00054         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m0">x</a>=0;
00055         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>=32767; <span class="comment">/* makes sure the border values are set at first k_AddPosition() call */</span>
00056         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m0">x</a>=0;
00057         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>=-32768; <span class="comment">/* makes sure the border values are set at first k_AddPosition() call */</span>
00058         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>=32767; <span class="comment">/* makes sure the border values are set at first k_AddPosition() call */</span>
00059         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m1">y</a>=0;
00060         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>=-32768; <span class="comment">/* makes sure the border values are set at first k_AddPosition() call */</span>
00061         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m1">y</a>=0;
00062         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m4">Color</a>=UNDEFINED;
00063         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>=NULL;
00064         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>=NULL;
00065         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>=0;
00066         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>=0; <span class="comment">/* internal use */</span>
00067 }
00068 
00069 <span class="comment">/*      Deletes all allocated memory for PixelGroup */</span>
<a name="l00070"></a><a class="code" href="group__pixelgroup.html#a1">00070</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroup.html#a1">k_EmptyGroup</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00071 {
00072         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>!=NULL)
00073                 free(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>);
00074         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00075                 free(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>);
00076         <a class="code" href="group__pixelgroup.html#a0">k_InitGroup</a>(pPixelGroup);
00077 }
00078 
<a name="l00079"></a><a class="code" href="group__pixelgroup.html#a2">00079</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroup.html#a2">k_AllocGroup</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> InitialSize)
00080 {
00081         <a class="code" href="group__pixelgroup.html#a1">k_EmptyGroup</a>(pPixelGroup);
00082         <span class="keywordflow">if</span> (InitialSize==0)
00083                 InitialSize=1; <span class="comment">/* minimum one allocated position */</span>
00084         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>=(<a class="code" href="structT2DInt.html">T2DInt</a>*)malloc(InitialSize*<span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>));
00085         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>=0; <span class="comment">/* just in case! */</span>
00086         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>=InitialSize; <span class="comment">/* internal use */</span>
00087 }
00088 
<a name="l00089"></a><a class="code" href="group__pixelgroup.html#a3">00089</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroup.html#a3">k_AllocGroupAndColors</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> InitialSize)
00090 {
00091         <a class="code" href="group__pixelgroup.html#a1">k_EmptyGroup</a>(pPixelGroup);
00092         <span class="keywordflow">if</span> (InitialSize==0)
00093                 InitialSize=1; <span class="comment">/* minimum one allocated position */</span>
00094         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>=(<a class="code" href="structT2DInt.html">T2DInt</a>*)malloc(InitialSize*<span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>));
00095         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>=(<a class="code" href="group__valuetypes.html#a5">UINT32</a>*)malloc(InitialSize*<span class="keyword">sizeof</span>(<a class="code" href="group__valuetypes.html#a5">UINT32</a>));
00096         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>=0; <span class="comment">/* just in case! */</span>
00097         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>=InitialSize; <span class="comment">/* internal use */</span>
00098 }
00099 
<a name="l00100"></a><a class="code" href="group__pixelgroup.html#a4">00100</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroup.html#a4">k_ReAllocGroup</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NewSize)
00101 {
00102         <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>=(<a class="code" href="structT2DInt.html">T2DInt</a>*)realloc(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>,NewSize*<span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>)))!=NULL)
00103         {
00104                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>=NewSize; <span class="comment">/* internal use */</span>
00105                 <span class="comment">/* check if colors are available and realloc if yes */</span>
00106                 <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00107                 {
00108                         <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>=(<a class="code" href="group__valuetypes.html#a5">UINT32</a>*)realloc(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>,NewSize*<span class="keyword">sizeof</span>(<a class="code" href="group__valuetypes.html#a5">UINT32</a>)))!=NULL)
00109                         {
00110                                 <a class="code" href="structTString.html">TString</a> str;
00111                                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00112                                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00113                                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_ReAllocGroup() Realloc colors failed"</span>);
00114                                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00115                         }
00116                 }
00117         }
00118         <span class="keywordflow">else</span>
00119         {
00120                 <a class="code" href="structTString.html">TString</a> str;
00121                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00122                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00123                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_ReAllocGroup() Realloc of positions failed"</span>);
00124                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00125         }
00126 }
00127 
<a name="l00128"></a><a class="code" href="group__pixelgroup.html#a5">00128</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroup.html#a5">k_AdjustSizeOfGroup</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00129 {
00130         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>=(<a class="code" href="structT2DInt.html">T2DInt</a>*)realloc(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>*<span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>));
00131         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;
00132         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00133         {
00134                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>=(<a class="code" href="group__valuetypes.html#a5">UINT32</a>*)realloc(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>*<span class="keyword">sizeof</span>(<a class="code" href="group__valuetypes.html#a5">UINT32</a>));
00135         }
00136 }
00137 
<a name="l00138"></a><a class="code" href="group__pixelgroup.html#a6">00138</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a6">k_AddPosToGroup</a>(<a class="code" href="group__valuetypes.html#a2">INT16</a> x, <a class="code" href="group__valuetypes.html#a2">INT16</a> y, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00139 {
00140         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00141         {
00142                 <a class="code" href="structTString.html">TString</a> str;
00143                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00144                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00145                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddPosToGroup() Colors available, cannot insert position only"</span>);
00146             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00147                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00148         }
00149         <span class="keywordflow">else</span>
00150         {
00151                 <a class="code" href="structT2DInt.html">T2DInt</a> p;
00152                 p.<a class="code" href="structT2DInt.html#m0">x</a>=x;
00153                 p.<a class="code" href="structT2DInt.html#m1">y</a>=y;
00154                 <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>)
00155                 {
00156                         <span class="comment">/* allocate 2 times previous allocated memory or 2 if memory never allocated before */</span>
00157                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a> = 
00158                                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>==0) ? 2 : 2*pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>;
00159                         <a class="code" href="group__pixelgroup.html#a4">k_ReAllocGroup</a>(pPixelGroup,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>);
00160                 }
00161                 <span class="keywordflow">if</span> (x&gt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x)
00162                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>=p;
00163                 <span class="keywordflow">if</span> (x&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x)
00164                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>=p;
00165                 <span class="keywordflow">if</span> (y&gt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y)
00166                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>=p;
00167                 <span class="keywordflow">if</span> (y&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y)
00168                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>=p;
00169                 <span class="comment">/* insert pixel and increment total pixels variable */</span>
00170                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>++] = p;
00171                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00172         }
00173 }
00174 
<a name="l00175"></a><a class="code" href="group__pixelgroup.html#a7">00175</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a7">k_Add2DPosToGroup</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Pos, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00176 {
00177         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00178         {
00179                 <a class="code" href="structTString.html">TString</a> str;
00180                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00181                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00182                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_Add2DPosToGroup() Colors available, cannot insert position only"</span>);
00183             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00184                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00185         }
00186         <span class="keywordflow">else</span>
00187         {
00188                 <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>)
00189                 {
00190                         <span class="comment">/* allocate 2 times previous allocated memory or 2 if memory never allocated before */</span>
00191                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a> = 
00192                                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>==0) ? 2 : 2*pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>;
00193 
00194                         <a class="code" href="group__pixelgroup.html#a4">k_ReAllocGroup</a>(pPixelGroup,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>);
00195                 }
00196                 <span class="comment">/* Update max. and min. values in pPixelGroup */</span>
00197                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x)
00198                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>=Pos;
00199                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m0">x</a>&gt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x)
00200                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>=Pos;
00201                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y)
00202                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>=Pos;
00203                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m1">y</a>&gt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y)
00204                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>=Pos;
00205                 <span class="comment">/* insert pixel and increment total pixels variable */</span>
00206                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>++] = Pos;
00207                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00208         }
00209 }
00210 
<a name="l00211"></a><a class="code" href="group__pixelgroup.html#a8">00211</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a8">k_AddPosColorToGroup</a>(<a class="code" href="group__valuetypes.html#a2">INT16</a> x, <a class="code" href="group__valuetypes.html#a2">INT16</a> y, <a class="code" href="group__valuetypes.html#a5">UINT32</a> Color, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00212 {
00213         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>==NULL)
00214         {
00215                 <a class="code" href="structTString.html">TString</a> str;
00216                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00217                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00218                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddPosColorToGroup() Colors not available"</span>);
00219             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00220                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00221         }
00222         <span class="keywordflow">else</span>
00223         {
00224                 <a class="code" href="structT2DInt.html">T2DInt</a> p;
00225                 p.<a class="code" href="structT2DInt.html#m0">x</a>=x;
00226                 p.<a class="code" href="structT2DInt.html#m1">y</a>=y;
00227                 <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>)
00228                 {
00229                         <span class="comment">/* allocate 2 times previous allocated memory or 2 if memory never allocated before */</span>
00230                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a> = 
00231                                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>==0) ? 2 : 2*pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>;
00232                         <a class="code" href="group__pixelgroup.html#a4">k_ReAllocGroup</a>(pPixelGroup,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>);
00233                 }
00234                 <span class="keywordflow">if</span> (x&gt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x)
00235                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>=p;
00236                 <span class="keywordflow">if</span> (x&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x)
00237                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>=p;
00238                 <span class="keywordflow">if</span> (y&gt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y)
00239                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>=p;
00240                 <span class="keywordflow">if</span> (y&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y)
00241                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>=p;
00242                 <span class="comment">/* insert pixel and increment total pixels variable */</span>
00243                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>] = Color;
00244                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>++] = p;
00245                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00246         }
00247 }
00248 
<a name="l00249"></a><a class="code" href="group__pixelgroup.html#a9">00249</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a9">k_Add2DPosColorToGroup</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Pos, <a class="code" href="group__valuetypes.html#a5">UINT32</a> Color, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00250 {
00251         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>==NULL)
00252         {
00253                 <a class="code" href="structTString.html">TString</a> str;
00254                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00255                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00256                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_Add2DPosColorToGroup() Colors not available"</span>);
00257             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00258                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00259         }
00260         <span class="keywordflow">else</span>
00261         {
00262                 <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>)
00263                 {
00264                         <span class="comment">/* allocate 2 times previous allocated memory or 2 if memory never allocated before */</span>
00265                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a> = 
00266                                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>==0) ? 2 : 2*pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>;
00267 
00268                         <a class="code" href="group__pixelgroup.html#a4">k_ReAllocGroup</a>(pPixelGroup,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>);
00269                 }
00270                 <span class="comment">/* Update max. and min. values in pPixelGroup */</span>
00271                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x)
00272                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>=Pos;
00273                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m0">x</a>&gt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x)
00274                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>=Pos;
00275                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y)
00276                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>=Pos;
00277                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m1">y</a>&gt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y)
00278                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>=Pos;
00279                 <span class="comment">/* insert pixel and increment total pixels variable */</span>
00280                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>] = Color;
00281                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>++] = Pos;
00282                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00283         }
00284 }
00285 
<a name="l00286"></a><a class="code" href="group__pixelgroup.html#a10">00286</a> <a class="code" href="group__valuetypes.html#a5">UINT32</a> <a class="code" href="group__pixelgroup.html#a10">k_GetColorGroup</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00287 {       <span class="comment">/* C only version, C++ has its own implementation to increase speed */</span>
00288         <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL) &amp;&amp; (Index&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>))
00289                 <span class="keywordflow">return</span> pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index];
00290         <span class="keywordflow">else</span>
00291         {
00292                 <a class="code" href="structTString.html">TString</a> str;
00293                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00294                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00295                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GetColorGroup() Index(%d) out of range or colors not available"</span>,Index);
00296             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00297                 <span class="keywordflow">return</span> 0;
00298         }
00299 }
00300 
<a name="l00301"></a><a class="code" href="group__pixelgroup.html#a11">00301</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a11">k_SetColorGroup</a>(<a class="code" href="group__valuetypes.html#a5">UINT32</a> ColorValue, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00302 {       <span class="comment">/* C only version, C++ has its own implementation to increase speed */</span>
00303         <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL) &amp;&amp; (Index&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>))
00304         {
00305                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]=ColorValue;
00306                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00307         }
00308         <span class="keywordflow">else</span>
00309         {
00310                 <a class="code" href="structTString.html">TString</a> str;
00311                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00312                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00313                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_SetColorGroup() Index(%d) out of range or colors not available"</span>,Index);
00314             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00315                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00316         }
00317 }
00318 
<a name="l00319"></a><a class="code" href="group__pixelgroup.html#a12">00319</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a12">k_ColorsAvailableGroup</a>(<span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00320 {
00321         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00322                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00323         <span class="keywordflow">else</span>
00324                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00325 }
00326 
<a name="l00327"></a><a class="code" href="group__pixelgroup.html#a13">00327</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a13">k_InsertPosInGroup</a>(<a class="code" href="group__valuetypes.html#a2">INT16</a> x, <a class="code" href="group__valuetypes.html#a2">INT16</a> y, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00328 {
00329         <span class="keywordflow">if</span> (Index&gt;=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>)
00330         {
00331                 <a class="code" href="structTString.html">TString</a> str;
00332                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00333                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00334                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_InsertPosInGroup() Index (%d) is out of range (NumberOfPixels=%d)"</span>,
00335                         Index,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>);
00336                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00337                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00338         }
00339         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00340         {
00341                 <a class="code" href="structTString.html">TString</a> str;
00342                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00343                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00344                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_InsertPosInGroup() Colors are present - failed inserting"</span>);
00345                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00346                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00347         }
00348         <span class="comment">/* Add a dummy position to the end of position array */</span>
00349         <a class="code" href="group__pixelgroup.html#a7">k_Add2DPosToGroup</a>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[0],pPixelGroup);
00350         <span class="comment">/* Move positions */</span>
00351         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]),
00352                 <span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
00353         <span class="comment">/* Store the new position at Index */</span>
00354         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index].<a class="code" href="structT2DInt.html#m0">x</a>=x;
00355         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index].<a class="code" href="structT2DInt.html#m1">y</a>=y;
00356         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00357 }
00358 
<a name="l00359"></a><a class="code" href="group__pixelgroup.html#a14">00359</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a14">k_Insert2DPosInGroup</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Pos, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00360 {
00361         <span class="keywordflow">if</span> (Index&gt;=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>)
00362         {
00363                 <a class="code" href="structTString.html">TString</a> str;
00364                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00365                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00366                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_Insert2DPosInGroup() Index (%d) is out of range (NumberOfPixels=%d)"</span>,
00367                         Index,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>);
00368                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00369                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00370         }
00371         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00372         {
00373                 <a class="code" href="structTString.html">TString</a> str;
00374                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00375                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00376                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_InsertPosInGroup() Colors are present - failed inserting"</span>);
00377                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00378                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00379         }
00380         <span class="comment">/* Add a dummy position to the end of position array */</span>
00381         <a class="code" href="group__pixelgroup.html#a7">k_Add2DPosToGroup</a>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[0],pPixelGroup);
00382         <span class="comment">/* Move positions */</span>
00383         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]),
00384                 <span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
00385         <span class="comment">/* Store the new position at Index */</span>
00386         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]=Pos;
00387         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00388 }
00389 
<a name="l00390"></a><a class="code" href="group__pixelgroup.html#a15">00390</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a15">k_InsertPosColorInGroup</a>(<a class="code" href="group__valuetypes.html#a2">INT16</a> x, <a class="code" href="group__valuetypes.html#a2">INT16</a> y, <a class="code" href="group__valuetypes.html#a5">UINT32</a> Color, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00391 {
00392         <span class="keywordflow">if</span> (Index&gt;=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>)
00393         {
00394                 <a class="code" href="structTString.html">TString</a> str;
00395                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00396                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00397                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_InsertPosColorInGroup() Index (%d) is out of range (NumberOfPixels=%d)"</span>,
00398                         Index,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>);
00399                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00400                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00401         }
00402         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>==NULL)
00403         {
00404                 <a class="code" href="structTString.html">TString</a> str;
00405                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00406                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00407                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_InsertPosInGroup() Colors not available - failed inserting"</span>);
00408                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00409                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00410         }
00411         <span class="comment">/* Add a dummy position to the end of position array */</span>
00412         <a class="code" href="group__pixelgroup.html#a9">k_Add2DPosColorToGroup</a>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[0],0,pPixelGroup);
00413         <span class="comment">/* Move positions */</span>
00414         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]),
00415                 <span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
00416         <span class="comment">/* Move colors */</span>
00417         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]),
00418                 <span class="keyword">sizeof</span>(<a class="code" href="group__valuetypes.html#a5">UINT32</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
00419         <span class="comment">/* Store the new position at Index */</span>
00420         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index].<a class="code" href="structT2DInt.html#m0">x</a>=x;
00421         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index].<a class="code" href="structT2DInt.html#m1">y</a>=y;
00422         <span class="comment">/* Store new color */</span>
00423         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]=Color;
00424         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00425 }
00426 
<a name="l00427"></a><a class="code" href="group__pixelgroup.html#a16">00427</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a16">k_Insert2DPosColorInGroup</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Pos, <a class="code" href="group__valuetypes.html#a5">UINT32</a> Color, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00428 {
00429         <span class="keywordflow">if</span> (Index&gt;=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>)
00430         {
00431                 <a class="code" href="structTString.html">TString</a> str;
00432                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00433                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00434                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_Insert2DPosColorInGroup() Index (%d) is out of range (NumberOfPixels=%d)"</span>,
00435                         Index,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>);
00436                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00437                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00438         }
00439         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>==NULL)
00440         {
00441                 <a class="code" href="structTString.html">TString</a> str;
00442                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00443                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00444                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_Insert2DPosInGroup() Colors not available - failed inserting"</span>);
00445                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00446                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00447         }
00448         <span class="comment">/* Add a dummy position to the end of position array */</span>
00449         <a class="code" href="group__pixelgroup.html#a9">k_Add2DPosColorToGroup</a>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[0],0,pPixelGroup);
00450         <span class="comment">/* Move positions */</span>
00451         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]),
00452                 <span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
00453         <span class="comment">/* Move colors */</span>
00454         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]),
00455                 <span class="keyword">sizeof</span>(<a class="code" href="group__valuetypes.html#a5">UINT32</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
00456         <span class="comment">/* Store the new position at Index */</span>
00457         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]=Pos;
00458         <span class="comment">/* Store new color */</span>
00459         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]=Color;
00460         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00461 }
00462 
<a name="l00463"></a><a class="code" href="group__pixelgroup.html#a17">00463</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a17">k_RemovePosFromGroup</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00464 {
00465         <a class="code" href="structT2DInt.html">T2DInt</a> RemovedPos;
00466         <span class="keywordflow">if</span> (Index&gt;=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>)
00467         {
00468                 <a class="code" href="structTString.html">TString</a> str;
00469                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00470                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00471                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_RemovePosFromGroup() Index (%d) is out of range (NumberOfPixels=%d)"</span>,
00472                         Index,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>);
00473                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00474                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00475         }
00476         RemovedPos=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index];
00477         <span class="comment">/* Move last position to Index */</span>
00478         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-1];
00479         <span class="comment">/* If colors are present move the corresponding color */</span>
00480         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00481         {
00482                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-1];
00483         }
00484         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>--;
00485         <span class="comment">/* Check if the position removed will affect the boundaries of the pixel group */</span>
00486         k_UpdateBoundaries(RemovedPos,pPixelGroup);
00487         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00488 }
00489 
<a name="l00490"></a><a class="code" href="group__pixelgroup.html#a18">00490</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a18">k_RemovePosFromGroupSlow</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00491 {
00492         <a class="code" href="structT2DInt.html">T2DInt</a> RemovedPos;
00493         <span class="keywordflow">if</span> (Index&gt;=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>)
00494         {
00495                 <a class="code" href="structTString.html">TString</a> str;
00496                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00497                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00498                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_RemovePosFromGroupSlow() Index (%d) is out of range (NumberOfPixels=%d)"</span>,
00499                         Index,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>);
00500                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00501                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00502         }
00503         RemovedPos=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index];
00504         <span class="comment">/* If the Index is the last position in group no movement */</span>
00505         <span class="keywordflow">if</span> (Index&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-1))
00506         {
00507                 <span class="comment">/* Move positions */</span>
00508                 memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index+1]),
00509                         <span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
00510                 <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00511                 {
00512                         <span class="comment">/* Move colors */</span>
00513                         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index+1]),
00514                                 <span class="keyword">sizeof</span>(<a class="code" href="group__valuetypes.html#a5">UINT32</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
00515                 }
00516         }
00517         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>--;
00518         <span class="comment">/* Check if the position removed will affect the boundaries of the pixel group */</span>
00519         k_UpdateBoundaries(RemovedPos,pPixelGroup);
00520         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00521 }
00522 
<a name="l00523"></a><a class="code" href="group__pixelgroup.html#a19">00523</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__pixelgroup.html#a19">k_RemoveDuplicatesFromGroup</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00524 {
00525         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count1=0,count2;
00526         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> TotalPositions=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;
00527         <span class="keywordtype">unsigned</span> PosRemoved=0;
00528         <span class="keywordflow">while</span>(count1&lt;TotalPositions)
00529         {
00530                 count2=count1+1;
00531                 <span class="keywordflow">while</span>(count2&lt;TotalPositions)
00532                 {
00533                         <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[count2].<a class="code" href="structT2DInt.html#m0">x</a>==pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[count1].<a class="code" href="structT2DInt.html#m0">x</a>) &amp;&amp;
00534                                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[count2].<a class="code" href="structT2DInt.html#m1">y</a>==pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[count1].<a class="code" href="structT2DInt.html#m1">y</a>))
00535                         {
00536                                 <span class="comment">/* Move last position to Index */</span>
00537                                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[count2]=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-1];
00538                                 <span class="comment">/* If colors are present move the corresponding color */</span>
00539                                 <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00540                                 {
00541                                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[count2]=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-1];
00542                                 }
00543                                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>--;
00544                                 PosRemoved++;
00545                         }
00546                         <span class="keywordflow">else</span>
00547                         {
00548                                 count2++;
00549                         }
00550                         TotalPositions=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;
00551                 }
00552                 count1++;
00553         }
00554         <span class="keywordflow">return</span> PosRemoved;
00555 }
00556 
<a name="l00557"></a><a class="code" href="group__pixelgroup.html#a20">00557</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a20">k_AllocColorsGroup</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00558 {
00559         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>==NULL)
00560         {
00561                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>=(<a class="code" href="group__valuetypes.html#a5">UINT32</a>*)malloc(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>*<span class="keyword">sizeof</span>(<a class="code" href="group__valuetypes.html#a5">UINT32</a>));
00562                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00563         }
00564         <span class="keywordflow">else</span>
00565         {
00566                 <a class="code" href="structTString.html">TString</a> str;
00567                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00568                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00569                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AllocColorsGroup() PixelGroup already contains colors"</span>);
00570                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00571                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00572         }
00573 }
00574 
<a name="l00575"></a><a class="code" href="group__pixelgroup.html#a21">00575</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a21">k_AllocAndInitColorsGroup</a>(<a class="code" href="group__valuetypes.html#a5">UINT32</a> InitialValue,<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00576 {
00577         <span class="keywordflow">if</span> (<a class="code" href="group__pixelgroup.html#a20">k_AllocColorsGroup</a>(pPixelGroup)==<span class="keyword">true</span>)
00578         {
00579                 memset(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>,InitialValue,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>);
00580                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00581         }
00582         <span class="keywordflow">else</span>
00583         {
00584                 <a class="code" href="structTString.html">TString</a> str;
00585                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00586                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00587                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AllocAndInitColorsGroup() PixelGroup already contains colors"</span>);
00588                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00589                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00590         }
00591 }
00592 
<a name="l00593"></a><a class="code" href="group__pixelgroup.html#a22">00593</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroup.html#a22">k_CopyGroup</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pSource)
00594 {
00595         <a class="code" href="group__pixelgroup.html#a1">k_EmptyGroup</a>(pDest);
00596         pDest-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>=pSource-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>;
00597         pDest-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>=pSource-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>;
00598         pDest-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>=pSource-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>;
00599         pDest-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>=pSource-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>;
00600         pDest-&gt;<a class="code" href="structTPixelGroup.html#m4">Color</a>=pSource-&gt;<a class="code" href="structTPixelGroup.html#m4">Color</a>;
00601         pDest-&gt;<a class="code" href="structTPixelGroup.html#m5">Bits</a>=pSource-&gt;<a class="code" href="structTPixelGroup.html#m5">Bits</a>;
00602         pDest-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>=pSource-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;
00603         pDest-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>=pSource-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>;
00604         <span class="comment">/* allocate memory for positions and copy positions */</span>
00605         pDest-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>=(<a class="code" href="structT2DInt.html">T2DInt</a>*) malloc(pSource-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>*<span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>));
00606         memcpy(pDest-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>,pSource-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>,pSource-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>*<span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>));
00607         <span class="keywordflow">if</span> (pSource-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL) <span class="comment">/* only copy if colors are available */</span>
00608         {
00609                 <span class="comment">/* allocate memory for colors and copy colors */</span>
00610                 pDest-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>=(<a class="code" href="group__valuetypes.html#a5">UINT32</a>*) malloc(pSource-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>*<span class="keyword">sizeof</span>(<a class="code" href="group__valuetypes.html#a5">UINT32</a>));
00611                 memcpy(pDest-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>,pSource-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>,pSource-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>*<span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>));
00612         }
00613 }
00614 
<a name="l00615"></a><a class="code" href="group__pixelgroup.html#a23">00615</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a23">k_AddColorsToGroup</a>(<span class="keyword">const</span> <a class="code" href="structTImage.html">TImage</a>* pSource,<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00616 {
00617         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
00618         <a class="code" href="structT2DInt.html">T2DInt</a> p;
00619         <span class="keywordflow">if</span> ((pPixelGroup==NULL) || (pSource==NULL))
00620         {
00621                 <a class="code" href="structTString.html">TString</a> str;
00622                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00623                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00624                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddColorsToGroup() At least one of the parameters are NULL"</span>);
00625                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00626                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00627         }
00628         <span class="keywordflow">if</span>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==0)
00629         {
00630                 <a class="code" href="structTString.html">TString</a> str;
00631                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00632                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00633                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_WARNING,&amp;str,<span class="stringliteral">"k_AddColorsToGroup() PixelGroup contains no pixels - doing nothing"</span>);
00634                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00635                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00636         }
00637         <span class="keywordflow">if</span> (((UINT32)((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>+1))&gt;pSource-&gt;<a class="code" href="structTImage.html#m5">Height</a>) ||
00638                 ((UINT32)(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>+1)&gt;pSource-&gt;<a class="code" href="structTImage.html#m4">Width</a>))
00639         {
00640                 <a class="code" href="structTString.html">TString</a> str;
00641                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00642                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00643                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddColorsToGroup() Dimensions in PixelGroup (%d*%d) bigger than source image (%d*%d)"</span>,
00644                         (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>+1),(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>+1),pSource-&gt;<a class="code" href="structTImage.html#m4">Width</a>,pSource-&gt;<a class="code" href="structTImage.html#m5">Height</a>);
00645                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00646                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00647         }
00648         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00649         {
00650                 <a class="code" href="structTString.html">TString</a> str;
00651                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00652                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00653                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddColorsToGroup() PixelGroup already contains colors"</span>);
00654                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00655                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00656         }
00657         <a class="code" href="group__pixelgroup.html#a20">k_AllocColorsGroup</a>(pPixelGroup);
00658         <span class="keywordflow">for</span>(i=0; i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>; i++)
00659         {
00660                 p=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00661                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i]=<a class="code" href="group__image__c__only.html#a1">k_GetPixelFast</a>(p.<a class="code" href="structT2DInt.html#m0">x</a>,p.<a class="code" href="structT2DInt.html#m1">y</a>,pSource);
00662         }
00663         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m5">Bits</a>=pSource-&gt;<a class="code" href="structTImage.html#m6">Bits</a>;
00664         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00665 }
00666 
<a name="l00667"></a><a class="code" href="group__pixelgroup.html#a24">00667</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroup.html#a24">k_RemoveColors</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00668 {
00669         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
00670                 free(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>);
00671 }
00672 
<a name="l00673"></a><a class="code" href="group__pixelgroup.html#a25">00673</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a25">k_CopyGroupToImage</a>(<a class="code" href="structTPalette.html">TPalette</a>* pPalette, <a class="code" href="group__valuetypes.html#a5">UINT32</a> BackGround, <a class="code" href="structTImage.html">TImage</a>* pDest, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
00674 {
00675         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
00676         <a class="code" href="structT2DInt.html">T2DInt</a> r;
00677         <span class="keywordflow">if</span> ((pDest==NULL) || (pPixelGroup==NULL))
00678         {
00679                 <a class="code" href="structTString.html">TString</a> str;
00680                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00681                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00682                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_CopyGroupToImage() pPixelGroup or pDest parameter is NULL"</span>);
00683                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00684                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00685         }
00686 
00687         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==0)
00688         {
00689                 <a class="code" href="structTString.html">TString</a> str;
00690                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00691                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00692                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_CopyGroupToImage() no points stored in pPixelGroup"</span>);
00693                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00694                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00695         }
00696         <span class="comment">/* Case 1) No colors available */</span>
00697         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>==NULL)
00698         {
00699                 <span class="keywordflow">if</span> (pPalette!=NULL)
00700                 {
00701                         <a class="code" href="structTString.html">TString</a> str;
00702                         <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00703                         <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00704                         <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_WARNING,&amp;str,<span class="stringliteral">"k_CopyGroupToImage() No colors available, ignoring the palette provided"</span>);
00705                         <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00706                 }
00707                 <span class="comment">/* Allocate a binary image with correct dimensions */</span>
00708                 <a class="code" href="group__image.html#a2">k_AllocImage</a>((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x+1,
00709                                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y+1,1,pDest);
00710                 pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>=-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
00711                 pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>=-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
00712                 <span class="comment">/* Initialise background color */</span>
00713                 <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m4">Color</a>!=UNDEFINED)
00714                         <a class="code" href="group__image.html#a4">k_FlushImage</a>(BackGround,pDest);
00715                 <span class="keywordflow">else</span>
00716                         <a class="code" href="group__image.html#a4">k_FlushImage</a>(1,pDest);
00717                         
00718 
00719                 <span class="comment">/* copy pixels to image */</span>
00720                 <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m4">Color</a>==HIGHCOLOR)
00721                 {
00722                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00723                         {
00724                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00725                                 <a class="code" href="group__image__c__only.html#a3">k_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,1,pDest);
00726                         }
00727                 }
00728                 <span class="keywordflow">else</span>
00729                 {
00730                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00731                         {
00732                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00733                                 <a class="code" href="group__image__c__only.html#a3">k_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,0,pDest);
00734                         }
00735                 }
00736                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00737         }
00738         <span class="comment">/* Case 2) Colors available but no palette */</span>
00739         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pPalette==NULL) <span class="comment">/* colors are avialable - no check */</span>
00740         {
00741                 <span class="comment">/* Allocate an image with bit depth pPixelGroup-&gt;Bits and correct dimensions */</span>
00742                 <a class="code" href="group__image.html#a2">k_AllocImage</a>((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x+1,
00743                                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y+1,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m5">Bits</a>,pDest);
00744                 pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>=-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
00745                 pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>=-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
00746                 <span class="comment">/* Initialise background color */</span>
00747                 <a class="code" href="group__image.html#a4">k_FlushImage</a>(BackGround,pDest);
00748                 <span class="comment">/* copy pixels to image */</span>
00749                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00750                 {
00751                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00752                         <a class="code" href="group__image__c__only.html#a3">k_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],pDest);
00753                 }
00754                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00755         }
00756         <span class="comment">/* Case 3) Both colors and palette available */</span>
00757         <span class="keywordflow">else</span> <span class="comment">/* colors and palette are avialable - no check */</span>
00758         {
00759                 <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m5">Bits</a>==8) &amp;&amp; (pPalette-&gt;<a class="code" href="structTPalette.html#m0">PalEntries</a>!=256))
00760                 {
00761                         <a class="code" href="structTString.html">TString</a> str;
00762                         <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00763                         <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00764                         <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_CopyGroupToImage() pPixelGroup pixel depth is %d but pPalette has %d entries, should be 256"</span>,
00765                                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m5">Bits</a>,pPalette-&gt;<a class="code" href="structTPalette.html#m0">PalEntries</a>);
00766                         <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00767                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00768                 }
00769                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m5">Bits</a>==1) &amp;&amp; (pPalette-&gt;<a class="code" href="structTPalette.html#m0">PalEntries</a>!=2))
00770                 {
00771                         <a class="code" href="structTString.html">TString</a> str;
00772                         <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00773                         <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00774                         <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_CopyGroupToImage() pPixelGroup pixel depth is %d but pPalette has %d entries, should be 2"</span>,
00775                                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m5">Bits</a>,pPalette-&gt;<a class="code" href="structTPalette.html#m0">PalEntries</a>);
00776                         <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00777                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00778                 }
00779                 <span class="keywordflow">else</span>
00780                 {
00781                         <span class="comment">/* Allocate an image with bit depth pPixelGroup-&gt;Bits and correct dimensions */</span>
00782                         <a class="code" href="group__image.html#a2">k_AllocImage</a>((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x+1,
00783                                         (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y+1,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m5">Bits</a>,pDest);
00784                         pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>=-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
00785                         pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>=-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
00786                         <span class="comment">/* Initialise background color */</span>
00787                         <a class="code" href="group__image.html#a4">k_FlushImage</a>(BackGround,pDest);
00788 
00789                         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m5">Bits</a>==24)
00790                         {
00791                                 <a class="code" href="structTString.html">TString</a> str;
00792                                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00793                                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00794                                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_WARNING,&amp;str,<span class="stringliteral">"k_CopyGroupToImage() pPixelGroup bit depth is 24 b/p, ignoring the palette provided"</span>);
00795                                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00796                         }
00797                         <span class="keywordflow">else</span>
00798                         { <span class="comment">/* copy palette to new image */</span>
00799                                 <a class="code" href="group__palette.html#a6">k_CopyPalette</a> (&amp;(pDest-&gt;<a class="code" href="structTImage.html#m0">Pal</a>),pPalette);
00800                         }
00801                         <span class="comment">/* copy pixels to image */</span>
00802                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00803                         {
00804                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00805                                 <a class="code" href="group__image__c__only.html#a3">k_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],pDest);
00806                         }
00807                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00808                 }
00809         }
00810 }
00811 
<a name="l00812"></a><a class="code" href="group__pixelgroup.html#a26">00812</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a26">k_AddGroupToImage</a>(<a class="code" href="structTImage.html">TImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<a class="code" href="group__valuetypes.html#a5">UINT32</a> Color)
00813 {
00814         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
00815         <a class="code" href="structT2DInt.html">T2DInt</a> r;
00816         <span class="keywordtype">int</span> MinX = <a class="code" href="group__image.html#a31">k_GetMinX</a>(pDest) - pDest-&gt;<a class="code" href="structTImage.html#m9">BorderSize</a>;
00817         <span class="keywordtype">int</span> MinY = <a class="code" href="group__image.html#a32">k_GetMinY</a>(pDest) - pDest-&gt;<a class="code" href="structTImage.html#m9">BorderSize</a>;
00818         <span class="keywordtype">int</span> MaxX = <a class="code" href="group__image.html#a33">k_GetMaxX</a>(pDest) + pDest-&gt;<a class="code" href="structTImage.html#m9">BorderSize</a>;
00819         <span class="keywordtype">int</span> MaxY = <a class="code" href="group__image.html#a34">k_GetMaxY</a>(pDest) + pDest-&gt;<a class="code" href="structTImage.html#m9">BorderSize</a>;
00820         <span class="keywordflow">if</span> (pPixelGroup==NULL)
00821         {
00822                 <a class="code" href="structTString.html">TString</a> str;
00823                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00824                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00825                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupToImage() pPixelGroup is NULL"</span>);
00826                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00827                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00828         }
00829         <span class="comment">/* add positions */</span>
00830         <span class="comment">/* use special function if all pixels inside image */</span>
00831         <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>&gt;=MinX) &amp;&amp; (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>&gt;=MinY) &amp;&amp; 
00832                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>&lt;MaxX) &amp;&amp; (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>&lt;MaxY))
00833         {
00834                 <span class="keywordflow">return</span> k_AddGroupToImageFast(pDest,pPixelGroup,&amp;Color);
00835         }
00836         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>==0) &amp;&amp; (pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>==0))
00837         {
00838                 <span class="comment">/* special case: Origo=(0,0) */</span>
00839                 <span class="comment">/* slow insertion - need to range check all positions */</span>
00840                 <span class="comment">/* use the supplied pColor value */</span>
00841                 <span class="keywordflow">switch</span>(pDest-&gt;<a class="code" href="structTImage.html#m6">Bits</a>){
00842                 <span class="keywordflow">case</span> 1:
00843                         {
00844                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00845                                 {
00846                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00847                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
00848                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
00849                                         {
00850                                                 <a class="code" href="group__image__c__only.html#a11">k_SetPixel1bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,Color,*pDest);
00851                                         }
00852                                 }
00853                                 <span class="keywordflow">break</span>;
00854                         }
00855                 <span class="keywordflow">case</span> 8:
00856                         {
00857                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00858                                 {
00859                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00860                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
00861                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
00862                                         {
00863                                                 <a class="code" href="group__image__c__only.html#a12">k_SetPixel8bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,Color,*pDest);
00864                                         }
00865                                 }
00866                                 <span class="keywordflow">break</span>;
00867                         }
00868                 <span class="keywordflow">case</span> 24:
00869                         {
00870                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00871                                 {
00872                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00873                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
00874                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
00875                                         {
00876                                                 <a class="code" href="group__image__c__only.html#a13">k_SetPixel24bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,Color,*pDest);
00877                                         }
00878                                 }
00879                                 <span class="keywordflow">break</span>;
00880                         }
00881                 <span class="keywordflow">default</span>:
00882                         {
00883                                 <a class="code" href="structTString.html">TString</a> str;
00884                                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00885                                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00886                                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupToImage() Only implemented for 1,8 and 24 bit per pixels"</span>);
00887                                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00888                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00889                         }
00890                 }
00891         }
00892         <span class="keywordflow">else</span>
00893         {
00894                 <span class="comment">/* Origo is NOT (0,0) */</span>
00895                 <span class="comment">/* slow insertion - need to range check all positions and add origo */</span>
00896                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoX=pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
00897                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoY=pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
00898                 <span class="comment">/* use the supplied Color value */</span>
00899                 <span class="keywordflow">switch</span>(pDest-&gt;<a class="code" href="structTImage.html#m6">Bits</a>){
00900                 <span class="keywordflow">case</span> 1:
00901                         {
00902                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00903                                 {
00904                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00905                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
00906                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
00907                                         {
00908                                                 <a class="code" href="group__image__c__only.html#a11">k_SetPixel1bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,Color,*pDest);
00909                                         }
00910                                 }
00911                                 <span class="keywordflow">break</span>;
00912                         }
00913                 <span class="keywordflow">case</span> 8:
00914                         {
00915                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00916                                 {
00917                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00918                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
00919                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
00920                                         {
00921                                                 <a class="code" href="group__image__c__only.html#a12">k_SetPixel8bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,Color,*pDest);
00922                                         }
00923                                 }
00924                                 <span class="keywordflow">break</span>;
00925                         }
00926                 <span class="keywordflow">case</span> 24:
00927                         {
00928                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00929                                 {
00930                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00931                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
00932                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
00933                                         {
00934                                                 <a class="code" href="group__image__c__only.html#a13">k_SetPixel24bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,Color,*pDest);
00935                                         }
00936                                 }
00937                                 <span class="keywordflow">break</span>;
00938                         }
00939                 <span class="keywordflow">default</span>:
00940                         {
00941                                 <a class="code" href="structTString.html">TString</a> str;
00942                                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00943                                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00944                                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupToImage() Only implemented for 1,8 and 24 bit per pixels"</span>);
00945                                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00946                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00947                         }
00948                 }
00949         }
00950         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00951 }
00952 
<a name="l00953"></a><a class="code" href="group__pixelgroup.html#a27">00953</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a27">k_AddGroupToComplexImage</a>(<a class="code" href="structTComplexImage.html">TComplexImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup, <a class="code" href="group__valuetypes.html#a6">FLOAT32</a> Value)
00954 {
00955         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
00956         <a class="code" href="structT2DInt.html">T2DInt</a> r;
00957         <span class="keywordtype">int</span> MinX = <a class="code" href="group__compleximage.html#a16">kC_GetMinX</a>(pDest) - pDest-&gt;<a class="code" href="structTComplexImage.html#m7">BorderSize</a>;
00958         <span class="keywordtype">int</span> MinY = <a class="code" href="group__compleximage.html#a17">kC_GetMinY</a>(pDest) - pDest-&gt;<a class="code" href="structTComplexImage.html#m7">BorderSize</a>;
00959         <span class="keywordtype">int</span> MaxX = <a class="code" href="group__compleximage.html#a18">kC_GetMaxX</a>(pDest) + pDest-&gt;<a class="code" href="structTComplexImage.html#m7">BorderSize</a>;
00960         <span class="keywordtype">int</span> MaxY = <a class="code" href="group__compleximage.html#a19">kC_GetMaxY</a>(pDest) + pDest-&gt;<a class="code" href="structTComplexImage.html#m7">BorderSize</a>;
00961         <span class="keywordflow">if</span> (pPixelGroup==NULL)
00962         {
00963                 <a class="code" href="structTString.html">TString</a> str;
00964                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
00965                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
00966                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupToComplexImage() pPixelGroup is NULL"</span>);
00967                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
00968                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00969         }
00970         <span class="comment">/* add positions */</span>
00971         <span class="comment">/* use special function if all pixels inside image */</span>
00972         <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>&gt;=MinX) &amp;&amp; (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>&gt;=MinY) &amp;&amp; 
00973                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>&lt;MaxX) &amp;&amp; (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>&lt;MaxY))
00974         {
00975                 <span class="keywordflow">return</span> k_AddGroupToComplexImageFast(pDest,pPixelGroup,Value);
00976         }
00977         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pDest-&gt;<a class="code" href="structTComplexImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>==0) &amp;&amp; (pDest-&gt;<a class="code" href="structTComplexImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>==0))
00978         {
00979                 <span class="comment">/* special case: Origo=(0,0) */</span>
00980                 <span class="comment">/* slow insertion - need to range check all positions */</span>
00981                 <span class="comment">/* use the supplied Value */</span>
00982                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
00983                 {
00984                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
00985                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
00986                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
00987                         {
00988                                 <a class="code" href="group__compleximage__c__only.html#a5">kC_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,Value,Value,pDest);
00989                         }
00990                 }
00991         }
00992         <span class="keywordflow">else</span>
00993         {
00994                 <span class="comment">/* Origo is NOT (0,0) */</span>
00995                 <span class="comment">/* slow insertion - need to range check all positions and add origo */</span>
00996                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoX=pDest-&gt;<a class="code" href="structTComplexImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
00997                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoY=pDest-&gt;<a class="code" href="structTComplexImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
00998                 <span class="comment">/* use the supplied Color value */</span>
00999                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01000                 {
01001                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01002                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01003                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01004                         {
01005                                 <a class="code" href="group__compleximage__c__only.html#a5">kC_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,Value,Value,pDest);
01006                         }
01007                 }
01008         }
01009         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01010 }
01011 
<a name="l01012"></a><a class="code" href="group__pixelgroup.html#a28">01012</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a28">k_AddGroupToFloatImage</a>(<a class="code" href="structTFloatImage.html">TFloatImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup, <a class="code" href="group__valuetypes.html#a6">FLOAT32</a> Value)
01013 {
01014         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
01015         <a class="code" href="structT2DInt.html">T2DInt</a> r;
01016         <span class="keywordtype">int</span> MinX = <a class="code" href="group__floatimage.html#a16">kF_GetMinX</a>(pDest) - pDest-&gt;<a class="code" href="structTFloatImage.html#m7">BorderSize</a>;
01017         <span class="keywordtype">int</span> MinY = <a class="code" href="group__floatimage.html#a17">kF_GetMinY</a>(pDest) - pDest-&gt;<a class="code" href="structTFloatImage.html#m7">BorderSize</a>;
01018         <span class="keywordtype">int</span> MaxX = <a class="code" href="group__floatimage.html#a18">kF_GetMaxX</a>(pDest) + pDest-&gt;<a class="code" href="structTFloatImage.html#m7">BorderSize</a>;
01019         <span class="keywordtype">int</span> MaxY = <a class="code" href="group__floatimage.html#a19">kF_GetMaxY</a>(pDest) + pDest-&gt;<a class="code" href="structTFloatImage.html#m7">BorderSize</a>;
01020         <span class="keywordflow">if</span> (pPixelGroup==NULL)
01021         {
01022                 <a class="code" href="structTString.html">TString</a> str;
01023                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01024                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01025                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupToFloatImage() pPixelGroup is NULL"</span>);
01026                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01027                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01028         }
01029         <span class="comment">/* add positions */</span>
01030         <span class="comment">/* use special function if all pixels inside image */</span>
01031         <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>&gt;=MinX) &amp;&amp; (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>&gt;=MinY) &amp;&amp; 
01032                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>&lt;MaxX) &amp;&amp; (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>&lt;MaxY))
01033         {
01034                 <span class="keywordflow">return</span> k_AddGroupToFloatImageFast(pDest,pPixelGroup,Value);
01035         }
01036         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pDest-&gt;<a class="code" href="structTFloatImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>==0) &amp;&amp; (pDest-&gt;<a class="code" href="structTFloatImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>==0))
01037         {
01038                 <span class="comment">/* special case: Origo=(0,0) */</span>
01039                 <span class="comment">/* slow insertion - need to range check all positions */</span>
01040                 <span class="comment">/* use the supplied Value */</span>
01041                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01042                 {
01043                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01044                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01045                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01046                         {
01047                                 <a class="code" href="group__floatimage__c__only.html#a3">kF_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,Value,pDest);
01048                         }
01049                 }
01050         }
01051         <span class="keywordflow">else</span>
01052         {
01053                 <span class="comment">/* Origo is NOT (0,0) */</span>
01054                 <span class="comment">/* slow insertion - need to range check all positions and add origo */</span>
01055                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoX=pDest-&gt;<a class="code" href="structTFloatImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
01056                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoY=pDest-&gt;<a class="code" href="structTFloatImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
01057                 <span class="comment">/* use the supplied Color value */</span>
01058                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01059                 {
01060                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01061                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01062                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01063                         {
01064                                 <a class="code" href="group__floatimage__c__only.html#a3">kF_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,Value,pDest);
01065                         }
01066                 }
01067         }
01068         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01069 }
01070 
<a name="l01071"></a><a class="code" href="group__pixelgroup.html#a29">01071</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a29">k_AddGroupToIntImage</a>(<a class="code" href="structTIntImage.html">TIntImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup, <a class="code" href="group__valuetypes.html#a2">INT16</a> Value)
01072 {
01073         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
01074         <a class="code" href="structT2DInt.html">T2DInt</a> r;
01075         <span class="keywordtype">int</span> MinX = <a class="code" href="group__intimage.html#a16">kI_GetMinX</a>(pDest) - pDest-&gt;<a class="code" href="structTIntImage.html#m7">BorderSize</a>;
01076         <span class="keywordtype">int</span> MinY = <a class="code" href="group__intimage.html#a17">kI_GetMinY</a>(pDest) - pDest-&gt;<a class="code" href="structTIntImage.html#m7">BorderSize</a>;
01077         <span class="keywordtype">int</span> MaxX = <a class="code" href="group__intimage.html#a18">kI_GetMaxX</a>(pDest) + pDest-&gt;<a class="code" href="structTIntImage.html#m7">BorderSize</a>;
01078         <span class="keywordtype">int</span> MaxY = <a class="code" href="group__intimage.html#a19">kI_GetMaxY</a>(pDest) + pDest-&gt;<a class="code" href="structTIntImage.html#m7">BorderSize</a>;
01079         <span class="keywordflow">if</span> (pPixelGroup==NULL)
01080         {
01081                 <a class="code" href="structTString.html">TString</a> str;
01082                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01083                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01084                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupToIntImage() pPixelGroup is NULL"</span>);
01085                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01086                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01087         }
01088         <span class="comment">/* add positions */</span>
01089         <span class="comment">/* use special function if all pixels inside image */</span>
01090         <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>&gt;=MinX) &amp;&amp; (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>&gt;=MinY) &amp;&amp; 
01091                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>&lt;MaxX) &amp;&amp; (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>&lt;MaxY))
01092         {
01093                 <span class="keywordflow">return</span> k_AddGroupToIntImageFast(pDest,pPixelGroup,Value);
01094         }
01095         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pDest-&gt;<a class="code" href="structTIntImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>==0) &amp;&amp; (pDest-&gt;<a class="code" href="structTIntImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>==0))
01096         {
01097                 <span class="comment">/* special case: Origo=(0,0) */</span>
01098                 <span class="comment">/* slow insertion - need to range check all positions */</span>
01099                 <span class="comment">/* use the supplied Value */</span>
01100                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01101                 {
01102                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01103                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01104                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01105                         {
01106                                 <a class="code" href="group__intimage__c__only.html#a3">kI_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,Value,pDest);
01107                         }
01108                 }
01109         }
01110         <span class="keywordflow">else</span>
01111         {
01112                 <span class="comment">/* Origo is NOT (0,0) */</span>
01113                 <span class="comment">/* slow insertion - need to range check all positions and add origo */</span>
01114                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoX=pDest-&gt;<a class="code" href="structTIntImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
01115                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoY=pDest-&gt;<a class="code" href="structTIntImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
01116                 <span class="comment">/* use the supplied Color value */</span>
01117                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01118                 {
01119                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01120                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01121                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01122                         {
01123                                 <a class="code" href="group__intimage__c__only.html#a3">kI_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,Value,pDest);
01124                         }
01125                 }
01126         }
01127         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01128 }
01129 
<a name="l01130"></a><a class="code" href="group__pixelgroup.html#a30">01130</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a30">k_AddGroupColorsToImage</a>(<a class="code" href="structTImage.html">TImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01131 {
01132         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
01133         <a class="code" href="structT2DInt.html">T2DInt</a> r;
01134         <span class="keywordtype">int</span> MinX = <a class="code" href="group__image.html#a31">k_GetMinX</a>(pDest) - pDest-&gt;<a class="code" href="structTImage.html#m9">BorderSize</a>;
01135         <span class="keywordtype">int</span> MinY = <a class="code" href="group__image.html#a32">k_GetMinY</a>(pDest) - pDest-&gt;<a class="code" href="structTImage.html#m9">BorderSize</a>;
01136         <span class="keywordtype">int</span> MaxX = <a class="code" href="group__image.html#a33">k_GetMaxX</a>(pDest) + pDest-&gt;<a class="code" href="structTImage.html#m9">BorderSize</a>;
01137         <span class="keywordtype">int</span> MaxY = <a class="code" href="group__image.html#a34">k_GetMaxY</a>(pDest) + pDest-&gt;<a class="code" href="structTImage.html#m9">BorderSize</a>;
01138         <span class="keywordflow">if</span> (pPixelGroup==NULL)
01139         {
01140                 <a class="code" href="structTString.html">TString</a> str;
01141                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01142                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01143                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupColorsToImage() pPixelGroup is NULL"</span>);
01144                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01145                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01146         }
01147         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>==NULL)
01148         {
01149                 <a class="code" href="structTString.html">TString</a> str;
01150                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01151                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01152                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupColorsToImage() No colors in PixelGroup"</span>);
01153                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01154                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01155         }
01156         <span class="comment">/* add positions */</span>
01157         <span class="comment">/* use special function if all pixels inside image */</span>
01158         <span class="keywordflow">if</span> ((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>&gt;=MinX) &amp;&amp; (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>&gt;=MinY) &amp;&amp; 
01159                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>&lt;MaxX) &amp;&amp; (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>&lt;MaxY))
01160         {
01161                 <span class="keywordflow">return</span> k_AddGroupToImageFast(pDest,pPixelGroup,NULL);
01162         }
01163         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>==0) &amp;&amp; (pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>==0))
01164         {
01165                 <span class="comment">/* special case: Origo=(0,0) */</span>
01166                 <span class="comment">/* slow insertion - need to range check all positions */</span>
01167                 <span class="keywordflow">switch</span>(pDest-&gt;<a class="code" href="structTImage.html#m6">Bits</a>){
01168                 <span class="keywordflow">case</span> 1:
01169                         {
01170                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01171                                 {
01172                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01173                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01174                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01175                                         {
01176                                                 <a class="code" href="group__image__c__only.html#a11">k_SetPixel1bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01177                                         }
01178                                 }
01179                                 <span class="keywordflow">break</span>;
01180                         }
01181                 <span class="keywordflow">case</span> 8:
01182                         {
01183                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01184                                 {
01185                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01186                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01187                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01188                                         {
01189                                                 <a class="code" href="group__image__c__only.html#a12">k_SetPixel8bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01190                                         }
01191                                 }
01192                                 <span class="keywordflow">break</span>;
01193                         }
01194                 <span class="keywordflow">case</span> 24:
01195                         {
01196                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01197                                 {
01198                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01199                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01200                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01201                                         {
01202                                                 <a class="code" href="group__image__c__only.html#a13">k_SetPixel24bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01203                                         }
01204                                 }
01205                                 <span class="keywordflow">break</span>;
01206                         }
01207                 <span class="keywordflow">default</span>:
01208                         {
01209                                 <a class="code" href="structTString.html">TString</a> str;
01210                                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01211                                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01212                                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupColorsToImage() Only implemented for 1,8 and 24 bit per pixels"</span>);
01213                                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01214                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01215                         }
01216                 }
01217         }
01218         <span class="keywordflow">else</span>
01219         {
01220                 <span class="comment">/* Origo is NOT (0,0) */</span>
01221                 <span class="comment">/* slow insertion - need to range check all positions and add origo */</span>
01222                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoX=pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
01223                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoY=pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
01224                 <span class="keywordflow">switch</span>(pDest-&gt;<a class="code" href="structTImage.html#m6">Bits</a>){
01225                 <span class="keywordflow">case</span> 1:
01226                         {
01227                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01228                                 {
01229                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01230                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01231                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01232                                         {
01233                                                 <a class="code" href="group__image__c__only.html#a11">k_SetPixel1bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01234                                         }
01235                                 }
01236                                 <span class="keywordflow">break</span>;
01237                         }
01238                 <span class="keywordflow">case</span> 8:
01239                         {
01240                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01241                                 {
01242                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01243                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01244                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01245                                         {
01246                                                 <a class="code" href="group__image__c__only.html#a12">k_SetPixel8bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01247                                         }
01248                                 }
01249                                 <span class="keywordflow">break</span>;
01250                         }
01251                 <span class="keywordflow">case</span> 24:
01252                         {
01253                                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01254                                 {
01255                                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01256                                         <span class="keywordflow">if</span>((r.<a class="code" href="structT2DInt.html#m0">x</a> &gt;= -MinX) &amp;&amp; (r.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(int) MaxX) &amp;&amp;
01257                                            (r.<a class="code" href="structT2DInt.html#m1">y</a> &gt;= MinY)  &amp;&amp; (r.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(int) MaxY))
01258                                         {
01259                                                 <a class="code" href="group__image__c__only.html#a13">k_SetPixel24bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01260                                         }
01261                                 }
01262                                 <span class="keywordflow">break</span>;
01263                         }
01264                 <span class="keywordflow">default</span>:
01265                         {
01266                                 <a class="code" href="structTString.html">TString</a> str;
01267                                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01268                                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01269                                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupColorsToImage() Only implemented for 1,8 and 24 bit per pixels"</span>);
01270                                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01271                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01272                         }
01273                 }
01274         }
01275         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01276 }
01277 
01278 <span class="comment">/* assumens all pixels are in valid range */</span>
01279 <span class="keywordtype">bool</span> k_AddGroupToImageFast(<a class="code" href="structTImage.html">TImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup, <span class="keyword">const</span> <a class="code" href="group__valuetypes.html#a5">UINT32</a>* pColor)
01280 {
01281         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
01282         <a class="code" href="structT2DInt.html">T2DInt</a> r;
01283         <span class="keywordflow">if</span> ((pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>==0) &amp;&amp; (pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>==0))
01284         {
01285                 <span class="comment">/* special case: Origo=(0,0) */</span>
01286                 <span class="comment">/* fast insertion - no range check */</span>
01287                 <span class="keywordflow">if</span> (pColor==NULL)
01288                 {
01289                         <span class="keywordflow">switch</span>(pDest-&gt;<a class="code" href="structTImage.html#m6">Bits</a>){
01290                         <span class="keywordflow">case</span> 1:
01291                                 {
01292                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01293                                         {
01294                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01295                                                 <a class="code" href="group__image__c__only.html#a11">k_SetPixel1bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01296                                         }
01297                                         <span class="keywordflow">break</span>;
01298                                 }
01299                         <span class="keywordflow">case</span> 8:
01300                                 {
01301                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01302                                         {
01303                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01304                                                 <a class="code" href="group__image__c__only.html#a12">k_SetPixel8bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01305                                         }
01306                                         <span class="keywordflow">break</span>;
01307                                 }
01308                         <span class="keywordflow">case</span> 24:
01309                                 {
01310                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01311                                         {
01312                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01313                                                 <a class="code" href="group__image__c__only.html#a13">k_SetPixel24bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01314                                         }
01315                                         <span class="keywordflow">break</span>;
01316                                 }
01317                         <span class="keywordflow">default</span>:
01318                                 {
01319                                         <a class="code" href="structTString.html">TString</a> str;
01320                                         <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01321                                         <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01322                                         <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupToImageFast() Only implemented for 1,8 and 24 bit per pixels"</span>);
01323                                         <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01324                                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
01325                                 }
01326                         }
01327                 }
01328                 <span class="keywordflow">else</span>
01329                 {
01330                         <span class="comment">/* use the supplied pColor value */</span>
01331                         <span class="keywordflow">switch</span>(pDest-&gt;<a class="code" href="structTImage.html#m6">Bits</a>){
01332                         <span class="keywordflow">case</span> 1:
01333                                 {
01334                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01335                                         {
01336                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01337                                                 <a class="code" href="group__image__c__only.html#a11">k_SetPixel1bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,*pColor,*pDest);
01338                                         }
01339                                         <span class="keywordflow">break</span>;
01340                                 }
01341                         <span class="keywordflow">case</span> 8:
01342                                 {
01343                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01344                                         {
01345                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01346                                                 <a class="code" href="group__image__c__only.html#a12">k_SetPixel8bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,*pColor,*pDest);
01347                                         }
01348                                         <span class="keywordflow">break</span>;
01349                                 }
01350                         <span class="keywordflow">case</span> 24:
01351                                 {
01352                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01353                                         {
01354                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01355                                                 <a class="code" href="group__image__c__only.html#a13">k_SetPixel24bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,*pColor,*pDest);
01356                                         }
01357                                         <span class="keywordflow">break</span>;
01358                                 }
01359                         <span class="keywordflow">default</span>:
01360                                 {
01361                                         <a class="code" href="structTString.html">TString</a> str;
01362                                         <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01363                                         <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01364                                         <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupToImageFast() Only implemented for 1,8 and 24 bit per pixels"</span>);
01365                                         <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01366                                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
01367                                 }
01368                         }
01369                 }
01370         }
01371         <span class="keywordflow">else</span>
01372         {
01373                 <span class="comment">/* Origo is NOT (0,0) */</span>
01374                 <span class="comment">/* fast insertion - no range check but need to add origo */</span>
01375                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoX=pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
01376                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoY=pDest-&gt;<a class="code" href="structTImage.html#m10">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
01377                 <span class="keywordflow">if</span> (pColor==NULL)
01378                 {
01379                         <span class="keywordflow">switch</span>(pDest-&gt;<a class="code" href="structTImage.html#m6">Bits</a>){
01380                         <span class="keywordflow">case</span> 1:
01381                                 {
01382                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01383                                         {
01384                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01385                                                 <a class="code" href="group__image__c__only.html#a11">k_SetPixel1bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01386                                         }
01387                                         <span class="keywordflow">break</span>;
01388                                 }
01389                         <span class="keywordflow">case</span> 8:
01390                                 {
01391                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01392                                         {
01393                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01394                                                 <a class="code" href="group__image__c__only.html#a12">k_SetPixel8bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01395                                         }
01396                                 }
01397                         <span class="keywordflow">case</span> 24:
01398                                 {
01399                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01400                                         {
01401                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01402                                                 <a class="code" href="group__image__c__only.html#a13">k_SetPixel24bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],*pDest);
01403                                         }
01404                                         <span class="keywordflow">break</span>;
01405                                 }
01406                         <span class="keywordflow">default</span>:
01407                                 {
01408                                         <a class="code" href="structTString.html">TString</a> str;
01409                                         <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01410                                         <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01411                                         <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupToImageFast() Only implemented for 1,8 and 24 bit per pixels"</span>);
01412                                         <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01413                                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
01414                                 }
01415                         }
01416                 }
01417                 <span class="keywordflow">else</span>
01418                 {
01419                         <span class="comment">/* use the supplied pColor value */</span>
01420                         <span class="keywordflow">switch</span>(pDest-&gt;<a class="code" href="structTImage.html#m6">Bits</a>){
01421                         <span class="keywordflow">case</span> 1:
01422                                 {
01423                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01424                                         {
01425                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01426                                                 <a class="code" href="group__image__c__only.html#a11">k_SetPixel1bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,*pColor,*pDest);
01427                                         }
01428                                         <span class="keywordflow">break</span>;
01429                                 }
01430                         <span class="keywordflow">case</span> 8:
01431                                 {
01432                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01433                                         {
01434                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01435                                                 <a class="code" href="group__image__c__only.html#a12">k_SetPixel8bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,*pColor,*pDest);
01436                                         }
01437                                         <span class="keywordflow">break</span>;
01438                                 }
01439                         <span class="keywordflow">case</span> 24:
01440                                 {
01441                                         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01442                                         {
01443                                                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01444                                                 <a class="code" href="group__image__c__only.html#a13">k_SetPixel24bp</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,*pColor,*pDest);
01445                                         }
01446                                         <span class="keywordflow">break</span>;
01447                                 }
01448                         <span class="keywordflow">default</span>:
01449                                 {
01450                                         <a class="code" href="structTString.html">TString</a> str;
01451                                         <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01452                                         <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01453                                         <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_AddGroupToImageFast() Only implemented for 1,8 and 24 bit per pixels"</span>);
01454                                         <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01455                                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
01456                                 }
01457                         }
01458                 }
01459         }
01460         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01461 }
01462 
01463 <span class="comment">/* assumens all pixels are in valid range */</span>
01464 <span class="keywordtype">bool</span> k_AddGroupToComplexImageFast(<a class="code" href="structTComplexImage.html">TComplexImage</a>* pDest,<span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<a class="code" href="group__valuetypes.html#a6">FLOAT32</a> Value)
01465 {
01466         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
01467         <a class="code" href="structT2DInt.html">T2DInt</a> r;
01468         <span class="keywordflow">if</span> ((pDest-&gt;<a class="code" href="structTComplexImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>==0) &amp;&amp; (pDest-&gt;<a class="code" href="structTComplexImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>==0))
01469         {
01470                 <span class="comment">/* special case: Origo=(0,0) */</span>
01471                 <span class="comment">/* fast insertion - no range check */</span>
01472                 <span class="comment">/* use the supplied Value */</span>
01473                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01474                 {
01475                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01476                         <a class="code" href="group__compleximage__c__only.html#a5">kC_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,Value,Value,pDest);
01477                 }
01478         }
01479         <span class="keywordflow">else</span>
01480         {
01481                 <span class="comment">/* Origo is NOT (0,0) */</span>
01482                 <span class="comment">/* fast insertion - no range check but need to add origo */</span>
01483                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoX=pDest-&gt;<a class="code" href="structTComplexImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
01484                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoY=pDest-&gt;<a class="code" href="structTComplexImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
01485                 <span class="comment">/* use the supplied Value */</span>
01486                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01487                 {
01488                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01489                         <a class="code" href="group__compleximage__c__only.html#a5">kC_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,Value,Value,pDest);
01490                 }
01491         }
01492         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01493 }
01494 
01495 <span class="keywordtype">bool</span> k_AddGroupToFloatImageFast(<a class="code" href="structTFloatImage.html">TFloatImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup, <a class="code" href="group__valuetypes.html#a6">FLOAT32</a> Value)
01496 {
01497         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
01498         <a class="code" href="structT2DInt.html">T2DInt</a> r;
01499         <span class="keywordflow">if</span> ((pDest-&gt;<a class="code" href="structTFloatImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>==0) &amp;&amp; (pDest-&gt;<a class="code" href="structTFloatImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>==0))
01500         {
01501                 <span class="comment">/* special case: Origo=(0,0) */</span>
01502                 <span class="comment">/* fast insertion - no range check */</span>
01503                 <span class="comment">/* use the supplied Value */</span>
01504                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01505                 {
01506                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01507                         <a class="code" href="group__floatimage__c__only.html#a3">kF_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,Value,pDest);
01508                 }
01509         }
01510         <span class="keywordflow">else</span>
01511         {
01512                 <span class="comment">/* Origo is NOT (0,0) */</span>
01513                 <span class="comment">/* fast insertion - no range check but need to add origo */</span>
01514                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoX=pDest-&gt;<a class="code" href="structTFloatImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
01515                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoY=pDest-&gt;<a class="code" href="structTFloatImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
01516                 <span class="comment">/* use the supplied Value */</span>
01517                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01518                 {
01519                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01520                         <a class="code" href="group__floatimage__c__only.html#a3">kF_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,Value,pDest);
01521                 }
01522         }
01523         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01524 }
01525 
01526 <span class="keywordtype">bool</span> k_AddGroupToIntImageFast(<a class="code" href="structTIntImage.html">TIntImage</a>* pDest, <span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup, <a class="code" href="group__valuetypes.html#a2">INT16</a> Value)
01527 {
01528         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
01529         <a class="code" href="structT2DInt.html">T2DInt</a> r;
01530         <span class="keywordflow">if</span> ((pDest-&gt;<a class="code" href="structTIntImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>==0) &amp;&amp; (pDest-&gt;<a class="code" href="structTIntImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>==0))
01531         {
01532                 <span class="comment">/* special case: Origo=(0,0) */</span>
01533                 <span class="comment">/* fast insertion - no range check */</span>
01534                 <span class="comment">/* use the supplied Value */</span>
01535                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01536                 {
01537                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01538                         <a class="code" href="group__intimage__c__only.html#a3">kI_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,Value,pDest);
01539                 }
01540         }
01541         <span class="keywordflow">else</span>
01542         {
01543                 <span class="comment">/* Origo is NOT (0,0) */</span>
01544                 <span class="comment">/* fast insertion - no range check but need to add origo */</span>
01545                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoX=pDest-&gt;<a class="code" href="structTIntImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m0">x</a>;
01546                 <a class="code" href="group__valuetypes.html#a2">INT16</a> OrigoY=pDest-&gt;<a class="code" href="structTIntImage.html#m8">Origo</a>.<a class="code" href="structT2DInt.html#m1">y</a>;
01547                 <span class="comment">/* use the supplied Value */</span>
01548                 <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01549                 {
01550                         r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01551                         <a class="code" href="group__intimage__c__only.html#a3">kI_SetPixelFast</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>+OrigoX,r.<a class="code" href="structT2DInt.html#m1">y</a>+OrigoY,Value,pDest);
01552                 }
01553         }
01554         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01555 }
01556 
01557 <span class="keywordtype">bool</span> k_GroupToBinaryImage(<span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<a class="code" href="group__abstract.html#a4">COLORTYPE</a> Color,<a class="code" href="structTImage.html">TImage</a>* pDest)
01558 {
01559         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
01560         <a class="code" href="structT2DInt.html">T2DInt</a> r;
01561         {
01562                 <a class="code" href="structTString.html">TString</a> str;
01563                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01564                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01565                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_WARNING,&amp;str,<span class="stringliteral">"k_GroupToBinaryImage() This function will be removed in next version - use k_CopyGroupToImage()"</span>);
01566                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01567         }
01568         <span class="keywordflow">if</span> (pPixelGroup==NULL)
01569         {
01570                 <a class="code" href="structTString.html">TString</a> str;
01571                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01572                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01573                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GroupToBinaryImage() pPixelGroup parameter is NULL"</span>);
01574                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01575                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01576         }
01577 
01578         <span class="comment">/* Allocate a binary image with correct dimensions */</span>
01579         <a class="code" href="group__image.html#a2">k_AllocImage</a>((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x+1,
01580                         (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y+1,1,pDest);
01581         <span class="comment">/* Initialise background color */</span>
01582         <span class="keywordflow">if</span> (Color==HIGHCOLOR) 
01583                 <a class="code" href="group__image.html#a4">k_FlushImage</a>(0,pDest);
01584         <span class="keywordflow">else</span>
01585                 <a class="code" href="group__image.html#a4">k_FlushImage</a>(1,pDest);
01586         <span class="comment">/* copy pixels to image */</span>
01587         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01588         {
01589                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01590                 <span class="keywordflow">if</span> (Color==HIGHCOLOR)
01591                         <a class="code" href="group__image__c__only.html#a2">k_SetPixel</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x,r.<a class="code" href="structT2DInt.html#m1">y</a>-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y,1,pDest);
01592                 <span class="keywordflow">else</span>
01593                         <a class="code" href="group__image__c__only.html#a2">k_SetPixel</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x,r.<a class="code" href="structT2DInt.html#m1">y</a>-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y,0,pDest);
01594         }
01595         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01596 }
01597 
01598 <span class="keywordtype">bool</span> k_GroupToGrayImage(<span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<a class="code" href="group__valuetypes.html#a1">UINT8</a> Background,
01599                                                    <span class="keyword">const</span> <a class="code" href="structTImage.html">TImage</a>* pSource, <a class="code" href="structTImage.html">TImage</a>* pDest)
01600 {
01601         <span class="keywordtype">unsigned</span> i;
01602         <a class="code" href="structT2DInt.html">T2DInt</a> r;
01603         {
01604                 <a class="code" href="structTString.html">TString</a> str;
01605                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01606                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01607                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_WARNING,&amp;str,<span class="stringliteral">"k_GroupToGrayImage() This function will be removed in next version - use k_CopyGroupToImage()"</span>);
01608                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01609         }
01610         <span class="keywordflow">if</span> ((pPixelGroup==NULL) || (pSource==NULL) || (pDest==NULL))
01611         {
01612                 <a class="code" href="structTString.html">TString</a> str;
01613                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01614                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01615                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GroupToGrayImage() One of the parameters is NULL"</span>);
01616             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01617                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01618         }
01619         <span class="comment">/* Allocate a gray tone image with correct dimensions */</span>
01620         <a class="code" href="group__image.html#a2">k_AllocImage</a>((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x+1,
01621                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y+1,8,pDest);
01622         <a class="code" href="group__image.html#a4">k_FlushImage</a>(Background,pDest); <span class="comment">/* Initialise background color */</span>
01623         <span class="comment">/* copy pixels to image */</span>
01624         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01625         {
01626                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01627                 <a class="code" href="group__image__c__only.html#a2">k_SetPixel</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x,r.<a class="code" href="structT2DInt.html#m1">y</a>-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y,k_GetPixel(r.<a class="code" href="structT2DInt.html#m0">x</a>,r.<a class="code" href="structT2DInt.html#m1">y</a>,pSource),pDest);
01628         }
01629         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01630 }
01631 
01632 <span class="keywordtype">bool</span> k_GroupColorsToGrayImage(<span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<a class="code" href="group__valuetypes.html#a1">UINT8</a> Background,
01633                                                           <a class="code" href="structTImage.html">TImage</a>* pDest)
01634 {
01635         <span class="keywordtype">unsigned</span> i;
01636         <a class="code" href="structT2DInt.html">T2DInt</a> r;
01637         {
01638                 <a class="code" href="structTString.html">TString</a> str;
01639                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01640                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01641                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_WARNING,&amp;str,<span class="stringliteral">"k_GroupColorsToGrayImage() This function will be removed in next version - use k_CopyGroupToImage()"</span>);
01642                 <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01643         }
01644         <span class="keywordflow">if</span> ((pPixelGroup==NULL) || (pDest==NULL))
01645         {
01646                 <a class="code" href="structTString.html">TString</a> str;
01647                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01648                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01649                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_GroupToGrayImage() One of the parameters is NULL"</span>);
01650             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01651                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01652         }
01653         <span class="comment">/* Allocate a gray tone image with correct dimensions */</span>
01654         <a class="code" href="group__image.html#a2">k_AllocImage</a>((pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x+1,
01655                 (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y+1,8,pDest);
01656         <a class="code" href="group__image.html#a4">k_FlushImage</a>(Background,pDest); <span class="comment">/* Initialise background color */</span>
01657         <span class="comment">/* copy pixels to image */</span>
01658         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01659         {
01660                 r=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01661                 <a class="code" href="group__image__c__only.html#a2">k_SetPixel</a>(r.<a class="code" href="structT2DInt.html#m0">x</a>-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x,r.<a class="code" href="structT2DInt.html#m1">y</a>-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[i],pDest);
01662         }
01663         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01664 }
01665 
<a name="l01666"></a><a class="code" href="group__pixelgroup.html#a34">01666</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroup.html#a34">k_PosInGroup</a>(<span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup, <a class="code" href="structT2DInt.html">T2DInt</a> Pos,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* pIndex)
01667 {
01668         <span class="keywordflow">if</span> (pPixelGroup==NULL)
01669         {
01670                 <a class="code" href="structTString.html">TString</a> str;
01671                 <a class="code" href="group__string.html#a0">k_InitString</a>(&amp;str);
01672                 <a class="code" href="group__string.html#a15">k_AddFileAndLine</a>(str);
01673                 <a class="code" href="group__errorhandling.html#a0">k_ShowMessage</a>(IPL_ERROR,&amp;str,<span class="stringliteral">"k_PosInGroup() pPixelGroup parameter is NULL"</span>);
01674             <a class="code" href="group__string.html#a1">k_EmptyString</a>(&amp;str);
01675                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01676         }
01677         <span class="keywordflow">else</span>
01678         {
01679                 <a class="code" href="structT2DInt.html">T2DInt</a>* p=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>;
01680                 <a class="code" href="structT2DInt.html">T2DInt</a>* end=&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>]);
01681                 <span class="keywordflow">while</span>(p!=end)
01682                 {
01683                         <span class="keywordflow">if</span> ((p-&gt;<a class="code" href="structT2DInt.html#m0">x</a>==Pos.<a class="code" href="structT2DInt.html#m0">x</a>) &amp;&amp; (p-&gt;<a class="code" href="structT2DInt.html#m1">y</a>==Pos.<a class="code" href="structT2DInt.html#m1">y</a>))
01684                         {
01685                                 *pIndex=p-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>;
01686                                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
01687                         }
01688                         p++;
01689                 }
01690                 <span class="comment">/* if the loop didn't return, the given position is not in the group */</span>
01691                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01692         }
01693 }
01694 
<a name="l01695"></a><a class="code" href="group__pixelgroup.html#a35">01695</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroup.html#a35">k_PrintGroupInfo</a>(<span class="keyword">const</span> <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<span class="keywordtype">bool</span> PrintPositions,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> PosPrLine)
01696 {
01697         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x,y;
01698         <span class="keywordflow">if</span> (PosPrLine==0)
01699                 PosPrLine=1; <span class="comment">/* minimum one position on each line! */</span>
01700         printf(<span class="stringliteral">"**************** PixelGroup info ********************\n"</span>);
01701         printf(<span class="stringliteral">" Positions: Top=(%d,%d) Bottom=(%d,%d) Left=(%d,%d) Right=(%d,%d)\n"</span>,
01702                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m0">x</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m0">x</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>,
01703                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m1">y</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m1">y</a>);
01704         printf(<span class="stringliteral">" Width=%d Height=%d\n"</span>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>+1,
01705                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>-pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>+1);
01706         printf(<span class="stringliteral">" NumberOfPixels=%d AllocatedPixels=%d\n"</span>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>,
01707                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>);
01708         <span class="keywordflow">if</span> (PrintPositions==<span class="keyword">true</span>)
01709         {
01710                 printf(<span class="stringliteral">"\n"</span>);
01711                 <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>!=NULL)
01712                 {
01713                         <span class="keywordflow">for</span>(x=0; x&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>/PosPrLine); x++)
01714                         {
01715                                 <span class="keywordflow">for</span>(y=0; y&lt;PosPrLine; y++)
01716                                 {
01717                                         printf(<span class="stringliteral">" pos %d=(%d,%d) "</span>,x*PosPrLine+y,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x*PosPrLine+y].<a class="code" href="structT2DInt.html#m0">x</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x*PosPrLine+y].<a class="code" href="structT2DInt.html#m1">y</a>);
01718                                 }
01719                                 printf(<span class="stringliteral">"\n"</span>);
01720                         }
01721                         <span class="keywordflow">for</span>(y=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a> %  PosPrLine);
01722                         y&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>; y++)
01723                         {
01724                                 printf(<span class="stringliteral">" pos %d=(%d,%d) "</span>,y,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[y].<a class="code" href="structT2DInt.html#m0">x</a>,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[y].<a class="code" href="structT2DInt.html#m1">y</a>);
01725                         }
01726                         printf(<span class="stringliteral">"\n"</span>);
01727                         
01728                 }
01729                 <span class="keywordflow">else</span>
01730                 {
01731                         printf(<span class="stringliteral">"No positions in PixelGroup\n"</span>);
01732                 }
01733         }
01734 }
01735 
<a name="l01736"></a><a class="code" href="group__pixelgroup.html#a36">01736</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroup.html#a36">k_GroupUpdateBoundaries</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01737 {
01738         <a class="code" href="structT2DInt.html">T2DInt</a> Pos;
01739         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
01740         <span class="comment">/* set the boundary values so that a update is guaranteed */</span>
01741         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m0">x</a>=0;
01742         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>=32767;
01743         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m0">x</a>=0;
01744         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>=-32768;
01745         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>=32767;
01746         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m1">y</a>=0;
01747         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>=-32768;
01748         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m1">y</a>=0;
01749         <span class="keywordflow">for</span> (i=0;i&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;i++)
01750         {
01751                 Pos=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[i];
01752                 <span class="comment">/* Update max. and min. values in pPixelGroup */</span>
01753                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m0">x</a>&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>).x)
01754                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>=Pos;
01755                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m0">x</a>&gt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>).x)
01756                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>=Pos;
01757                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m1">y</a>&lt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>).y)
01758                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>=Pos;
01759                 <span class="keywordflow">if</span> (Pos.<a class="code" href="structT2DInt.html#m1">y</a>&gt;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>).y)
01760                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>=Pos;
01761         }
01762 }
01763 
<a name="l01764"></a><a class="code" href="group__pixelgroupfast.html#a0">01764</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroupfast.html#a0">k_RemovePosFromGroupFast</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01765 {
01766         <span class="comment">/* Move last position to Index */</span>
01767         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-1];
01768         <span class="comment">/* If colors are present move the corresponding color */</span>
01769         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>!=NULL)
01770         {
01771                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-1];
01772         }
01773         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>--;
01774         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01775 }
01776 
<a name="l01777"></a><a class="code" href="group__pixelgroupfast.html#a1">01777</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroupfast.html#a1">k_AddPosToGroupFast</a>(<a class="code" href="group__valuetypes.html#a2">INT16</a> x, <a class="code" href="group__valuetypes.html#a2">INT16</a> y, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01778 {
01779         <a class="code" href="structT2DInt.html">T2DInt</a> p;
01780         p.<a class="code" href="structT2DInt.html#m0">x</a>=x;
01781         p.<a class="code" href="structT2DInt.html#m1">y</a>=y;
01782         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>)
01783         {
01784                 <span class="comment">/* allocate 2 times previous allocated memory or 2 if memory never allocated before */</span>
01785                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a> = 
01786                         (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>==0) ? 2 : 2*pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>;
01787                 <a class="code" href="group__pixelgroup.html#a4">k_ReAllocGroup</a>(pPixelGroup,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>);
01788         }
01789         <span class="comment">/* insert pixel and increment total pixels variable */</span>
01790         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>++] = p;
01791 }
01792 
<a name="l01793"></a><a class="code" href="group__pixelgroupfast.html#a2">01793</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroupfast.html#a2">k_Add2DPosToGroupFast</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Pos, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01794 {
01795         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>)
01796         {
01797                 <span class="comment">/* allocate 2 times previous allocated memory or 2 if memory never allocated before */</span>
01798                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a> = 
01799                         (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>==0) ? 2 : 2*pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>;
01800 
01801                 <a class="code" href="group__pixelgroup.html#a4">k_ReAllocGroup</a>(pPixelGroup,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>);
01802         }
01803         <span class="comment">/* insert pixel and increment total pixels variable */</span>
01804         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>++] = Pos;
01805 }
01806 
<a name="l01807"></a><a class="code" href="group__pixelgroupfast.html#a3">01807</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroupfast.html#a3">k_InsertPosInGroupFast</a>(<a class="code" href="group__valuetypes.html#a2">INT16</a> x, <a class="code" href="group__valuetypes.html#a2">INT16</a> y, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01808 {
01809         <span class="comment">/* Add a dummy position to the end of position array */</span>
01810         <a class="code" href="group__pixelgroupfast.html#a2">k_Add2DPosToGroupFast</a>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[0],pPixelGroup);
01811         <span class="comment">/* Move positions */</span>
01812         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]),
01813                 <span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
01814         <span class="comment">/* Store the new position at Index */</span>
01815         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index].<a class="code" href="structT2DInt.html#m0">x</a>=x;
01816         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index].<a class="code" href="structT2DInt.html#m1">y</a>=y;
01817         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01818 }
01819 
<a name="l01820"></a><a class="code" href="group__pixelgroupfast.html#a4">01820</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroupfast.html#a4">k_Insert2DPosInGroupFast</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Pos, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01821 {
01822         <span class="comment">/* Add a dummy position to the end of position array */</span>
01823         <a class="code" href="group__pixelgroupfast.html#a2">k_Add2DPosToGroupFast</a>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[0],pPixelGroup);
01824         <span class="comment">/* Move positions */</span>
01825         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]),
01826                 <span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
01827         <span class="comment">/* Store the new position at Index */</span>
01828         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]=Pos;
01829         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01830 }
01831 
<a name="l01832"></a><a class="code" href="group__pixelgroupfast.html#a5">01832</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroupfast.html#a5">k_AddPosColorToGroupFast</a>(<a class="code" href="group__valuetypes.html#a2">INT16</a> x, <a class="code" href="group__valuetypes.html#a2">INT16</a> y, <a class="code" href="group__valuetypes.html#a5">UINT32</a> Color, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01833 {
01834         <a class="code" href="structT2DInt.html">T2DInt</a> p;
01835         p.<a class="code" href="structT2DInt.html#m0">x</a>=x;
01836         p.<a class="code" href="structT2DInt.html#m1">y</a>=y;
01837         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>)
01838         {
01839                 <span class="comment">/* allocate 2 times previous allocated memory or 2 if memory never allocated before */</span>
01840                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a> = 
01841                         (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>==0) ? 2 : 2*pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>;
01842                 <a class="code" href="group__pixelgroup.html#a4">k_ReAllocGroup</a>(pPixelGroup,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>);
01843         }
01844         <span class="comment">/* insert pixel and color and increment total pixels variable */</span>
01845         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>] = Color;
01846         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>++] = p;
01847 }
01848 
<a name="l01849"></a><a class="code" href="group__pixelgroupfast.html#a6">01849</a> <span class="keywordtype">void</span> <a class="code" href="group__pixelgroupfast.html#a6">k_Add2DPosColorToGroupFast</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Pos, <a class="code" href="group__valuetypes.html#a5">UINT32</a> Color, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01850 {
01851         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>)
01852         {
01853                 <span class="comment">/* allocate 2 times previous allocated memory or 2 if memory never allocated before */</span>
01854                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a> = 
01855                         (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>==0) ? 2 : 2*pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>;
01856 
01857                 <a class="code" href="group__pixelgroup.html#a4">k_ReAllocGroup</a>(pPixelGroup,pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m7">AllocatedPixels</a>);
01858         }
01859         <span class="comment">/* insert pixel and color and increment total pixels variable */</span>
01860         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>] = Color;
01861         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>++] = Pos;
01862 }
01863 
<a name="l01864"></a><a class="code" href="group__pixelgroupfast.html#a7">01864</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroupfast.html#a7">k_InsertPosColorInGroupFast</a>(<a class="code" href="group__valuetypes.html#a2">INT16</a> x, <a class="code" href="group__valuetypes.html#a2">INT16</a> y, <a class="code" href="group__valuetypes.html#a5">UINT32</a> Color, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01865 {
01866         <span class="comment">/* Add a dummy position to the end of position array */</span>
01867         <a class="code" href="group__pixelgroupfast.html#a6">k_Add2DPosColorToGroupFast</a>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[0],0,pPixelGroup);
01868         <span class="comment">/* Move positions */</span>
01869         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]),
01870                 <span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
01871         <span class="comment">/* Move colors */</span>
01872         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]),
01873                 <span class="keyword">sizeof</span>(<a class="code" href="group__valuetypes.html#a5">UINT32</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
01874         <span class="comment">/* Store the new position at Index */</span>
01875         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index].<a class="code" href="structT2DInt.html#m0">x</a>=x;
01876         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index].<a class="code" href="structT2DInt.html#m1">y</a>=y;
01877         <span class="comment">/* Store the new color at Index */</span>
01878         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]=Color;
01879         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01880 }
01881 
<a name="l01882"></a><a class="code" href="group__pixelgroupfast.html#a8">01882</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroupfast.html#a8">k_Insert2DPosColorInGroupFast</a>(<a class="code" href="structT2DInt.html">T2DInt</a> Pos, <a class="code" href="group__valuetypes.html#a5">UINT32</a> Color, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Index, <a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01883 {
01884         <span class="comment">/* Add a dummy position to the end of position array */</span>
01885         <a class="code" href="group__pixelgroupfast.html#a6">k_Add2DPosColorToGroupFast</a>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[0],0,pPixelGroup);
01886         <span class="comment">/* Move positions */</span>
01887         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]),
01888                 <span class="keyword">sizeof</span>(<a class="code" href="structT2DInt.html">T2DInt</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
01889         <span class="comment">/* Move colors */</span>
01890         memmove(&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index+1]),&amp;(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]),
01891                 <span class="keyword">sizeof</span>(<a class="code" href="group__valuetypes.html#a5">UINT32</a>)*(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>-Index-1));
01892         <span class="comment">/* Store the new position at Index */</span>
01893         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[Index]=Pos;
01894         <span class="comment">/* Store the new color at Index */</span>
01895         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m9">pColor</a>[Index]=Color;
01896         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01897 }
01898 
01899 <span class="comment">/************************************************/</span>
01900 <span class="comment">/********        Private functions       ********/</span>
01901 <span class="comment">/************************************************/</span>
01902 
01903 <span class="comment">/*  Checks if the boundaries stored in the pixelgroup have to be updated when</span>
01904 <span class="comment">        removing a position at given Index. Internal use only.</span>
01905 <span class="comment">        @param Index The Index in the pixelgroup to be removed. Must be in range! */</span>
01906 <span class="keywordtype">void</span> k_UpdateBoundaries(<a class="code" href="structT2DInt.html">T2DInt</a> RemovedPos,<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup)
01907 {
01908         <span class="comment">/* if the pixelgroup is empty after removing the actual position</span>
01909 <span class="comment">                then reset all boundaries to (0,0) */</span>
01910         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==0)
01911         {
01912                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>=0;
01913                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m1">y</a>=0;
01914                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>=0;
01915                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m1">y</a>=0;
01916                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m0">x</a>=0;
01917                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>=0;
01918                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m0">x</a>=0;
01919                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>=0;
01920         }
01921         <span class="keywordflow">else</span>
01922         {
01923                 <span class="keywordflow">if</span> ((RemovedPos.<a class="code" href="structT2DInt.html#m0">x</a>==(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>)) &amp;&amp; (RemovedPos.<a class="code" href="structT2DInt.html#m1">y</a>==(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m1">y</a>)))
01924                 {
01925                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x;
01926                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>; <span class="comment">/* Set Left.x to the highest possible value */</span>
01927                         <span class="keywordflow">for</span>(x=0;x&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;x++)
01928                         {
01929                                 <span class="keywordflow">if</span>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x].<a class="code" href="structT2DInt.html#m0">x</a>&lt;=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>)
01930                                 {
01931                                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x];
01932                                 }
01933                         }
01934                 }
01935                 <span class="keywordflow">if</span> ((RemovedPos.<a class="code" href="structT2DInt.html#m0">x</a>==(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>)) &amp;&amp; (RemovedPos.<a class="code" href="structT2DInt.html#m1">y</a>==(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m1">y</a>)))
01936                 {
01937                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x;
01938                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m2">Left</a>.<a class="code" href="structT2DInt.html#m0">x</a>; <span class="comment">/* Set Right.x to the lowest possible value */</span>
01939                         <span class="keywordflow">for</span>(x=0;x&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;x++)
01940                         {
01941                                 <span class="keywordflow">if</span>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x].<a class="code" href="structT2DInt.html#m0">x</a>&gt;=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>.<a class="code" href="structT2DInt.html#m0">x</a>)
01942                                 {
01943                                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m3">Right</a>=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x];
01944                                 }
01945                         }
01946                 }
01947                 <span class="keywordflow">if</span> ((RemovedPos.<a class="code" href="structT2DInt.html#m0">x</a>==(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m0">x</a>)) &amp;&amp; (RemovedPos.<a class="code" href="structT2DInt.html#m1">y</a>==(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>)))
01948                 {
01949                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x;
01950                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>; <span class="comment">/* Set Top.y to the highest possible value */</span>
01951                         <span class="keywordflow">for</span>(x=0;x&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;x++)
01952                         {
01953                                 <span class="keywordflow">if</span>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x].<a class="code" href="structT2DInt.html#m1">y</a>&lt;=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>)
01954                                 {
01955                                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x];
01956                                 }
01957                         }
01958                 }
01959                 <span class="keywordflow">if</span> ((RemovedPos.<a class="code" href="structT2DInt.html#m0">x</a>==(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m0">x</a>)) &amp;&amp; (RemovedPos.<a class="code" href="structT2DInt.html#m1">y</a>==(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>)))
01960                 {
01961                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x;
01962                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m0">Top</a>.<a class="code" href="structT2DInt.html#m1">y</a>; <span class="comment">/* Set Bottom.y to the lowest possible value */</span>
01963                         <span class="keywordflow">for</span>(x=0;x&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;x++)
01964                         {
01965                                 <span class="keywordflow">if</span>(pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x].<a class="code" href="structT2DInt.html#m1">y</a>&gt;=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>.<a class="code" href="structT2DInt.html#m1">y</a>)
01966                                 {
01967                                         pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m1">Bottom</a>=pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x];
01968                                 }
01969                         }
01970                 }
01971         }
01972 }
01973 
<a name="l01974"></a><a class="code" href="group__pixelgroupfast.html#a9">01974</a> <span class="keywordtype">bool</span> <a class="code" href="group__pixelgroupfast.html#a9">k_GroupAddOffset</a>(<a class="code" href="structTPixelGroup.html">TPixelGroup</a>* pPixelGroup,<a class="code" href="structT2DInt.html">T2DInt</a> Offset)
01975 {
01976         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x;
01977         <span class="keywordflow">if</span> (pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>==0)
01978                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
01979         <span class="keywordflow">for</span>(x=0;x&lt;pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m6">NumberOfPixels</a>;x++)
01980         {
01981                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x].<a class="code" href="structT2DInt.html#m0">x</a> += Offset.<a class="code" href="structT2DInt.html#m0">x</a>;
01982                 pPixelGroup-&gt;<a class="code" href="structTPixelGroup.html#m8">pPos</a>[x].<a class="code" href="structT2DInt.html#m1">y</a> += Offset.<a class="code" href="structT2DInt.html#m1">y</a>;
01983         }
01984         <span class="comment">/* updates boundaries, have to run through all values in case</span>
01985 <span class="comment">           the boundaries were not up to date before this function call */</span>
01986         <a class="code" href="group__pixelgroup.html#a36">k_GroupUpdateBoundaries</a>(pPixelGroup);
01987         <span class="keywordflow">return</span> <span class="keyword">true</span>;
01988 }
01989 
01990 <span class="preprocessor">#ifdef _IPL98_USING_CPP</span>
01991 <span class="preprocessor"></span>} <span class="comment">/* end of extern "C" */</span>
01992 } <span class="comment">/* end namespace ipl */</span>
01993 <span class="preprocessor">#endif</span>
</pre></div><!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Tag</title>
<base target="_top">
</head>

<body bgcolor="#FFFFFF">

<hr>

<p align="right"><font size="2"><em>Updated <!--webbot bot="Timestamp" s-type="EDITED" s-format="%d. %B %Y %H:%M" startspan -->21. juli 2002 12:29<!--webbot bot="Timestamp" endspan i-checksum="38834" --> by
<a href="http://www.mip.sdu.dk/~edr/">René Dencker
Eriksen</a>(<a href="mailto:edr@mip.sdu.dk">edr@mip.sdu.dk</a>)</em></font></p>
</body>
</html>
